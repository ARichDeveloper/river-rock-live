// eslint-disable-file no-unused-expression
/*! For license information please see v3.min.js.LICENSE */
var boxcast=function(s){function e(e){for(var t,n,r=e[0],o=e[1],i=0,a=[];i<r.length;i++)n=r[i],l[n]&&a.push(l[n][0]),l[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(s[t]=o[t]);for(c&&c(e);a.length;)a.shift()()}var n={},l={0:0};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(i){var e=[],n=l[i];if(0!==n)if(n)e.push(n[2]);else{var t=new Promise(function(e,t){n=l[i]=[e,t]});e.push(n[2]=t);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+""+e+".v3.min.js"}(i),r=function(e){a.onerror=a.onload=null,clearTimeout(s);var t=l[i];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,o=new Error("Loading chunk "+i+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,t[1](o)}l[i]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:a})},12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(e)},o.m=s,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="//js.boxcast.com/3.13.28/",o.oe=function(e){throw console.error(e),e};var t=window.webpackJsonpboxcast=window.webpackJsonpboxcast||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var c=r;return o(o.s=238)}([function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";n.r(t);var r=n(49),a=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=new a.a({namespace:"",storages:["local","cookie","session","memory"],expireDays:365}),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"getItem",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},r=s.get(e);return null==r?n:r}},{key:"setItem",value:function(e,t){return s.set(e,t),t}},{key:"getFromRingBuffer",value:function(e,t){var n=this.getItem(e,[]);return n&&n.length?l(n,t):a.a.cookie.get("".concat(e,"-").concat(t))}},{key:"addToRingBuffer",value:function(e,t,n,r){var o=this.getItem(e,[]),i=l(o,t);null==i?o.push([t,n]):function(e,t,n){e.forEach(function(e){e[0]==t&&(e[1]=n)})}(o,t,n),o.length>r&&o.shift(),s.set(e,o),a.a.cookie.set("".concat(e,"-").concat(t),n)}},{key:"basil",get:function(){return s}}]),e}();function l(e,t){var n;return e.forEach(function(e){e[0]==t&&(n=e[1])}),n}var c=n(13),u=n(3),d=n(5),p=n.n(d);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return e*(Math.PI/180)}function m(e,t){return e.filter(function(e){return-1!==t.indexOf(e)}).length}var g=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lastFound={lat:null,lon:null,zip:null,country:null,region:null},this._options={}}return function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(e,[{key:"initGA",value:function(e){this.gaEvent=e}},{key:"isCurrentUserAllowed",value:function(n){var r=this;return this._options=n,this.zipBased?this.getCurrentPosition().then(function(e){if(!e.zip)return r.gaEvent("zip:denied","","geoblock"),!1;var t=function(e){return e.split(/\s*[\s,]\s*/).map(function(e){return e.trim()}).filter(function(e){return!!e})}(r.zipBased);return n.is_whitelist&&m(t,[""+e.zip])?(r.gaEvent("zip:allowed","","geoblock"),!0):n.is_whitelist||m(t,[""+e.zip])?(r.gaEvent("zip:denied","","geoblock"),!1):(r.gaEvent("zip:allowed","","geoblock"),!0)}):this.currentDistanceFrom(n.center_lat,n.center_lon).then(function(e){return n.is_whitelist&&e<=n.radius?(r.gaEvent("latlon:allowed","","geoblock"),!0):!n.is_whitelist&&e>=n.radius?(r.gaEvent("latlon:allowed","","geoblock"),!0):(r.gaEvent("latlon:denied","","geoblock"),!1)})}},{key:"currentDistanceFrom",value:function(t,n){return this.getCurrentPosition().then(function(e){return function(e,t,n,r){var o=f(n-e),i=f(r-t),a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(f(e))*Math.cos(f(n))*Math.sin(i/2)*Math.sin(i/2),s=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return 3961*s}(e.lat,e.lon,t,n)})}},{key:"getCurrentPosition",value:function(){var r=this;return new p.a(function(t,n){if(r._lastFound.lat&&r._lastFound.lon)return t(r._lastFound);"ip"==r._options.strategy?r.tryFreeIpLookup().then(function(e){r._lastFound=e,t(e)}).catch(function(e){return n(e)}):"html5"==r._options.strategy?r.tryHTML5Lookup().then(function(e){r._lastFound=e,t(e)}).catch(function(e){r.tryFreeIpLookup().then(function(e){r._lastFound=e,t(e)}).catch(function(e){return n(e)})}):r.tryFreeIpLookup().then(function(e){r._lastFound=e,t(e)}).catch(function(e){r.tryHTML5Lookup().then(function(e){r._lastFound=e,t(e)}).catch(function(e){return n(e)})})})}},{key:"tryFreeIpLookup",value:function(){return function(n,r,o){return new p.a(function(e,t){setTimeout(t,r),V(n,o).then(e,t)})}(u.a.get("geoServiceUrl"),3e3).then(function(e){return e.json()}).then(function(e){return{lat:e.latitude,lon:e.longitude,zip:e.zip_code,country:e.country_code,region:e.region_code}})}},{key:"tryHTML5Lookup",value:function(){var o=this;return new p.a(function(n,r){if(!navigator.geolocation||!navigator.geolocation.getCurrentPosition)return r("navigator.geolocation not supported");setTimeout(function(){o.gaEvent("error:html5:timeout","","geoblock"),r("timed out waiting for geolocation")},15e3),navigator.geolocation.getCurrentPosition(function(t){o.ensureGMapsLoaded().then(function(){return o.metaFromGoogleMaps(t)}).then(function(e){return n({lat:t.coords.latitude,lon:t.coords.longitude,zip:e.zip,country:e.country,region:e.region})}).catch(function(e){o.gaEvent("error:html5:gmapmeta",e,"geoblock"),r("unable to compute geo meta for lat/lon: ".concat(e))})},function(e){r(e)})})}},{key:"metaFromGoogleMaps",value:function(n){return new p.a(function(s,l){try{var e=new google.maps.Geocoder,t=new google.maps.LatLng(n.coords.latitude,n.coords.longitude);e.geocode({latLng:t},function(e,t){if(t!=google.maps.GeocoderStatus.OK)return l(t);for(var n={},r=e[0],o=0;o<r.address_components.length;o++){var i=r.address_components[o],a=i.types;-1<a.indexOf("postal_code")?n.zip=i.short_name:-1<a.indexOf("country")?n.country=i.short_name:-1<a.indexOf("administrative_area_level_1")&&-1<a.indexOf("political")&&(n.region=i.short_name)}if(n.zip||n.country||n.region)return s(n);l("Unable to find location meta")})}catch(e){return l(e.message)}})}},{key:"ensureGMapsLoaded",value:function(){return window.google&&window.google.maps&&window.google.maps.Geocoder?new p.a(function(e,t){return e()}):K.loadScript("//maps.googleapis.com/maps/api/js?key=".concat(u.a.get("googleMapsAPIKey")))}},{key:"lastFound",get:function(){var e={};for(var t in this._lastFound)e[t]=this._lastFound[t];return e}},{key:"zipBased",get:function(){return this._options.zips||this._options.zip}}]),e}());function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function b(e,t){if(window.boxcast&&window.boxcast.debug||"error"==e){for(var n,r=c.a.format(c.a.now()),o=arguments.length,i=new Array(2<o?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];(n=console[e]).call.apply(n,[console,"[".concat(t,"] [").concat(r,"]")].concat(i))}}var _=["debug","log","info","warn","error"],A=function(){function t(e){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.namespace=e,_.forEach(function(r){o[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,[r,o.namespace].concat(t))}})}return v(t,null,[{key:"getInstance",value:function(e){return new t(e)}}]),v(t,[{key:"persist",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.apply(void 0,["persist",this.namespace,"<<<--- PERSIST ---\x3e>>"].concat(n))}},{key:"analytics",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,["analytics",this.namespace,"<<<--- ANALYTICS ---\x3e>>"].concat(t))}}]),t}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=null,x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(e,null,[{key:"now",value:function(){if(null===k){if(k=!(!window.performance||!window.performance.now))try{window.performance.now()}catch(e){console.warn("Error calling window.performance.now():",e),k=!1}k||console.warn("Browser does not support performance API; MonotonicClock falling back to Clock")}return k?window.performance.now():c.a.now().getTime()}}]),e}(),T=n(47),w={};function S(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function C(e){return"string"!=typeof e&&(e=String(e)),e}function P(t){this.map={},t instanceof P?t.forEach(function(e,t){this.append(t,e)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function j(e){if(e.bodyUsed)return p.a.reject(new TypeError("Already read"));e.bodyUsed=!0}function O(n){return new p.a(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function R(e){var t=new FileReader;return t.readAsArrayBuffer(e),O(t)}P.prototype.append=function(e,t){e=S(e),t=C(t);var n=this.map[e];n||(n=[],this.map[e]=n),n.push(t)},P.prototype.delete=function(e){delete this.map[S(e)]},P.prototype.get=function(e){var t=this.map[S(e)];return t?t[0]:null},P.prototype.getAll=function(e){return this.map[S(e)]||[]},P.prototype.has=function(e){return this.map.hasOwnProperty(S(e))},P.prototype.set=function(e,t){this.map[S(e)]=[C(t)]},P.prototype.forEach=function(n,r){Object.getOwnPropertyNames(this.map).forEach(function(t){this.map[t].forEach(function(e){n.call(r,e,t,this)},this)},this)};var L="FileReader"in w&&"Blob"in w&&function(){try{return new Blob,!0}catch(e){return!1}}(),I="FormData"in w,D="ArrayBuffer"in w;function M(){return this.bodyUsed=!1,this._initBody=function(e){if("string"==typeof(this._bodyInit=e))this._bodyText=e;else if(L&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(I&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!D||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},L?(this.blob=function(){var e=j(this);if(e)return e;if(this._bodyBlob)return p.a.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return p.a.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(R)},this.text=function(){var e=j(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader;return t.readAsText(e),O(t)}(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return p.a.resolve(this._bodyText)}):this.text=function(){var e=j(this);return e||p.a.resolve(this._bodyText)},I&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(e,t){var n=(t=t||{}).body;if(F.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new P(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new P(t.headers)),this.method=function(e){var t=e.toUpperCase();return-1<N.indexOf(t)?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function B(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function U(e,t){t=t||{},this.type="default",this.status=t.status,this.ok=200<=this.status&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof P?t.headers:new P(t.headers),this.url=t.url||"",this._initBody(e)}F.prototype.clone=function(){return new F(this)},M.call(F.prototype),M.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},U.error=function(){var e=new U(null,{status:0,statusText:""});return e.type="error",e};var H=[301,302,303,307,308];U.redirect=function(e,t){if(-1===H.indexOf(t))throw new RangeError("Invalid status code");return new U(null,{status:t,headers:{location:e}})},w.Headers=P,w.Request=F,w.Response=U,w.fetch=function(t,n){return new p.a(function(r,o){var e;e=F.prototype.isPrototypeOf(t)&&!n?t:new F(t,n);var i=new XMLHttpRequest;i.onload=function(){var e=1223===i.status?204:i.status;if(e<100||599<e)o(new TypeError("Network request failed"));else{var t={status:e,statusText:i.statusText,headers:function(e){var o=new P;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var t=e.trim().split(":"),n=t.shift().trim(),r=t.join(":").trim();o.append(n,r)}),o}(i),url:"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0},n="response"in i?i.response:i.responseText;r(new U(n,t))}},i.onerror=function(){o(new TypeError("Network request failed"))},i.open(e.method,e.url,!0),"include"===e.credentials&&(i.withCredentials=!0),"responseType"in i&&L&&(i.responseType="blob"),e.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===e._bodyInit?null:e._bodyInit)})};var V=w.fetch,G=n(11),K=n(41),z=n(48);n.d(t,"BrowserStorage",function(){return i}),n.d(t,"Clock",function(){return c.a}),n.d(t,"GeoBlock",function(){return g}),n.d(t,"Logger",function(){return A}),n.d(t,"MonotonicClock",function(){return x}),n.d(t,"Util",function(){return T.a}),n.d(t,"fetch",function(){return V}),n.d(t,"broadcast",function(){return G}),n.d(t,"dom",function(){return K}),n.d(t,"searchQuery",function(){return z}),n.d(t,"Promise",function(){return p.a})},function($f,_f,ag){var dg;window,dg=function(){return fg={},gg.m=eg={"./node_modules/babel-runtime/core-js/array/from.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/array/from.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/get-iterator.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/get-iterator.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/json/stringify.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/json/stringify.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/assign.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/assign.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/create.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/create.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/define-property.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/define-property.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/get-own-property-descriptor.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/keys.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/keys.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/set-prototype-of.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/object/set-prototype-of.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/symbol/index.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol/iterator.js":function(e,t,n){e.exports={default:n("./node_modules/core-js/library/fn/symbol/iterator.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/classCallCheck.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/babel-runtime/helpers/createClass.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/object/define-property.js"),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}t.default=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}},"./node_modules/babel-runtime/helpers/extends.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/object/assign.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},"./node_modules/babel-runtime/helpers/inherits.js":function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("./node_modules/babel-runtime/core-js/object/set-prototype-of.js")),o=a(n("./node_modules/babel-runtime/core-js/object/create.js")),i=a(n("./node_modules/babel-runtime/helpers/typeof.js"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},"./node_modules/babel-runtime/helpers/possibleConstructorReturn.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/helpers/typeof.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},"./node_modules/babel-runtime/helpers/toConsumableArray.js":function(e,t,n){"use strict";t.__esModule=!0;var r,o=n("./node_modules/babel-runtime/core-js/array/from.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},"./node_modules/babel-runtime/helpers/typeof.js":function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("./node_modules/babel-runtime/core-js/symbol/iterator.js")),o=a(n("./node_modules/babel-runtime/core-js/symbol.js")),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},"./node_modules/clappr-zepto/zepto.js":function(Ai,Bi){var Di,Ei,Fi,Gi,cj,dj,Hi,Ii,Ji,Ki,Li,Mi,Ni,Oi,Pi,Qi,Ri,Si,Ti,Ui,Wi,Xi,Yi,Zi,$i,_i,aj,bj,ej,fj,gj,Vq,rr,sr,Cu,Du,Eu,Fu,Hu,Iu,Ju,Ku,Ci=(Ii=(Hi=[]).concat,Ji=Hi.filter,Ki=Hi.slice,Li=window.document,Mi={},Ni={},Oi={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Pi=/^\s*<(\w+|!)[^>]*>/,Qi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ri=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Si=/^(?:body|html)$/i,Ti=/([A-Z])/g,Ui=["val","css","html","text","data","width","height","offset"],Wi=Li.createElement("table"),Xi=Li.createElement("tr"),Yi={tr:Li.createElement("tbody"),tbody:Wi,thead:Wi,tfoot:Wi,td:Xi,th:Xi,"*":Li.createElement("div")},Zi=/complete|loaded|interactive/,$i=/^[\w-]*$/,aj=(_i={}).toString,bj={},ej=Li.createElement("div"),fj={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},gj=Array.isArray||function(e){return e instanceof Array},bj.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,o=e.parentNode,i=!o;return i&&(o=ej).appendChild(e),r=~bj.qsa(o,t).indexOf(e),i&&ej.removeChild(e),r},cj=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dj=function(n){return Ji.call(n,function(e,t){return n.indexOf(e)==t})},bj.fragment=function(e,t,n){var r,o,i;return Qi.test(e)&&(r=Fi(Li.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(Ri,"<$1></$2>")),t===Di&&(t=Pi.test(e)&&RegExp.$1),t in Yi||(t="*"),(i=Yi[t]).innerHTML=""+e,r=Fi.each(Ki.call(i.childNodes),function(){i.removeChild(this)})),mj(n)&&(o=Fi(r),Fi.each(n,function(e,t){-1<Ui.indexOf(e)?o[e](t):o.attr(e,t)})),r},bj.Z=function(e,t){return new vj(e,t)},bj.isZ=function(e){return e instanceof bj.Z},bj.init=function(e,t){var n;if(!e)return bj.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&Pi.test(e))n=bj.fragment(e,RegExp.$1,t),e=null;else{if(t!==Di)return Fi(t).find(e);n=bj.qsa(Li,e)}else{if(ij(e))return Fi(Li).ready(e);if(bj.isZ(e))return e;if(gj(e))n=function(e){return Ji.call(e,function(e){return null!=e})}(e);else if(lj(e))n=[e],e=null;else if(Pi.test(e))n=bj.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==Di)return Fi(t).find(e);n=bj.qsa(Li,e)}}return bj.Z(n,e)},(Fi=function(e,t){return bj.init(e,t)}).extend=function(t){var n,e=Ki.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,r){for(Ei in n)r&&(mj(n[Ei])||gj(n[Ei]))?(mj(n[Ei])&&!mj(t[Ei])&&(t[Ei]={}),gj(n[Ei])&&!gj(t[Ei])&&(t[Ei]=[]),e(t[Ei],n[Ei],r)):n[Ei]!==Di&&(t[Ei]=n[Ei])}(t,e,n)}),t},bj.qsa=function(e,t){var n,r="#"==t[0],o=!r&&"."==t[0],i=r||o?t.slice(1):t,a=$i.test(i);return e.getElementById&&a&&r?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:Ki.call(a&&!r&&e.getElementsByClassName?o?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},Fi.contains=Li.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t&&t.parentNode;)if(t===e)return!0;return!1},Fi.type=hj,Fi.isFunction=ij,Fi.isWindow=jj,Fi.isArray=gj,Fi.isPlainObject=mj,Fi.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},Fi.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},Fi.inArray=function(e,t,n){return Hi.indexOf.call(t,e,n)},Fi.camelCase=cj,Fi.trim=function(e){return null==e?"":String.prototype.trim.call(e)},Fi.uuid=0,Fi.support={},Fi.expr={},Fi.noop=function(){},Fi.map=function(e,t){var n,r,o,i=[];if(nj(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&i.push(n);else for(o in e)null!=(n=t(e[o],o))&&i.push(n);return function(e){return 0<e.length?Fi.fn.concat.apply([],e):e}(i)},Fi.each=function(e,t){var n,r;if(nj(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},Fi.grep=function(e,t){return Ji.call(e,t)},window.JSON&&(Fi.parseJSON=JSON.parse),Fi.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){_i["[object "+t+"]"]=t.toLowerCase()}),Fi.fn={constructor:bj.Z,length:0,forEach:Hi.forEach,reduce:Hi.reduce,push:Hi.push,sort:Hi.sort,splice:Hi.splice,indexOf:Hi.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=bj.isZ(t)?t.toArray():t;return Ii.apply(bj.isZ(this)?this.toArray():this,n)},map:function(n){return Fi(Fi.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return Fi(Ki.apply(this,arguments))},ready:function(e){return Zi.test(Li.readyState)&&Li.body?e(Fi):Li.addEventListener("DOMContentLoaded",function(){e(Fi)},!1),this},get:function(e){return e===Di?Ki.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return Hi.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return ij(t)?this.not(this.not(t)):Fi(Ji.call(this,function(e){return bj.matches(e,t)}))},add:function(e,t){return Fi(dj(this.concat(Fi(e,t))))},is:function(e){return 0<this.length&&bj.matches(this[0],e)},not:function(t){var n=[];if(ij(t)&&t.call!==Di)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):nj(t)&&ij(t.item)?Ki.call(t):Fi(t);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return Fi(n)},has:function(e){return this.filter(function(){return lj(e)?Fi.contains(this,e):Fi(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!lj(e)?e:Fi(e)},last:function(){var e=this[this.length-1];return e&&!lj(e)?e:Fi(e)},find:function(e){var n=this;return e?"object"==typeof e?Fi(e).filter(function(){var t=this;return Hi.some.call(n,function(e){return Fi.contains(e,t)})}):1==this.length?Fi(bj.qsa(this[0],e)):this.map(function(){return bj.qsa(this,e)}):Fi()},closest:function(n,r){var o=[],i="object"==typeof n&&Fi(n);return this.each(function(e,t){for(;t&&!(i?0<=i.indexOf(t):bj.matches(t,n));)t=t!==r&&!kj(t)&&t.parentNode;t&&o.indexOf(t)<0&&o.push(t)}),Fi(o)},parents:function(e){for(var t=[],n=this;0<n.length;)n=Fi.map(n,function(e){if((e=e.parentNode)&&!kj(e)&&t.indexOf(e)<0)return t.push(e),e});return xj(t,e)},parent:function(e){return xj(dj(this.pluck("parentNode")),e)},children:function(e){return xj(this.map(function(){return uj(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||Ki.call(this.childNodes)})},siblings:function(e){return xj(this.map(function(e,t){return Ji.call(uj(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return Fi.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=function(e){var t,n;return Mi[e]||(t=Li.createElement(e),Li.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),Mi[e]=n),Mi[e]}(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=ij(t);if(this[0]&&!n)var r=Fi(t).get(0),o=r.parentNode||1<this.length;return this.each(function(e){Fi(this).wrapAll(n?t.call(this,e):o?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){var t;for(Fi(this[0]).before(e=Fi(e));(t=e.children()).length;)e=t.first();Fi(e).append(this)}return this},wrapInner:function(o){var i=ij(o);return this.each(function(e){var t=Fi(this),n=t.contents(),r=i?o.call(this,e):o;n.length?n.wrapAll(r):t.append(r)})},unwrap:function(){return this.parent().each(function(){Fi(this).replaceWith(Fi(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=Fi(this);(t===Di?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return Fi(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return Fi(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;Fi(this).empty().append(yj(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=yj(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(lj(t))for(Ei in t)zj(this,Ei,t[Ei]);else zj(this,t,yj(this,n,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:Di},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){zj(this,e)},this)})},prop:function(t,n){return t=fj[t]||t,1 in arguments?this.each(function(e){this[t]=yj(this,n,e,this[t])}):this[0]&&this[0][t]},removeProp:function(e){return e=fj[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(Ti,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?Bj(r):Di},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=yj(this,t,e,this.value)})):this[0]&&(this[0].multiple?Fi(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(i){if(i)return this.each(function(e){var t=Fi(this),n=yj(this,i,e,t.offset()),r=t.offsetParent().offset(),o={top:n.top-r.top,left:n.left-r.left};"static"==t.css("position")&&(o.position="relative"),t.css(o)});if(!this.length)return null;if(Li.documentElement!==this[0]&&!Fi.contains(Li.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[cj(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(gj(e)){if(!n)return;var r={},o=getComputedStyle(n,"");return Fi.each(e,function(e,t){r[t]=n.style[cj(t)]||o.getPropertyValue(t)}),r}}var i="";if("string"==hj(e))t||0===t?i=qj(e)+":"+sj(e,t):this.each(function(){this.style.removeProperty(qj(e))});else for(Ei in e)e[Ei]||0===e[Ei]?i+=qj(Ei)+":"+sj(Ei,e[Ei])+";":this.each(function(){this.style.removeProperty(qj(Ei))});return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(Fi(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&Hi.some.call(this,function(e){return this.test(Aj(e))},rj(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){Gi=[];var t=Aj(this);yj(this,n,e,t).split(/\s+/g).forEach(function(e){Fi(this).hasClass(e)||Gi.push(e)},this),Gi.length&&Aj(this,t+(t?" ":"")+Gi.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===Di)return Aj(this,"");Gi=Aj(this),yj(this,t,e,Gi).split(/\s+/g).forEach(function(e){Gi=Gi.replace(rj(e)," ")}),Aj(this,Gi.trim())}})},toggleClass:function(n,r){return n?this.each(function(e){var t=Fi(this);yj(this,n,e,Aj(this)).split(/\s+/g).forEach(function(e){(r===Di?!t.hasClass(e):r)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===Di?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===Di?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=Si.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Fi(e).css("margin-top"))||0,n.left-=parseFloat(Fi(e).css("margin-left"))||0,r.top+=parseFloat(Fi(t[0]).css("border-top-width"))||0,r.left+=parseFloat(Fi(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Li.body;e&&!Si.test(e.nodeName)&&"static"==Fi(e).css("position");)e=e.offsetParent;return e})}},Fi.fn.detach=Fi.fn.remove,["width","height"].forEach(function(r){var o=r.replace(/./,function(e){return e[0].toUpperCase()});Fi.fn[r]=function(t){var e,n=this[0];return t===Di?jj(n)?n["inner"+o]:kj(n)?n.documentElement["scroll"+o]:(e=this.offset())&&e[r]:this.each(function(e){(n=Fi(this)).css(r,yj(this,t,e,n[r]()))})}}),["after","prepend","before","append"].forEach(function(t,a){var s=a%2;Fi.fn[t]=function(){var n,r,o=Fi.map(arguments,function(e){var t=[];return"array"==(n=hj(e))?(e.forEach(function(e){return e.nodeType!==Di?t.push(e):Fi.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(bj.fragment(e)))}),t):"object"==n||null==e?e:bj.fragment(e)}),i=1<this.length;return o.length<1?this:this.each(function(e,t){r=s?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var n=Fi.contains(Li.documentElement,r);o.forEach(function(e){if(i)e=e.cloneNode(!0);else if(!r)return Fi(e).remove();r.insertBefore(e,t),n&&function e(t,n){n(t);for(var r=0,o=t.childNodes.length;r<o;r++)e(t.childNodes[r],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t.eval.call(t,e.innerHTML)}})})})},Fi.fn[s?t+"To":"insert"+(a?"Before":"After")]=function(e){return Fi(e)[t](this),this}}),bj.Z.prototype=vj.prototype=Fi.fn,bj.uniq=dj,bj.deserializeValue=Bj,Fi.zepto=bj,Fi);function hj(e){return null==e?String(e):_i[aj.call(e)]||"object"}function ij(e){return"function"==hj(e)}function jj(e){return null!=e&&e==e.window}function kj(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function lj(e){return"object"==hj(e)}function mj(e){return lj(e)&&!jj(e)&&Object.getPrototypeOf(e)==Object.prototype}function nj(e){var t=!!e&&"length"in e&&e.length,n=Fi.type(e);return"function"!=n&&!jj(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function qj(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function rj(e){return e in Ni?Ni[e]:Ni[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function sj(e,t){return"number"!=typeof t||Oi[qj(e)]?t:t+"px"}function uj(e){return"children"in e?Ki.call(e.children):Fi.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function vj(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function xj(e,t){return null==t?Fi(e):Fi(e).filter(t)}function yj(e,t,n,r){return ij(t)?t.call(e,n,r):t}function zj(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function Aj(e,t){var n=e.className||"",r=n&&n.baseVal!==Di;if(t===Di)return r?n.baseVal:n;r?n.baseVal=t:e.className=t}function Bj(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?Fi.parseJSON(t):t):t}catch(e){return t}}function tr(e){var o=[["resolve","done",rr.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",rr.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",rr.Callbacks({memory:1})]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return tr(function(i){rr.each(o,function(e,r){var o=rr.isFunction(t[e])&&t[e];s[r[1]](function(){var e=o&&o.apply(this,arguments);if(e&&rr.isFunction(e.promise))e.promise().done(i.resolve).fail(i.reject).progress(i.notify);else{var t=this===a?i.promise():this,n=o?[e]:arguments;i[r[0]+"With"](t,n)}})}),t=null}).promise()},promise:function(e){return null!=e?rr.extend(e,a):a}},s={};return rr.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s}function Gu(e){return!(!(e=Cu(e)).width()&&!e.height())&&"none"!==e.css("display")}function Lu(e,t){e=e.replace(/=#\]/g,'="#"]');var n,r,o=Iu.exec(e);if(o&&o[2]in Hu&&(n=Hu[o[2]],r=o[3],e=o[1],r)){var i=Number(r);r=isNaN(i)?r.replace(/^["']|["']$/g,""):i}return t(e,n,r)}window.Zepto=Ci,void 0===window.$&&(window.$=Ci),function(Co){var Fo,Go,Do=+new Date,Eo=window.document,Ho=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Io=/^(?:text|application)\/javascript/i,Jo=/^(?:text|application)\/xml/i,Ko="application/json",Lo="text/html",Mo=/^\s*$/,No=Eo.createElement("a");function Po(e,t,n,r){if(e.global)return function(e,t,n){var r=Co.Event(t);return Co(e).trigger(r,n),!r.isDefaultPrevented()}(t||Eo,n,r)}function So(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===Po(t,n,"ajaxBeforeSend",[e,t]))return!1;Po(t,n,"ajaxSend",[e,t])}function To(e,t,n,r){var o=n.context,i="success";n.success.call(o,e,i,t),r&&r.resolveWith(o,[e,i,t]),Po(n,o,"ajaxSuccess",[t,n,e]),Vo(i,t,n)}function Uo(e,t,n,r,o){var i=r.context;r.error.call(i,n,t,e),o&&o.rejectWith(i,[n,t,e]),Po(r,i,"ajaxError",[n,r,e||t]),Vo(t,n,r)}function Vo(e,t,n){var r=n.context;n.complete.call(r,t,e),Po(n,r,"ajaxComplete",[t,n]),function(e){e.global&&!--Co.active&&Po(e,null,"ajaxStop")}(n)}function Xo(){}function Zo(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function _o(e,t,n,r){return Co.isFunction(t)&&(r=n,n=t,t=void 0),Co.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}No.href=window.location.href,Co.active=0,Co.ajaxJSONP=function(n,r){if(!("type"in n))return Co.ajax(n);function e(e){Co(s).triggerHandler("error",e||"abort")}var o,i,t=n.jsonpCallback,a=(Co.isFunction(t)?t():t)||"Zepto"+Do++,s=Eo.createElement("script"),l=window[a],c={abort:e};return r&&r.promise(c),Co(s).on("load error",function(e,t){clearTimeout(i),Co(s).off().remove(),"error"!=e.type&&o?To(o[0],c,n,r):Uo(null,t||"error",c,n,r),window[a]=l,o&&Co.isFunction(l)&&l(o[0]),l=o=void 0}),!1===So(c,n)?e("abort"):(window[a]=function(){o=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+a),Eo.head.appendChild(s),0<n.timeout&&(i=setTimeout(function(){e("timeout")},n.timeout))),c},Co.ajaxSettings={type:"GET",beforeSend:Xo,success:Xo,error:Xo,complete:Xo,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:Ko,xml:"application/xml, text/xml",html:Lo,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:Xo},Co.ajax=function($p){var bq,cq,_p=Co.extend({},$p||{}),aq=Co.Deferred&&Co.Deferred();for(Fo in Co.ajaxSettings)void 0===_p[Fo]&&(_p[Fo]=Co.ajaxSettings[Fo]);!function(e){e.global&&0==Co.active++&&Po(e,null,"ajaxStart")}(_p),_p.crossDomain||((bq=Eo.createElement("a")).href=_p.url,bq.href=bq.href,_p.crossDomain=No.protocol+"//"+No.host!=bq.protocol+"//"+bq.host),_p.url||(_p.url=window.location.toString()),-1<(cq=_p.url.indexOf("#"))&&(_p.url=_p.url.slice(0,cq)),function(e){e.processData&&e.data&&"string"!=Co.type(e.data)&&(e.data=Co.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=Zo(e.url,e.data),e.data=void 0)}(_p);var dq=_p.dataType,eq=/\?.+=\?/.test(_p.url);if(eq&&(dq="jsonp"),!1!==_p.cache&&($p&&!0===$p.cache||"script"!=dq&&"jsonp"!=dq)||(_p.url=Zo(_p.url,"_="+Date.now())),"jsonp"==dq)return eq||(_p.url=Zo(_p.url,_p.jsonp?_p.jsonp+"=?":!1===_p.jsonp?"":"callback=?")),Co.ajaxJSONP(_p,aq);function hq(e,t){gq[e.toLowerCase()]=[e,t]}var lq,fq=_p.accepts[dq],gq={},iq=/^([\w-]+:)\/\//.test(_p.url)?RegExp.$1:window.location.protocol,jq=_p.xhr(),kq=jq.setRequestHeader;if(aq&&aq.promise(jq),_p.crossDomain||hq("X-Requested-With","XMLHttpRequest"),hq("Accept",fq||"*/*"),(fq=_p.mimeType||fq)&&(-1<fq.indexOf(",")&&(fq=fq.split(",",2)[0]),jq.overrideMimeType&&jq.overrideMimeType(fq)),(_p.contentType||!1!==_p.contentType&&_p.data&&"GET"!=_p.type.toUpperCase())&&hq("Content-Type",_p.contentType||"application/x-www-form-urlencoded"),_p.headers)for(Go in _p.headers)hq(Go,_p.headers[Go]);if(jq.setRequestHeader=hq,!(jq.onreadystatechange=function(){if(4==jq.readyState){jq.onreadystatechange=Xo,clearTimeout(lq);var pq,qq=!1;if(200<=jq.status&&jq.status<300||304==jq.status||0==jq.status&&"file:"==iq){if(dq=dq||function(e){return(e=e&&e.split(";",2)[0])&&(e==Lo?"html":e==Ko?"json":Io.test(e)?"script":Jo.test(e)&&"xml")||"text"}(_p.mimeType||jq.getResponseHeader("content-type")),"arraybuffer"==jq.responseType||"blob"==jq.responseType)pq=jq.response;else{pq=jq.responseText;try{pq=function(e,t,n){if(n.dataFilter==Xo)return e;var r=n.context;return n.dataFilter.call(r,e,t)}(pq,dq,_p),"script"==dq?eval(pq):"xml"==dq?pq=jq.responseXML:"json"==dq&&(pq=Mo.test(pq)?null:Co.parseJSON(pq))}catch(e){qq=e}if(qq)return Uo(qq,"parsererror",jq,_p,aq)}To(pq,jq,_p,aq)}else Uo(jq.statusText||null,jq.status?"error":"abort",jq,_p,aq)}})===So(jq,_p))return jq.abort(),Uo(null,"abort",jq,_p,aq),jq;var mq=!("async"in _p)||_p.async;if(jq.open(_p.type,_p.url,mq,_p.username,_p.password),_p.xhrFields)for(Go in _p.xhrFields)jq[Go]=_p.xhrFields[Go];for(Go in gq)kq.apply(jq,gq[Go]);return 0<_p.timeout&&(lq=setTimeout(function(){jq.onreadystatechange=Xo,jq.abort(),Uo(null,"timeout",jq,_p,aq)},_p.timeout)),jq.send(_p.data?_p.data:null),jq},Co.get=function(){return Co.ajax(_o.apply(null,arguments))},Co.post=function(){var e=_o.apply(null,arguments);return e.type="POST",Co.ajax(e)},Co.getJSON=function(){var e=_o.apply(null,arguments);return e.dataType="json",Co.ajax(e)},Co.fn.load=function(e,t,n){if(!this.length)return this;var r,o=this,i=e.split(/\s/),a=_o(e,t,n),s=a.success;return 1<i.length&&(a.url=i[0],r=i[1]),a.success=function(e){o.html(r?Co("<div>").html(e.replace(Ho,"")).find(r):e),s&&s.apply(o,arguments)},Co.ajax(a),this};var ap=encodeURIComponent;Co.param=function(e,t){var n=[];return n.add=function(e,t){Co.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(ap(e)+"="+ap(t))},function n(r,e,o,i){var a,s=Co.isArray(e),l=Co.isPlainObject(e);Co.each(e,function(e,t){a=Co.type(t),i&&(e=o?i:i+"["+(l||"object"==a||"array"==a?e:"")+"]"),!i&&s?r.add(t.name,t.value):"array"==a||!o&&"object"==a?n(r,t,o,e):r.add(e,t)})}(n,e,t),n.join("&").replace(/%20/g,"+")}}(Ci),(Vq=Ci).Callbacks=function(r){r=Vq.extend({},r);var t,n,o,i,a,s,l=[],c=!r.once&&[],u=function(e){for(t=r.memory&&e,n=!0,s=i||0,i=0,a=l.length,o=!0;l&&s<a;++s)if(!1===l[s].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}o=!1,l&&(c?c.length&&u(c.shift()):t?l.length=0:d.disable())},d={add:function(){if(l){var e=l.length,n=function(e){Vq.each(e,function(e,t){"function"==typeof t?r.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!=typeof t&&n(t)})};n(arguments),o?a=l.length:t&&(i=e,u(t))}return this},remove:function(){return l&&Vq.each(arguments,function(e,t){for(var n;-1<(n=Vq.inArray(t,l,n));)l.splice(n,1),o&&(n<=a&&--a,n<=s&&--s)}),this},has:function(e){return!(!l||!(e?-1<Vq.inArray(e,l):l.length))},empty:function(){return a=l.length=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=[e,(t=t||[]).slice?t.slice():t],o?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments)},fired:function(){return!!n}};return d},rr=Ci,sr=Array.prototype.slice,rr.when=function(e){function t(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?sr.call(arguments):e,r===o?c.notifyWith(n,r):--l||c.resolveWith(n,r)}}var o,n,r,i=sr.call(arguments),a=i.length,s=0,l=1!==a||e&&rr.isFunction(e.promise)?a:0,c=1===l?e:tr();if(1<a)for(o=new Array(a),n=new Array(a),r=new Array(a);s<a;++s)i[s]&&rr.isFunction(i[s].promise)?i[s].promise().done(t(s,r,i)).fail(c.reject).progress(t(s,n,o)):--l;return l||c.resolveWith(r,i),c.promise()},rr.Deferred=tr,function(u){function c(e){return"string"==typeof e}var d,t=1,p=Array.prototype.slice,h=u.isFunction,f={},i={},n="onfocusin"in window,r={focus:"focusin",blur:"focusout"},m={mouseenter:"mouseover",mouseleave:"mouseout"};function g(e){return e._zid||(e._zid=t++)}function a(e,t,n,r){if((t=y(t)).ns)var o=function(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}(t.ns);return(f[g(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||o.test(e.ns))&&(!n||g(e.fn)===g(n))&&(!r||e.sel==r)})}function y(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function v(e,t){return e.del&&!n&&e.e in r||!!t}function b(e){return m[e]||n&&r[e]||e}function _(o,e,t,i,a,s,l){var n=g(o),c=f[n]||(f[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return u(document).ready(t);var n=y(e);n.fn=t,n.sel=a,n.e in m&&(t=function(e){var t=e.relatedTarget;if(!t||t!==this&&!u.contains(this,t))return n.fn.apply(this,arguments)});var r=(n.del=s)||t;n.proxy=function(e){if(!(e=k(e)).isImmediatePropagationStopped()){e.data=i;var t=r.apply(o,e._args==d?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=c.length,c.push(n),"addEventListener"in o&&o.addEventListener(b(n.e),n.proxy,v(n,l))})}function A(t,e,n,r,o){var i=g(t);(e||"").split(/\s/).forEach(function(e){a(t,e,n,r).forEach(function(e){delete f[i][e.i],"removeEventListener"in t&&t.removeEventListener(b(e.e),e.proxy,v(e,o))})})}i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",u.event={add:_,remove:A},u.proxy=function(e,t){var n=2 in arguments&&p.call(arguments,2);if(h(e)){function r(){return e.apply(t,n?n.concat(p.call(arguments)):arguments)}return r._zid=g(e),r}if(c(t))return n?(n.unshift(e[t],e),u.proxy.apply(null,n)):u.proxy(e[t],e);throw new TypeError("expected function")},u.fn.bind=function(e,t,n){return this.on(e,t,n)},u.fn.unbind=function(e,t){return this.off(e,t)},u.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var s=function(){return!0},E=function(){return!1},o=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function k(r,o){return!o&&r.isDefaultPrevented||(o=o||r,u.each(e,function(e,t){var n=o[e];r[e]=function(){return this[t]=s,n&&n.apply(o,arguments)},r[t]=E}),r.timeStamp||(r.timeStamp=Date.now()),(o.defaultPrevented!==d?o.defaultPrevented:"returnValue"in o?!1===o.returnValue:o.getPreventDefault&&o.getPreventDefault())&&(r.isDefaultPrevented=s)),r}function x(e){var t,n={originalEvent:e};for(t in e)o.test(t)||e[t]===d||(n[t]=e[t]);return k(n,e)}u.fn.delegate=function(e,t,n){return this.on(t,e,n)},u.fn.undelegate=function(e,t,n){return this.off(t,e,n)},u.fn.live=function(e,t){return u(document.body).delegate(this.selector,e,t),this},u.fn.die=function(e,t){return u(document.body).undelegate(this.selector,e,t),this},u.fn.on=function(t,o,n,i,a){var s,l,r=this;return t&&!c(t)?(u.each(t,function(e,t){r.on(e,o,n,t,a)}),r):(c(o)||h(i)||!1===i||(i=n,n=o,o=d),i!==d&&!1!==n||(i=n,n=d),!1===i&&(i=E),r.each(function(e,r){a&&(s=function(e){return A(r,e.type,i),i.apply(this,arguments)}),o&&(l=function(e){var t,n=u(e.target).closest(o,r).get(0);if(n&&n!==r)return t=u.extend(x(e),{currentTarget:n,liveFired:r}),(s||i).apply(n,[t].concat(p.call(arguments,1)))}),_(r,t,i,n,o,l||s)}))},u.fn.off=function(e,n,t){var r=this;return e&&!c(e)?(u.each(e,function(e,t){r.off(e,n,t)}),r):(c(n)||h(t)||!1===t||(t=n,n=d),!1===t&&(t=E),r.each(function(){A(this,e,t,n)}))},u.fn.trigger=function(e,t){return(e=c(e)||u.isPlainObject(e)?u.Event(e):k(e))._args=t,this.each(function(){e.type in r&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):u(this).triggerHandler(e,t)})},u.fn.triggerHandler=function(n,r){var o,i;return this.each(function(e,t){(o=x(c(n)?u.Event(n):n))._args=r,o.target=t,u.each(a(t,n.type||n),function(e,t){if(i=t.proxy(o),o.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){u.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),u.Event=function(e,t){c(e)||(e=(t=e).type);var n=document.createEvent(i[e]||"Events"),r=!0;if(t)for(var o in t)"bubbles"==o?r=!!t[o]:n[o]=t[o];return n.initEvent(e,r,!0),k(n)}}(Ci),function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(e,t){try{return n(e,t)}catch(e){return null}}}}(),Du=(Cu=Ci).zepto,Eu=Du.qsa,Fu=Du.matches,Hu=Cu.expr[":"]={visible:function(){if(Gu(this))return this},hidden:function(){if(!Gu(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(e){if(0===e)return this},last:function(e,t){if(e===t.length-1)return this},eq:function(e,t,n){if(e===n)return this},contains:function(e,t,n){if(-1<Cu(this).text().indexOf(n))return this},has:function(e,t,n){if(Du.qsa(this,n).length)return this}},Iu=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),Ju=/^\s*>/,Ku="Zepto"+ +new Date,Du.qsa=function(i,a){return Lu(a,function(e,n,r){try{var t;!e&&n?e="*":Ju.test(e)&&(t=Cu(i).addClass(Ku),e="."+Ku+" "+e);var o=Eu(i,e)}catch(e){throw console.error("error performing selector: %o",a),e}finally{t&&t.removeClass(Ku)}return n?Du.uniq(Cu.map(o,function(e,t){return n.call(e,t,o,r)})):o})},Du.matches=function(r,e){return Lu(e,function(e,t,n){return(!e||Fu(r,e))&&(!t||t.call(r,null,n)===r)})},Ai.exports=Ci},"./node_modules/core-js/library/fn/array/from.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.string.iterator.js"),n("./node_modules/core-js/library/modules/es6.array.from.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Array.from},"./node_modules/core-js/library/fn/get-iterator.js":function(e,t,n){n("./node_modules/core-js/library/modules/web.dom.iterable.js"),n("./node_modules/core-js/library/modules/es6.string.iterator.js"),e.exports=n("./node_modules/core-js/library/modules/core.get-iterator.js")},"./node_modules/core-js/library/fn/json/stringify.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_core.js"),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},"./node_modules/core-js/library/fn/object/assign.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.assign.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.assign},"./node_modules/core-js/library/fn/object/create.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.create.js");var r=n("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return r.create(e,t)}},"./node_modules/core-js/library/fn/object/define-property.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.define-property.js");var r=n("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"./node_modules/core-js/library/fn/object/get-own-property-descriptor.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js");var r=n("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},"./node_modules/core-js/library/fn/object/keys.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.keys.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.keys},"./node_modules/core-js/library/fn/object/set-prototype-of.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.object.set-prototype-of.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Object.setPrototypeOf},"./node_modules/core-js/library/fn/symbol/index.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.symbol.js"),n("./node_modules/core-js/library/modules/es6.object.to-string.js"),n("./node_modules/core-js/library/modules/es7.symbol.async-iterator.js"),n("./node_modules/core-js/library/modules/es7.symbol.observable.js"),e.exports=n("./node_modules/core-js/library/modules/_core.js").Symbol},"./node_modules/core-js/library/fn/symbol/iterator.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.string.iterator.js"),n("./node_modules/core-js/library/modules/web.dom.iterable.js"),e.exports=n("./node_modules/core-js/library/modules/_wks-ext.js").f("iterator")},"./node_modules/core-js/library/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/library/modules/_add-to-unscopables.js":function(e,t){e.exports=function(){}},"./node_modules/core-js/library/modules/_an-object.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/library/modules/_array-includes.js":function(e,t,n){var l=n("./node_modules/core-js/library/modules/_to-iobject.js"),c=n("./node_modules/core-js/library/modules/_to-length.js"),u=n("./node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(s){return function(e,t,n){var r,o=l(e),i=c(o.length),a=u(n,i);if(s&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},"./node_modules/core-js/library/modules/_classof.js":function(e,t,n){var o=n("./node_modules/core-js/library/modules/_cof.js"),i=n("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},"./node_modules/core-js/library/modules/_cof.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/library/modules/_core.js":function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"./node_modules/core-js/library/modules/_create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_object-dp.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js");e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},"./node_modules/core-js/library/modules/_ctx.js":function(e,t,n){var i=n("./node_modules/core-js/library/modules/_a-function.js");e.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},"./node_modules/core-js/library/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/library/modules/_descriptors.js":function(e,t,n){e.exports=!n("./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_dom-create.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_is-object.js"),o=n("./node_modules/core-js/library/modules/_global.js").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/library/modules/_enum-keys.js":function(e,t,n){var s=n("./node_modules/core-js/library/modules/_object-keys.js"),l=n("./node_modules/core-js/library/modules/_object-gops.js"),c=n("./node_modules/core-js/library/modules/_object-pie.js");e.exports=function(e){var t=s(e),n=l.f;if(n)for(var r,o=n(e),i=c.f,a=0;o.length>a;)i.call(e,r=o[a++])&&t.push(r);return t}},"./node_modules/core-js/library/modules/_export.js":function(e,t,n){var m=n("./node_modules/core-js/library/modules/_global.js"),g=n("./node_modules/core-js/library/modules/_core.js"),y=n("./node_modules/core-js/library/modules/_ctx.js"),v=n("./node_modules/core-js/library/modules/_hide.js"),b=n("./node_modules/core-js/library/modules/_has.js"),_="prototype",A=function(e,t,n){var r,o,i,a=e&A.F,s=e&A.G,l=e&A.S,c=e&A.P,u=e&A.B,d=e&A.W,p=s?g:g[t]||(g[t]={}),h=p[_],f=s?m:l?m[t]:(m[t]||{})[_];for(r in s&&(n=t),n)(o=!a&&f&&void 0!==f[r])&&b(p,r)||(i=o?f[r]:n[r],p[r]=s&&"function"!=typeof f[r]?n[r]:u&&o?y(i,m):d&&f[r]==i?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e[_]=r[_],e}(i):c&&"function"==typeof i?y(Function.call,i):i,c&&((p.virtual||(p.virtual={}))[r]=i,e&A.R&&h&&!h[r]&&v(h,r,i)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,e.exports=A},"./node_modules/core-js/library/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/library/modules/_global.js":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/core-js/library/modules/_has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/library/modules/_hide.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-dp.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js");e.exports=n("./node_modules/core-js/library/modules/_descriptors.js")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/library/modules/_html.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_global.js").document;e.exports=r&&r.documentElement},"./node_modules/core-js/library/modules/_ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/core-js/library/modules/_descriptors.js")&&!n("./node_modules/core-js/library/modules/_fails.js")(function(){return 7!=Object.defineProperty(n("./node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/library/modules/_iobject.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/core-js/library/modules/_is-array-iter.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_iterators.js"),o=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},"./node_modules/core-js/library/modules/_is-array.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/library/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/library/modules/_iter-call.js":function(e,t,n){var i=n("./node_modules/core-js/library/modules/_an-object.js");e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},"./node_modules/core-js/library/modules/_iter-create.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_object-create.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js"),i=n("./node_modules/core-js/library/modules/_set-to-string-tag.js"),a={};n("./node_modules/core-js/library/modules/_hide.js")(a,n("./node_modules/core-js/library/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},"./node_modules/core-js/library/modules/_iter-define.js":function(e,t,n){"use strict";function b(){return this}var _=n("./node_modules/core-js/library/modules/_library.js"),A=n("./node_modules/core-js/library/modules/_export.js"),E=n("./node_modules/core-js/library/modules/_redefine.js"),k=n("./node_modules/core-js/library/modules/_hide.js"),x=n("./node_modules/core-js/library/modules/_iterators.js"),T=n("./node_modules/core-js/library/modules/_iter-create.js"),w=n("./node_modules/core-js/library/modules/_set-to-string-tag.js"),S=n("./node_modules/core-js/library/modules/_object-gpo.js"),C=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),P=!([].keys&&"next"in[].keys()),j="values";e.exports=function(e,t,n,r,o,i,a){T(n,t,r);function s(e){if(!P&&e in f)return f[e];switch(e){case"keys":case j:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var l,c,u,d=t+" Iterator",p=o==j,h=!1,f=e.prototype,m=f[C]||f["@@iterator"]||o&&f[o],g=m||s(o),y=o?p?s("entries"):g:void 0,v="Array"==t&&f.entries||m;if(v&&(u=S(v.call(new e)))!==Object.prototype&&u.next&&(w(u,d,!0),_||"function"==typeof u[C]||k(u,C,b)),p&&m&&m.name!==j&&(h=!0,g=function(){return m.call(this)}),_&&!a||!P&&!h&&f[C]||k(f,C,g),x[t]=g,x[d]=b,o)if(l={values:p?g:s(j),keys:i?g:s("keys"),entries:y},a)for(c in l)c in f||E(f,c,l[c]);else A(A.P+A.F*(P||h),t,l);return l}},"./node_modules/core-js/library/modules/_iter-detect.js":function(e,t,n){var i=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},e(r)}catch(e){}return n}},"./node_modules/core-js/library/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/library/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/library/modules/_library.js":function(e,t){e.exports=!0},"./node_modules/core-js/library/modules/_meta.js":function(e,t,n){function r(e){s(e,o,{value:{i:"O"+ ++l,w:{}}})}var o=n("./node_modules/core-js/library/modules/_uid.js")("meta"),i=n("./node_modules/core-js/library/modules/_is-object.js"),a=n("./node_modules/core-js/library/modules/_has.js"),s=n("./node_modules/core-js/library/modules/_object-dp.js").f,l=0,c=Object.isExtensible||function(){return!0},u=!n("./node_modules/core-js/library/modules/_fails.js")(function(){return c(Object.preventExtensions({}))}),d=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!c(e))return"F";if(!t)return"E";r(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!c(e))return!0;if(!t)return!1;r(e)}return e[o].w},onFreeze:function(e){return u&&d.NEED&&c(e)&&!a(e,o)&&r(e),e}}},"./node_modules/core-js/library/modules/_object-assign.js":function(e,t,n){"use strict";var p=n("./node_modules/core-js/library/modules/_descriptors.js"),h=n("./node_modules/core-js/library/modules/_object-keys.js"),f=n("./node_modules/core-js/library/modules/_object-gops.js"),m=n("./node_modules/core-js/library/modules/_object-pie.js"),g=n("./node_modules/core-js/library/modules/_to-object.js"),y=n("./node_modules/core-js/library/modules/_iobject.js"),o=Object.assign;e.exports=!o||n("./node_modules/core-js/library/modules/_fails.js")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=r})?function(e,t){for(var n=g(e),r=arguments.length,o=1,i=f.f,a=m.f;o<r;)for(var s,l=y(arguments[o++]),c=i?h(l).concat(i(l)):h(l),u=c.length,d=0;d<u;)s=c[d++],p&&!a.call(l,s)||(n[s]=l[s]);return n}:o},"./node_modules/core-js/library/modules/_object-create.js":function(e,t,r){function o(){}var i=r("./node_modules/core-js/library/modules/_an-object.js"),a=r("./node_modules/core-js/library/modules/_object-dps.js"),s=r("./node_modules/core-js/library/modules/_enum-bug-keys.js"),l=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),c="prototype",u=function(){var e,t=r("./node_modules/core-js/library/modules/_dom-create.js")("iframe"),n=s.length;for(t.style.display="none",r("./node_modules/core-js/library/modules/_html.js").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[c][s[n]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[c]=i(e),n=new o,o[c]=null,n[l]=e):n=u(),void 0===t?n:a(n,t)}},"./node_modules/core-js/library/modules/_object-dp.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_an-object.js"),o=n("./node_modules/core-js/library/modules/_ie8-dom-define.js"),i=n("./node_modules/core-js/library/modules/_to-primitive.js"),a=Object.defineProperty;t.f=n("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/library/modules/_object-dps.js":function(e,t,n){var a=n("./node_modules/core-js/library/modules/_object-dp.js"),s=n("./node_modules/core-js/library/modules/_an-object.js"),l=n("./node_modules/core-js/library/modules/_object-keys.js");e.exports=n("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperties:function(e,t){s(e);for(var n,r=l(t),o=r.length,i=0;i<o;)a.f(e,n=r[i++],t[n]);return e}},"./node_modules/core-js/library/modules/_object-gopd.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-pie.js"),o=n("./node_modules/core-js/library/modules/_property-desc.js"),i=n("./node_modules/core-js/library/modules/_to-iobject.js"),a=n("./node_modules/core-js/library/modules/_to-primitive.js"),s=n("./node_modules/core-js/library/modules/_has.js"),l=n("./node_modules/core-js/library/modules/_ie8-dom-define.js"),c=Object.getOwnPropertyDescriptor;t.f=n("./node_modules/core-js/library/modules/_descriptors.js")?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},"./node_modules/core-js/library/modules/_object-gopn-ext.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/core-js/library/modules/_object-gopn.js").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},"./node_modules/core-js/library/modules/_object-gopn.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/library/modules/_enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"./node_modules/core-js/library/modules/_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/library/modules/_object-gpo.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_has.js"),o=n("./node_modules/core-js/library/modules/_to-object.js"),i=n("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"./node_modules/core-js/library/modules/_object-keys-internal.js":function(e,t,n){var a=n("./node_modules/core-js/library/modules/_has.js"),s=n("./node_modules/core-js/library/modules/_to-iobject.js"),l=n("./node_modules/core-js/library/modules/_array-includes.js")(!1),c=n("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var n,r=s(e),o=0,i=[];for(n in r)n!=c&&a(r,n)&&i.push(n);for(;t.length>o;)a(r,n=t[o++])&&(~l(i,n)||i.push(n));return i}},"./node_modules/core-js/library/modules/_object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,o)}},"./node_modules/core-js/library/modules/_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"./node_modules/core-js/library/modules/_object-sap.js":function(e,t,n){var o=n("./node_modules/core-js/library/modules/_export.js"),i=n("./node_modules/core-js/library/modules/_core.js"),a=n("./node_modules/core-js/library/modules/_fails.js");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},"./node_modules/core-js/library/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/library/modules/_redefine.js":function(e,t,n){e.exports=n("./node_modules/core-js/library/modules/_hide.js")},"./node_modules/core-js/library/modules/_set-proto.js":function(e,t,o){function i(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=o("./node_modules/core-js/library/modules/_is-object.js"),r=o("./node_modules/core-js/library/modules/_an-object.js");e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o("./node_modules/core-js/library/modules/_ctx.js")(Function.call,o("./node_modules/core-js/library/modules/_object-gopd.js").f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},"./node_modules/core-js/library/modules/_set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_object-dp.js").f,o=n("./node_modules/core-js/library/modules/_has.js"),i=n("./node_modules/core-js/library/modules/_wks.js")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/library/modules/_shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_shared.js")("keys"),o=n("./node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=o(e))}},"./node_modules/core-js/library/modules/_shared.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_core.js"),o=n("./node_modules/core-js/library/modules/_global.js"),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("./node_modules/core-js/library/modules/_library.js")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/library/modules/_string-at.js":function(e,t,n){var l=n("./node_modules/core-js/library/modules/_to-integer.js"),c=n("./node_modules/core-js/library/modules/_defined.js");e.exports=function(s){return function(e,t){var n,r,o=String(c(e)),i=l(t),a=o.length;return i<0||a<=i?s?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?s?o.charAt(i):n:s?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},"./node_modules/core-js/library/modules/_to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/library/modules/_to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},"./node_modules/core-js/library/modules/_to-iobject.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_iobject.js"),o=n("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return r(o(e))}},"./node_modules/core-js/library/modules/_to-length.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},"./node_modules/core-js/library/modules/_to-object.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/core-js/library/modules/_to-primitive.js":function(e,t,n){var o=n("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/library/modules/_uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"./node_modules/core-js/library/modules/_wks-define.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_global.js"),o=n("./node_modules/core-js/library/modules/_core.js"),i=n("./node_modules/core-js/library/modules/_library.js"),a=n("./node_modules/core-js/library/modules/_wks-ext.js"),s=n("./node_modules/core-js/library/modules/_object-dp.js").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},"./node_modules/core-js/library/modules/_wks-ext.js":function(e,t,n){t.f=n("./node_modules/core-js/library/modules/_wks.js")},"./node_modules/core-js/library/modules/_wks.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_shared.js")("wks"),o=n("./node_modules/core-js/library/modules/_uid.js"),i=n("./node_modules/core-js/library/modules/_global.js").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},"./node_modules/core-js/library/modules/core.get-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_classof.js"),o=n("./node_modules/core-js/library/modules/_wks.js")("iterator"),i=n("./node_modules/core-js/library/modules/_iterators.js");e.exports=n("./node_modules/core-js/library/modules/_core.js").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},"./node_modules/core-js/library/modules/core.get-iterator.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_an-object.js"),o=n("./node_modules/core-js/library/modules/core.get-iterator-method.js");e.exports=n("./node_modules/core-js/library/modules/_core.js").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},"./node_modules/core-js/library/modules/es6.array.from.js":function(e,t,n){"use strict";var f=n("./node_modules/core-js/library/modules/_ctx.js"),r=n("./node_modules/core-js/library/modules/_export.js"),m=n("./node_modules/core-js/library/modules/_to-object.js"),g=n("./node_modules/core-js/library/modules/_iter-call.js"),y=n("./node_modules/core-js/library/modules/_is-array-iter.js"),v=n("./node_modules/core-js/library/modules/_to-length.js"),b=n("./node_modules/core-js/library/modules/_create-property.js"),_=n("./node_modules/core-js/library/modules/core.get-iterator-method.js");r(r.S+r.F*!n("./node_modules/core-js/library/modules/_iter-detect.js")(function(e){Array.from(e)}),"Array",{from:function(e,t,n){var r,o,i,a,s=m(e),l="function"==typeof this?this:Array,c=arguments.length,u=1<c?t:void 0,d=void 0!==u,p=0,h=_(s);if(d&&(u=f(u,2<c?n:void 0,2)),null==h||l==Array&&y(h))for(o=new l(r=v(s.length));p<r;p++)b(o,p,d?u(s[p],p):s[p]);else for(a=h.call(s),o=new l;!(i=a.next()).done;p++)b(o,p,d?g(a,u,[i.value,p],!0):i.value);return o.length=p,o}})},"./node_modules/core-js/library/modules/es6.array.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_add-to-unscopables.js"),o=n("./node_modules/core-js/library/modules/_iter-step.js"),i=n("./node_modules/core-js/library/modules/_iterators.js"),a=n("./node_modules/core-js/library/modules/_to-iobject.js");e.exports=n("./node_modules/core-js/library/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},"./node_modules/core-js/library/modules/es6.object.assign.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S+r.F,"Object",{assign:n("./node_modules/core-js/library/modules/_object-assign.js")})},"./node_modules/core-js/library/modules/es6.object.create.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S,"Object",{create:n("./node_modules/core-js/library/modules/_object-create.js")})},"./node_modules/core-js/library/modules/es6.object.define-property.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S+r.F*!n("./node_modules/core-js/library/modules/_descriptors.js"),"Object",{defineProperty:n("./node_modules/core-js/library/modules/_object-dp.js").f})},"./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/core-js/library/modules/_object-gopd.js").f;n("./node_modules/core-js/library/modules/_object-sap.js")("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},"./node_modules/core-js/library/modules/es6.object.keys.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_to-object.js"),o=n("./node_modules/core-js/library/modules/_object-keys.js");n("./node_modules/core-js/library/modules/_object-sap.js")("keys",function(){return function(e){return o(r(e))}})},"./node_modules/core-js/library/modules/es6.object.set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/library/modules/_export.js");r(r.S,"Object",{setPrototypeOf:n("./node_modules/core-js/library/modules/_set-proto.js").set})},"./node_modules/core-js/library/modules/es6.object.to-string.js":function(e,t){},"./node_modules/core-js/library/modules/es6.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/library/modules/_string-at.js")(!0);n("./node_modules/core-js/library/modules/_iter-define.js")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},"./node_modules/core-js/library/modules/es6.symbol.js":function(e,t,n){"use strict";function r(e){var t=Y[e]=j(B[V]);return t._k=e,t}function o(e,t){x(e);for(var n,r=E(t=S(t)),o=0,i=r.length;o<i;)te(e,n=r[o++],t[n]);return e}function i(e){var t=z.call(this,e=C(e,!0));return!(this===q&&u(Y,e)&&!u($,e))&&(!(t||!u(this,e)||!u(Y,e)||u(this,G)&&this[G][e])||t)}function a(e,t){if(e=S(e),t=C(t,!0),e!==q||!u(Y,t)||u($,t)){var n=M(e,t);return!n||!u(Y,t)||u(e,G)&&e[G][t]||(n.enumerable=!0),n}}function s(e){for(var t,n=F(S(e)),r=[],o=0;n.length>o;)u(Y,t=n[o++])||t==G||t==f||r.push(t);return r}function l(e){for(var t,n=e===q,r=F(n?$:S(e)),o=[],i=0;r.length>i;)!u(Y,t=r[i++])||n&&!u(q,t)||o.push(Y[t]);return o}var c=n("./node_modules/core-js/library/modules/_global.js"),u=n("./node_modules/core-js/library/modules/_has.js"),d=n("./node_modules/core-js/library/modules/_descriptors.js"),p=n("./node_modules/core-js/library/modules/_export.js"),h=n("./node_modules/core-js/library/modules/_redefine.js"),f=n("./node_modules/core-js/library/modules/_meta.js").KEY,m=n("./node_modules/core-js/library/modules/_fails.js"),g=n("./node_modules/core-js/library/modules/_shared.js"),y=n("./node_modules/core-js/library/modules/_set-to-string-tag.js"),v=n("./node_modules/core-js/library/modules/_uid.js"),b=n("./node_modules/core-js/library/modules/_wks.js"),_=n("./node_modules/core-js/library/modules/_wks-ext.js"),A=n("./node_modules/core-js/library/modules/_wks-define.js"),E=n("./node_modules/core-js/library/modules/_enum-keys.js"),k=n("./node_modules/core-js/library/modules/_is-array.js"),x=n("./node_modules/core-js/library/modules/_an-object.js"),T=n("./node_modules/core-js/library/modules/_is-object.js"),w=n("./node_modules/core-js/library/modules/_to-object.js"),S=n("./node_modules/core-js/library/modules/_to-iobject.js"),C=n("./node_modules/core-js/library/modules/_to-primitive.js"),P=n("./node_modules/core-js/library/modules/_property-desc.js"),j=n("./node_modules/core-js/library/modules/_object-create.js"),O=n("./node_modules/core-js/library/modules/_object-gopn-ext.js"),R=n("./node_modules/core-js/library/modules/_object-gopd.js"),L=n("./node_modules/core-js/library/modules/_object-gops.js"),I=n("./node_modules/core-js/library/modules/_object-dp.js"),D=n("./node_modules/core-js/library/modules/_object-keys.js"),M=R.f,N=I.f,F=O.f,B=c.Symbol,U=c.JSON,H=U&&U.stringify,V="prototype",G=b("_hidden"),K=b("toPrimitive"),z={}.propertyIsEnumerable,W=g("symbol-registry"),Y=g("symbols"),$=g("op-symbols"),q=Object[V],X="function"==typeof B&&!!L.f,Q=c.QObject,J=!Q||!Q[V]||!Q[V].findChild,Z=d&&m(function(){return 7!=j(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=M(q,t);r&&delete q[t],N(e,t,n),r&&e!==q&&N(q,t,r)}:N,ee=X&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},te=function(e,t,n){return e===q&&te($,t,n),x(e),t=C(t,!0),x(n),u(Y,t)?(n.enumerable?(u(e,G)&&e[G][t]&&(e[G][t]=!1),n=j(n,{enumerable:P(0,!1)})):(u(e,G)||N(e,G,P(1,{})),e[G][t]=!0),Z(e,t,n)):N(e,t,n)};X||(h((B=function(e){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var t=v(0<arguments.length?e:void 0),n=function(e){this===q&&n.call($,e),u(this,G)&&u(this[G],t)&&(this[G][t]=!1),Z(this,t,P(1,e))};return d&&J&&Z(q,t,{configurable:!0,set:n}),r(t)})[V],"toString",function(){return this._k}),R.f=a,I.f=te,n("./node_modules/core-js/library/modules/_object-gopn.js").f=O.f=s,n("./node_modules/core-js/library/modules/_object-pie.js").f=i,L.f=l,d&&!n("./node_modules/core-js/library/modules/_library.js")&&h(q,"propertyIsEnumerable",i,!0),_.f=function(e){return r(b(e))}),p(p.G+p.W+p.F*!X,{Symbol:B});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)b(ne[re++]);for(var oe=D(b.store),ie=0;oe.length>ie;)A(oe[ie++]);p(p.S+p.F*!X,"Symbol",{for:function(e){return u(W,e+="")?W[e]:W[e]=B(e)},keyFor:function(e){if(!ee(e))throw TypeError(e+" is not a symbol!");for(var t in W)if(W[t]===e)return t},useSetter:function(){J=!0},useSimple:function(){J=!1}}),p(p.S+p.F*!X,"Object",{create:function(e,t){return void 0===t?j(e):o(j(e),t)},defineProperty:te,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:s,getOwnPropertySymbols:l});var ae=m(function(){L.f(1)});p(p.S+p.F*ae,"Object",{getOwnPropertySymbols:function(e){return L.f(w(e))}}),U&&p(p.S+p.F*(!X||m(function(){var e=B();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=t=r[1],(T(t)||void 0!==e)&&!ee(e))return k(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ee(t))return t}),r[1]=t,H.apply(U,r)}}),B[V][K]||n("./node_modules/core-js/library/modules/_hide.js")(B[V],K,B[V].valueOf),y(B,"Symbol"),y(Math,"Math",!0),y(c.JSON,"JSON",!0)},"./node_modules/core-js/library/modules/es7.symbol.async-iterator.js":function(e,t,n){n("./node_modules/core-js/library/modules/_wks-define.js")("asyncIterator")},"./node_modules/core-js/library/modules/es7.symbol.observable.js":function(e,t,n){n("./node_modules/core-js/library/modules/_wks-define.js")("observable")},"./node_modules/core-js/library/modules/web.dom.iterable.js":function(e,t,n){n("./node_modules/core-js/library/modules/es6.array.iterator.js");for(var r=n("./node_modules/core-js/library/modules/_global.js"),o=n("./node_modules/core-js/library/modules/_hide.js"),i=n("./node_modules/core-js/library/modules/_iterators.js"),a=n("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype;d&&!d[a]&&o(d,a,c),i[c]=i.Array}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/components/container/public/style.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".container[data-container] {\n  position: absolute;\n  background-color: black;\n  height: 100%;\n  width: 100%;\n  max-width: 100%; }\n  .container[data-container] .chromeless {\n    cursor: default; }\n\n[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled {\n  cursor: pointer; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/components/core/public/style.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'[data-player] {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  transform: translate3d(0, 0, 0);\n  position: relative;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-style: normal;\n  font-weight: normal;\n  text-align: center;\n  overflow: hidden;\n  font-size: 100%;\n  font-family: "Roboto", "Open Sans", Arial, sans-serif;\n  text-shadow: 0 0 0;\n  box-sizing: border-box; }\n  [data-player] div, [data-player] span, [data-player] applet, [data-player] object, [data-player] iframe,\n  [data-player] h1, [data-player] h2, [data-player] h3, [data-player] h4, [data-player] h5, [data-player] h6, [data-player] p, [data-player] blockquote, [data-player] pre,\n  [data-player] a, [data-player] abbr, [data-player] acronym, [data-player] address, [data-player] big, [data-player] cite, [data-player] code,\n  [data-player] del, [data-player] dfn, [data-player] em, [data-player] img, [data-player] ins, [data-player] kbd, [data-player] q, [data-player] s, [data-player] samp,\n  [data-player] small, [data-player] strike, [data-player] strong, [data-player] sub, [data-player] sup, [data-player] tt, [data-player] var,\n  [data-player] b, [data-player] u, [data-player] i, [data-player] center,\n  [data-player] dl, [data-player] dt, [data-player] dd, [data-player] ol, [data-player] ul, [data-player] li,\n  [data-player] fieldset, [data-player] form, [data-player] label, [data-player] legend,\n  [data-player] table, [data-player] caption, [data-player] tbody, [data-player] tfoot, [data-player] thead, [data-player] tr, [data-player] th, [data-player] td,\n  [data-player] article, [data-player] aside, [data-player] canvas, [data-player] details, [data-player] embed,\n  [data-player] figure, [data-player] figcaption, [data-player] footer, [data-player] header, [data-player] hgroup,\n  [data-player] menu, [data-player] nav, [data-player] output, [data-player] ruby, [data-player] section, [data-player] summary,\n  [data-player] time, [data-player] mark, [data-player] audio, [data-player] video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font: inherit;\n    font-size: 100%;\n    vertical-align: baseline; }\n  [data-player] table {\n    border-collapse: collapse;\n    border-spacing: 0; }\n  [data-player] caption, [data-player] th, [data-player] td {\n    text-align: left;\n    font-weight: normal;\n    vertical-align: middle; }\n  [data-player] q, [data-player] blockquote {\n    quotes: none; }\n    [data-player] q:before, [data-player] q:after, [data-player] blockquote:before, [data-player] blockquote:after {\n      content: "";\n      content: none; }\n  [data-player] a img {\n    border: none; }\n  [data-player]:focus {\n    outline: 0; }\n  [data-player] * {\n    max-width: none;\n    box-sizing: inherit;\n    float: none; }\n  [data-player] div {\n    display: block; }\n  [data-player].fullscreen {\n    width: 100% !important;\n    height: 100% !important;\n    top: 0;\n    left: 0; }\n  [data-player].nocursor {\n    cursor: none; }\n\n.clappr-style {\n  display: none !important; }\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/base_flash_playback/public/flash.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".clappr-flash-playback[data-flash-playback] {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  pointer-events: none; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/html5_video/public/style.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"[data-html5-video] {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  display: block; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/html_img/public/style.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"[data-html-img] {\n  max-width: 100%;\n  max-height: 100%; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/no_op/public/style.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"[data-no-op] {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  text-align: center; }\n\n[data-no-op] p[data-no-op-msg] {\n  position: absolute;\n  text-align: center;\n  font-size: 25px;\n  left: 0;\n  right: 0;\n  color: white;\n  padding: 10px;\n  /* center vertically */\n  top: 50%;\n  transform: translateY(-50%);\n  max-height: 100%;\n  overflow: auto; }\n\n[data-no-op] canvas[data-no-op-canvas] {\n  background-color: #777;\n  height: 100%;\n  width: 100%; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/closed_captions/public/closed_captions.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".cc-controls[data-cc-controls] {\n  float: right;\n  position: relative;\n  display: none; }\n  .cc-controls[data-cc-controls].available {\n    display: block; }\n  .cc-controls[data-cc-controls] .cc-button {\n    padding: 6px !important; }\n    .cc-controls[data-cc-controls] .cc-button.enabled {\n      display: block;\n      opacity: 1.0; }\n      .cc-controls[data-cc-controls] .cc-button.enabled:hover {\n        opacity: 1.0;\n        text-shadow: none; }\n  .cc-controls[data-cc-controls] > ul {\n    list-style-type: none;\n    position: absolute;\n    bottom: 25px;\n    border: 1px solid black;\n    display: none;\n    background-color: #e6e6e6; }\n  .cc-controls[data-cc-controls] li {\n    font-size: 10px; }\n    .cc-controls[data-cc-controls] li[data-title] {\n      background-color: #c3c2c2;\n      padding: 5px; }\n    .cc-controls[data-cc-controls] li a {\n      color: #444;\n      padding: 2px 10px;\n      display: block;\n      text-decoration: none; }\n      .cc-controls[data-cc-controls] li a:hover {\n        background-color: #555;\n        color: white; }\n        .cc-controls[data-cc-controls] li a:hover a {\n          color: white;\n          text-decoration: none; }\n    .cc-controls[data-cc-controls] li.current a {\n      color: #f00; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/dvr_controls/public/dvr_controls.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.dvr-controls[data-dvr-controls] {\n  display: inline-block;\n  float: left;\n  color: #fff;\n  line-height: 32px;\n  font-size: 10px;\n  font-weight: bold;\n  margin-left: 6px; }\n  .dvr-controls[data-dvr-controls] .live-info {\n    cursor: default;\n    font-family: "Roboto", "Open Sans", Arial, sans-serif;\n    text-transform: uppercase; }\n    .dvr-controls[data-dvr-controls] .live-info:before {\n      content: "";\n      display: inline-block;\n      position: relative;\n      width: 7px;\n      height: 7px;\n      border-radius: 3.5px;\n      margin-right: 3.5px;\n      background-color: #ff0101; }\n    .dvr-controls[data-dvr-controls] .live-info.disabled {\n      opacity: 0.3; }\n      .dvr-controls[data-dvr-controls] .live-info.disabled:before {\n        background-color: #fff; }\n  .dvr-controls[data-dvr-controls] .live-button {\n    cursor: pointer;\n    outline: none;\n    display: none;\n    border: 0;\n    color: #fff;\n    background-color: transparent;\n    height: 32px;\n    padding: 0;\n    opacity: 0.7;\n    font-family: "Roboto", "Open Sans", Arial, sans-serif;\n    text-transform: uppercase;\n    transition: all 0.1s ease; }\n    .dvr-controls[data-dvr-controls] .live-button:before {\n      content: "";\n      display: inline-block;\n      position: relative;\n      width: 7px;\n      height: 7px;\n      border-radius: 3.5px;\n      margin-right: 3.5px;\n      background-color: #fff; }\n    .dvr-controls[data-dvr-controls] .live-button:hover {\n      opacity: 1;\n      text-shadow: rgba(255, 255, 255, 0.75) 0 0 5px; }\n\n.dvr .dvr-controls[data-dvr-controls] .live-info {\n  display: none; }\n\n.dvr .dvr-controls[data-dvr-controls] .live-button {\n  display: block; }\n\n.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\n  background-color: #005aff; }\n\n.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\n  background-color: #ff0101; }\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/error_screen/public/error_screen.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"div.player-error-screen {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #CCCACA;\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 2000;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: center;\n      justify-content: center; }\n  div.player-error-screen__content[data-error-screen] {\n    font-size: 14px;\n    color: #CCCACA;\n    margin-top: 45px; }\n  div.player-error-screen__title[data-error-screen] {\n    font-weight: bold;\n    line-height: 30px;\n    font-size: 18px; }\n  div.player-error-screen__message[data-error-screen] {\n    width: 90%;\n    margin: 0 auto; }\n  div.player-error-screen__code[data-error-screen] {\n    font-size: 13px;\n    margin-top: 15px; }\n  div.player-error-screen__reload {\n    cursor: pointer;\n    width: 30px;\n    margin: 15px auto 0; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/media_control/public/media-control.scss":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".media-control-notransition {\n  transition: none !important; }\n\n.media-control[data-media-control] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  pointer-events: none; }\n  .media-control[data-media-control].dragging {\n    pointer-events: auto;\n    cursor: grabbing !important;\n    cursor: url("+r(n("./src/plugins/media_control/public/closed-hand.cur"))+"), move; }\n    .media-control[data-media-control].dragging * {\n      cursor: grabbing !important;\n      cursor: url("+r(n("./src/plugins/media_control/public/closed-hand.cur"))+'), move; }\n  .media-control[data-media-control] .media-control-background[data-background] {\n    position: absolute;\n    height: 40%;\n    width: 100%;\n    bottom: 0;\n    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));\n    transition: opacity 0.6s ease-out; }\n  .media-control[data-media-control] .media-control-icon {\n    line-height: 0;\n    letter-spacing: 0;\n    speak: none;\n    color: #fff;\n    opacity: 0.5;\n    vertical-align: middle;\n    text-align: left;\n    transition: all 0.1s ease; }\n  .media-control[data-media-control] .media-control-icon:hover {\n    color: white;\n    opacity: 0.75;\n    text-shadow: rgba(255, 255, 255, 0.8) 0 0 5px; }\n  .media-control[data-media-control].media-control-hide .media-control-background[data-background] {\n    opacity: 0; }\n  .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] {\n    bottom: -50px; }\n    .media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\n      opacity: 0; }\n  .media-control[data-media-control] .media-control-layer[data-controls] {\n    position: absolute;\n    bottom: 7px;\n    width: 100%;\n    height: 32px;\n    font-size: 0;\n    vertical-align: middle;\n    pointer-events: auto;\n    transition: bottom 0.4s ease-out; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control] {\n      position: absolute;\n      top: 0;\n      left: 4px;\n      height: 100%; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control] {\n      height: 100%;\n      text-align: center;\n      line-height: 32px; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control] {\n      position: absolute;\n      top: 0;\n      right: 4px;\n      height: 100%; }\n    .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button {\n      background-color: transparent;\n      border: 0;\n      margin: 0 6px;\n      padding: 0;\n      cursor: pointer;\n      display: inline-block;\n      width: 32px;\n      height: 100%; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg {\n        width: 100%;\n        height: 22px; }\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path {\n          fill: white; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus {\n        outline: none; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play] {\n        float: left;\n        height: 100%; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause] {\n        float: left;\n        height: 100%; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop] {\n        float: left;\n        height: 100%; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen] {\n        float: right;\n        background-color: transparent;\n        border: 0;\n        height: 100%; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator] {\n        background-color: transparent;\n        border: 0;\n        cursor: default;\n        display: none;\n        float: right;\n        height: 100%; }\n        .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled {\n          display: block;\n          opacity: 1.0; }\n          .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover {\n            opacity: 1.0;\n            text-shadow: none; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause] {\n        float: left; }\n      .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop] {\n        float: left; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position], .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\n      display: inline-block;\n      font-size: 10px;\n      color: white;\n      cursor: default;\n      line-height: 32px;\n      position: relative; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position] {\n      margin: 0 6px 0 7px; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration] {\n      color: rgba(255, 255, 255, 0.5);\n      margin-right: 6px; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before {\n        content: "|";\n        margin-right: 7px; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] {\n      position: absolute;\n      top: -20px;\n      left: 0;\n      display: inline-block;\n      vertical-align: middle;\n      width: 100%;\n      height: 25px;\n      cursor: pointer; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] {\n        width: 100%;\n        height: 1px;\n        position: relative;\n        top: 12px;\n        background-color: #666666; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar] {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          background-color: #c2c2c2;\n          transition: all 0.1s ease-out; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar] {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 0;\n          height: 100%;\n          background-color: #005aff;\n          transition: all 0.1s ease-out; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar] {\n          opacity: 0;\n          position: absolute;\n          top: -3px;\n          width: 5px;\n          height: 7px;\n          background-color: rgba(255, 255, 255, 0.5);\n          transition: opacity 0.1s ease; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\n        opacity: 1; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled {\n        cursor: default; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar] {\n          opacity: 0; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] {\n        position: absolute;\n        transform: translateX(-50%);\n        top: 2px;\n        left: 0;\n        width: 20px;\n        height: 20px;\n        opacity: 1;\n        transition: all 0.1s ease-out; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar] {\n          position: absolute;\n          left: 6px;\n          top: 6px;\n          width: 8px;\n          height: 8px;\n          border-radius: 10px;\n          box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\n          background-color: white; }\n    .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] {\n      float: right;\n      display: inline-block;\n      height: 32px;\n      cursor: pointer;\n      margin: 0 6px;\n      box-sizing: border-box; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] {\n        float: left;\n        bottom: 0; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] {\n          background-color: transparent;\n          border: 0;\n          box-sizing: content-box;\n          width: 32px;\n          height: 32px;\n          opacity: 0.5; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover {\n            opacity: 0.75; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg {\n            height: 24px;\n            position: relative;\n            top: 3px; }\n            .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path {\n              fill: white; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg {\n            margin-left: 2px; }\n      .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] {\n        float: left;\n        position: relative;\n        overflow: hidden;\n        top: 6px;\n        width: 42px;\n        height: 18px;\n        padding: 3px 0;\n        transition: width .2s ease-out; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] {\n          height: 1px;\n          position: relative;\n          top: 7px;\n          margin: 0 3px;\n          background-color: #666666; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume] {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 0;\n            height: 100%;\n            background-color: #c2c2c2;\n            transition: all 0.1s ease-out; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume] {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 0;\n            height: 100%;\n            background-color: #005aff;\n            transition: all 0.1s ease-out; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume] {\n            opacity: 0;\n            position: absolute;\n            top: -3px;\n            width: 5px;\n            height: 7px;\n            background-color: rgba(255, 255, 255, 0.5);\n            transition: opacity 0.1s ease; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] {\n          position: absolute;\n          transform: translateX(-50%);\n          top: 0px;\n          left: 0;\n          width: 20px;\n          height: 20px;\n          opacity: 1;\n          transition: all 0.1s ease-out; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume] {\n            position: absolute;\n            left: 6px;\n            top: 6px;\n            width: 8px;\n            height: 8px;\n            border-radius: 10px;\n            box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.2);\n            background-color: white; }\n        .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume] {\n          float: left;\n          width: 4px;\n          padding-left: 2px;\n          height: 12px;\n          opacity: 0.5;\n          box-shadow: inset 2px 0 0 white;\n          transition: transform .2s ease-out; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill {\n            box-shadow: inset 2px 0 0 #fff;\n            opacity: 1; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:nth-of-type(1) {\n            padding-left: 0; }\n          .media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover {\n            transform: scaleY(1.5); }\n  .media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide {\n    width: 0;\n    height: 12px;\n    top: 9px;\n    padding: 0; }\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/poster/public/poster.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".player-poster[data-poster] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  z-index: 998;\n  top: 0;\n  left: 0;\n  background-color: #000;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%; }\n  .player-poster[data-poster].clickable {\n    cursor: pointer; }\n  .player-poster[data-poster]:hover .play-wrapper[data-poster] {\n    opacity: 1; }\n  .player-poster[data-poster] .play-wrapper[data-poster] {\n    width: 100%;\n    height: 25%;\n    margin: 0 auto;\n    opacity: 0.75;\n    transition: opacity 0.1s ease; }\n    .player-poster[data-poster] .play-wrapper[data-poster] svg {\n      height: 100%; }\n      .player-poster[data-poster] .play-wrapper[data-poster] svg path {\n        fill: #fff; }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/seek_time/public/seek_time.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.seek-time[data-seek-time] {\n  position: absolute;\n  white-space: nowrap;\n  height: 20px;\n  line-height: 20px;\n  font-size: 0;\n  left: -100%;\n  bottom: 55px;\n  background-color: rgba(2, 2, 2, 0.5);\n  z-index: 9999;\n  transition: opacity 0.1s ease; }\n  .seek-time[data-seek-time].hidden[data-seek-time] {\n    opacity: 0; }\n  .seek-time[data-seek-time] [data-seek-time] {\n    display: inline-block;\n    color: white;\n    font-size: 10px;\n    padding-left: 7px;\n    padding-right: 7px;\n    vertical-align: top; }\n  .seek-time[data-seek-time] [data-duration] {\n    display: inline-block;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 10px;\n    padding-right: 7px;\n    vertical-align: top; }\n    .seek-time[data-seek-time] [data-duration]:before {\n      content: "|";\n      margin-right: 7px; }\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/spinner_three_bounce/public/spinner.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".spinner-three-bounce[data-spinner] {\n  position: absolute;\n  margin: 0 auto;\n  width: 70px;\n  text-align: center;\n  z-index: 999;\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  /* center vertically */\n  top: 50%;\n  transform: translateY(-50%); }\n  .spinner-three-bounce[data-spinner] > div {\n    width: 18px;\n    height: 18px;\n    background-color: #FFFFFF;\n    border-radius: 100%;\n    display: inline-block;\n    animation: bouncedelay 1.4s infinite ease-in-out;\n    /* Prevent first frame from flickering when animation starts */\n    animation-fill-mode: both; }\n  .spinner-three-bounce[data-spinner] [data-bounce1] {\n    animation-delay: -0.32s; }\n  .spinner-three-bounce[data-spinner] [data-bounce2] {\n    animation-delay: -0.16s; }\n\n@keyframes bouncedelay {\n  0%, 80%, 100% {\n    transform: scale(0); }\n  40% {\n    transform: scale(1); } }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/watermark/public/watermark.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".clappr-watermark[data-watermark] {\n  position: absolute;\n  min-width: 70px;\n  max-width: 200px;\n  width: 12%;\n  text-align: center;\n  z-index: 10; }\n\n.clappr-watermark[data-watermark] a {\n  outline: none;\n  cursor: pointer; }\n\n.clappr-watermark[data-watermark] img {\n  max-width: 100%; }\n\n.clappr-watermark[data-watermark-bottom-left] {\n  bottom: 10px;\n  left: 10px; }\n\n.clappr-watermark[data-watermark-bottom-right] {\n  bottom: 10px;\n  right: 42px; }\n\n.clappr-watermark[data-watermark-top-left] {\n  top: 10px;\n  left: 10px; }\n\n.clappr-watermark[data-watermark-top-right] {\n  top: 10px;\n  right: 37px; }\n",""])},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(n){var a=[];return a.toString=function(){return this.map(function(e){var t=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},"./node_modules/css-loader/lib/url/escape.js":function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},"./node_modules/hls.js/dist/hls.js":function(e,t,n){var r;"undefined"!=typeof window&&(r=function(){return(r={},o.m=n={"./node_modules/eventemitter3/index.js":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,h="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new s(n,r||e,o),a=h?h+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(h=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(h?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=h?h+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},a.prototype.listenerCount=function(e){var t=h?h+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,r,o,i){var a=h?h+e:e;if(!this._events[a])return!1;var s,l,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,i),!0}for(l=1,s=new Array(u-1);l<u;l++)s[l-1]=arguments[l];c.fn.apply(c.context,s)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!s)for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];c[l].fn.apply(c[l].context,s)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){var o=h?h+e:e;if(!this._events[o])return this;if(!t)return c(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||c(this,o);else{for(var a=0,s=[],l=i.length;a<l;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:c(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=h?h+e:e,this._events[t]&&c(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=h,a.EventEmitter=a,e.exports=a},"./node_modules/node-libs-browser/node_modules/events/events.js":function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(e){return"function"==typeof e}function c(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}((e.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(u(n=this._events[e]))return!1;if(l(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(c(n))for(o=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,i=0;i<r;i++)a[i].apply(this,o);return!0},r.prototype.on=r.prototype.addListener=function(e,t){var n;if(!l(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,l(t.listener)?t.listener:t),this._events[e]?c(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,c(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(e,t){if(!l(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,o,i;if(!l(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||l(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(c(n)){for(i=o;0<i--;)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(l(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?l(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(l(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){var r,u,o,i,d;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,u=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,d={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=d.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=d.normalizePath(r.path),d.buildURLFromParts(r)}var o=d.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=d.normalizePath(o.path),d.buildURLFromParts(o)):t;var i=d.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");if(!i.netLoc&&i.path&&"/"!==i.path[0]){var a=u.exec(i.path);i.netLoc=a[1],i.path=a[2]}i.netLoc&&!i.path&&(i.path="/");var s={scheme:i.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(s.netLoc=i.netLoc,"/"!==o.path[0]))if(o.path){var l=i.path,c=l.substring(0,l.lastIndexOf("/")+1)+o.path;s.path=d.normalizePath(c)}else s.path=i.path,o.params||(s.params=i.params,o.query||(s.query=i.query));return null===s.path&&(s.path=n.alwaysNormalize?d.normalizePath(o.path):o.path),d.buildURLFromParts(s)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=d},"./node_modules/webworkify-webpack/index.js":function(e,t,h){function l(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var e=o(o.s=ENTRY_MODULE);return e.default||e}var f="[\\.|\\-|\\+|\\w|/|@]+",m="\\((/\\*.*?\\*/)?s?.*?("+f+").*?\\)";function g(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(e,t,n){var r={};r[n]=[];var o=t.toString(),i=o.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return r;for(var a,s=i[1],l=new RegExp("(\\\\n|\\W)"+g(s)+m,"g");a=l.exec(o);)"dll-reference"!==a[3]&&r[n].push(a[3]);for(l=new RegExp("\\("+g(s)+'\\("(dll-reference\\s('+f+'))"\\)\\)'+m,"g");a=l.exec(o);)e[a[2]]||(r[n].push(a[1]),e[a[2]]=h(a[1]).m),r[a[2]]=r[a[2]]||[],r[a[2]].push(a[4]);for(var c,u=Object.keys(r),d=0;d<u.length;d++)for(var p=0;p<r[u[d]].length;p++)c=r[u[d]][p],isNaN(1*c)||(r[u[d]][p]=1*r[u[d]][p]);return r}function y(n){return Object.keys(n).reduce(function(e,t){return e||0<n[t].length},!1)}e.exports=function(e,t){t=t||{};var n={main:h.m},r=t.all?{main:Object.keys(n.main)}:function(e,t){for(var n={main:[t]},r={main:[]},o={main:{}};y(n);)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],l=n[s].pop();if(o[s]=o[s]||{},!o[s][l]&&e[s][l]){o[s][l]=!0,r[s]=r[s]||[],r[s].push(l);for(var c=p(e,e[s][l],s),u=Object.keys(c),d=0;d<u.length;d++)n[u[d]]=n[u[d]]||[],n[u[d]]=n[u[d]].concat(c[u[d]])}}return r}(n,e),o="";Object.keys(r).filter(function(e){return"main"!==e}).forEach(function(t){for(var e=0;r[t][e];)e++;r[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+t+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r[t].map(function(e){return JSON.stringify(e)+": "+n[t][e].toString()}).join(",")+"});\n"}),o=o+"new (("+l.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+r.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);";var i=new window.Blob([o],{type:"text/javascript"});if(t.bare)return i;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(i),s=new window.Worker(a);return s.objectURL=a,s}},"./src/config.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/controller/abr-controller.js"),o=n("./src/controller/buffer-controller.js"),i=n("./src/controller/cap-level-controller.js"),a=n("./src/controller/fps-controller.js"),s=n("./src/utils/xhr-loader.js"),l=n("./src/controller/audio-track-controller.js"),c=n("./src/controller/audio-stream-controller.js"),u=n("./src/utils/cues.js"),d=n("./src/controller/timeline-controller.js"),p=n("./src/controller/subtitle-track-controller.js"),h=n("./src/controller/subtitle-stream-controller.js"),f=n("./src/controller/eme-controller.js"),m=n("./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:r.default,bufferController:o.default,capLevelController:i.default,fpsController:a.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:m.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=h.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=p.default,t.hlsDefaultConfig.timelineController=d.default,t.hlsDefaultConfig.cueHandler=u,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=c.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=f.default},"./src/controller/abr-controller.js":function(e,c,u){"use strict";(function(a){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(c,"__esModule",{value:!0});var n,b=u("./src/events.js"),t=u("./src/event-handler.js"),_=u("./src/utils/buffer-helper.js"),o=u("./src/errors.js"),A=u("./src/utils/logger.js"),s=u("./src/utils/ewma-bandwidth-estimator.js"),E=window.performance,i=(n=t.default,e(l,n),l.prototype.destroy=function(){this.clearTimer(),t.default.prototype.destroy.call(this)},l.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n=this.hls,r=n.config,o=t.level,i=void 0,a=void 0;a=n.levels[o].details.live?(i=r.abrEwmaFastLive,r.abrEwmaSlowLive):(i=r.abrEwmaFastVoD,r.abrEwmaSlowVoD),this._bwEstimator=new s.default(n,a,i,r.abrEwmaDefaultEstimate)}},l.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var r=n.loader,o=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return A.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var i=r.stats;if(t&&i&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var a=E.now()-i.trequest,s=Math.abs(t.playbackRate);if(a>500*n.duration/s){var l=e.levels,c=Math.max(1,i.bw?i.bw/8:1e3*i.loaded/a),u=l[n.level],d=u.realBitrate?Math.max(u.realBitrate,u.bitrate):u.bitrate,p=i.total?i.total:Math.max(i.loaded,Math.round(n.duration*d/8)),h=t.currentTime,f=(p-i.loaded)/c,m=(_.BufferHelper.bufferInfo(t,h,e.config.maxBufferHole).end-h)/s;if(m<2*n.duration/s&&m<f){var g=void 0,y=void 0;for(y=n.level-1;o<y;y--){var v=l[y].realBitrate?Math.max(l[y].realBitrate,l[y].bitrate):l[y].bitrate;if((g=n.duration*v/(6.4*c))<m)break}g<f&&(A.logger.warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+f.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=y,this._bwEstimator.sample(a,i.loaded),r.abort(),this.clearTimer(),e.trigger(b.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:i}))}}}}},l.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&a.isFinite(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,o=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:r,duration:o},n.realBitrate=Math.round(8*r/o)}if(e.frag.bitrateTest){var i=e.stats;i.tparsed=i.tbuffered=i.tload,this.onFragBuffered(e)}}},l.prototype.onFragBuffered=function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&"main"===n.type&&a.isFinite(n.sn)&&(!n.bitrateTest||t.tload===t.tbuffered)){var r=t.tparsed-t.trequest;A.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(r,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},l.prototype.onError=function(e){switch(e.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},l.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(l.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,o=e.minAutoLevel,i=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=i?i.currentTime:0,c=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,u=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,d=(_.BufferHelper.bufferInfo(i,l,r.maxBufferHole).end-l)/c,p=this._findBestLevel(a,s,u,o,t,d,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(0<=p)return p;A.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,f=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(0==d){var g=this.bitrateTestDelay;g&&(h=(s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay)-g,A.logger.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),f=m=1)}return p=this._findBestLevel(a,s,u,o,t,d+h,f,m,n),Math.max(p,0)},enumerable:!0,configurable:!0}),l.prototype._findBestLevel=function(e,t,n,r,o,i,a,s,l){for(var c=o;r<=c;c--){var u=l[c];if(u){var d=u.details,p=d?d.totalduration/d.fragments.length:t,h=!!d&&d.live,f=void 0;f=c<=e?a*n:s*n;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,g=m*p/f;if(A.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(f)+"/"+m+"/"+p+"/"+i+"/"+g),m<f&&(!g||h&&!this.bitrateTestDelay||g<i))return c}}return-1},l);function l(e){var t=n.call(this,e,b.default.FRAG_LOADING,b.default.FRAG_LOADED,b.default.FRAG_BUFFERED,b.default.ERROR)||this;return t.lastLoadedFragLevel=0,t._nextAutoLevel=-1,t.hls=e,t.timer=null,t._bwEstimator=null,t.onCheck=t._abandonRulesCheck.bind(t),t}c.default=i}).call(this,u("./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":function(e,a,s){"use strict";(function(L){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(a,"__esModule",{value:!0});var o,I=s("./src/utils/binary-search.js"),D=s("./src/utils/buffer-helper.js"),h=s("./src/demux/demuxer.js"),M=s("./src/events.js"),p=s("./src/controller/level-helper.js"),i=s("./src/utils/time-ranges.js"),f=s("./src/errors.js"),N=s("./src/utils/logger.js"),F=s("./src/utils/discontinuities.js"),B=s("./src/controller/fragment-tracker.js"),m=s("./src/loader/fragment.js"),U=s("./src/controller/base-stream-controller.js"),H=window.performance,t=(o=U.default,e(n,o),n.prototype.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,N.logger.log("InitPTS for cc: "+n+" found from video track: "+r),this.state===U.State.WAITING_INIT_PTS&&this.tick())},n.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),(this.fragLoadError=0)<t&&-1===e?(N.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=U.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=U.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=U.State.STOPPED},Object.defineProperty(n.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,N.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),n.prototype.doTick=function(){var e,t,n,r=this.hls,o=r.config;switch(this.state){case U.State.ERROR:case U.State.PAUSED:case U.State.BUFFER_FLUSHING:break;case U.State.STARTING:this.state=U.State.WAITING_TRACK,this.loadedmetadata=!1;break;case U.State.IDLE:var i=this.tracks;if(!i)break;if(!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=D.BufferHelper.bufferInfo(a,e,o.maxBufferHole),c=D.BufferHelper.bufferInfo(s,e,o.maxBufferHole),u=l.len,d=l.end,p=this.fragPrevious,h=Math.min(o.maxBufferLength,o.maxMaxBufferLength),f=Math.max(h,c.len),m=this.audioSwitch,g=this.trackId;if((u<f||m)&&g<i.length){if(void 0===(n=i[g].details)){this.state=U.State.WAITING_TRACK;break}if(!m&&this._streamEnded(l,n))return this.hls.trigger(M.default.BUFFER_EOS,{type:"audio"}),void(this.state=U.State.ENDED);var y=n.fragments,v=y.length,b=y[0].start,_=y[v-1].start+y[v-1].duration,A=void 0;if(m)if(n.live&&!n.PTSKnown)N.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),d=0;else if(d=e,n.PTSKnown&&e<b){if(!(l.end>b||l.nextStart))return;N.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=b+.05}if(n.initSegment&&!n.initSegment.data)A=n.initSegment;else if(d<=b){if(A=y[0],null!==this.videoTrackCC&&A.cc!==this.videoTrackCC&&(A=F.findFragWithCC(y,this.videoTrackCC)),n.live&&A.loadIdx&&A.loadIdx===this.fragLoadIdx){var E=l.nextStart?l.nextStart:b;return N.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var k=void 0,x=o.maxFragLookUpTolerance,T=p?y[p.sn-y[0].sn+1]:void 0,w=function(e){var t=Math.min(x,e.duration);return e.start+e.duration-t<=d?1:e.start-t>d&&e.start?-1:0};(k=d<_?(_-x<d&&(x=0),T&&!w(T)?T:I.default.search(y,w)):y[v-1])&&(b=(A=k).start,p&&A.level===p.level&&A.sn===p.sn&&(A.sn<n.endSN?(A=y[A.sn+1-n.startSN],N.logger.log("SN just loaded, load next one: "+A.sn)):A=null))}A&&(A.encrypted?(N.logger.log("Loading key for "+A.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+g),this.state=U.State.KEY_LOADING,r.trigger(M.default.KEY_LOADING,{frag:A})):(N.logger.log("Loading "+A.sn+", cc: "+A.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+g+", currentTime:"+e+",bufferEnd:"+d.toFixed(3)),this.fragCurrent=A,!m&&this.fragmentTracker.getState(A)!==B.FragmentState.NOT_LOADED||(this.startFragRequested=!0,L.isFinite(A.sn)&&(this.nextLoadPosition=A.start+A.duration),r.trigger(M.default.FRAG_LOADING,{frag:A}),this.state=U.State.FRAG_LOADING)))}break;case U.State.WAITING_TRACK:(t=this.tracks[this.trackId])&&t.details&&(this.state=U.State.IDLE);break;case U.State.FRAG_LOADING_WAITING_RETRY:var S=H.now(),C=this.retryDate,P=(a=this.media)&&a.seeking;(!C||C<=S||P)&&(N.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=U.State.IDLE);break;case U.State.WAITING_INIT_PTS:var j=this.videoTrackCC;if(void 0===this.initPTS[j])break;var O=this.waitingFragment;if(O){var R=O.frag.cc;j!==R?(t=this.tracks[this.trackId]).details&&t.details.live&&(N.logger.warn("Waiting fragment CC ("+R+") does not match video track CC ("+j+")"),this.waitingFragment=null,this.state=U.State.IDLE):(this.state=U.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=U.State.IDLE;break;case U.State.STOPPED:case U.State.FRAG_LOADING:case U.State.PARSING:case U.State.PARSED:case U.State.ENDED:}},n.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(N.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.prototype.onAudioTracksUpdated=function(e){N.logger.log("audio tracks updated"),this.tracks=e.audioTracks},n.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=U.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=U.State.IDLE),this.tick()},n.prototype.onAudioTrackLoaded=function(e){var t=e.details,n=e.id,r=this.tracks[n],o=t.totalduration,i=0;if(N.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+o),t.live){var a=r.details;a&&0<t.fragments.length?(p.mergeDetails(a,t),i=t.fragments[0].start,t.PTSKnown?N.logger.log("live audio playlist sliding:"+i.toFixed(3)):N.logger.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,N.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;L.isFinite(s)?(N.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===U.State.WAITING_TRACK&&(this.state=U.State.IDLE),this.tick()},n.prototype.onKeyLoaded=function(){this.state===U.State.KEY_LOADING&&(this.state=U.State.IDLE,this.tick())},n.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===U.State.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],o=r.details,i=o.totalduration,a=t.level,s=t.sn,l=t.cc,c=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",u=this.stats=e.stats;if("initSegment"===s)this.state=U.State.IDLE,u.tparsed=u.tbuffered=H.now(),o.initSegment.data=e.payload,this.hls.trigger(M.default.FRAG_BUFFERED,{stats:u,frag:t,id:"audio"}),this.tick();else{this.state=U.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new h.default(this.hls,"audio"));var d=this.initPTS[l],p=o.initSegment?o.initSegment.data:[];o.initSegment||void 0!==d?(this.pendingBuffering=!0,N.logger.log("Demuxing "+s+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.demuxer.push(e.payload,p,c,null,t,i,!1,d)):(N.logger.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+o.startSN+" ,"+o.endSN+"],track "+a),this.waitingFragment=e,this.state=U.State.WAITING_INIT_PTS)}}this.fragLoadError=0},n.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===U.State.PARSING){var r=e.tracks,o=void 0;if(r.video&&delete r.video,o=r.audio){o.levelCodec=o.codec,o.id=e.id,this.hls.trigger(M.default.BUFFER_CODECS,r),N.logger.log("audio track:audio,container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var i=o.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(M.default.BUFFER_APPENDING,a))}this.tick()}}},n.prototype.onFragParsingData=function(t){var n=this,e=this.fragCurrent,r=t.frag;if(e&&"audio"===t.id&&"audio"===t.type&&r.sn===e.sn&&r.level===e.level&&this.state===U.State.PARSING){var o=this.trackId,i=this.tracks[o],a=this.hls;L.isFinite(t.endPTS)||(t.endPTS=t.startPTS+e.duration,t.endDTS=t.startDTS+e.duration),e.addElementaryStream(m.default.ElementaryStreamTypes.AUDIO),N.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),p.updateFragPTSDTS(i.details,e,t.startPTS,t.endPTS);var s=this.audioSwitch,l=this.media,c=!1;if(s&&l)if(l.readyState){var u=l.currentTime;N.logger.log("switching audio track : currentTime:"+u),u>=t.startPTS&&(N.logger.log("switching audio track : flushing all audio"),this.state=U.State.BUFFER_FLUSHING,a.trigger(M.default.BUFFER_FLUSHING,{startOffset:0,endOffset:L.POSITIVE_INFINITY,type:"audio"}),c=!0,this.audioSwitch=!1,a.trigger(M.default.AUDIO_TRACK_SWITCHED,{id:o}))}else this.audioSwitch=!1,a.trigger(M.default.AUDIO_TRACK_SWITCHED,{id:o});var d=this.pendingData;if(!d)return N.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void a.trigger(M.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&d.push({type:t.type,data:e,parent:"audio",content:"data"})}),!c&&d.length&&(d.forEach(function(e){n.state===U.State.PARSING&&(n.pendingBuffering=!0,n.hls.trigger(M.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},n.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===U.State.PARSING&&(this.stats.tparsed=H.now(),this.state=U.State.PARSED,this._checkAppendedParsed())},n.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},n.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==U.State.PARSING&&t!==U.State.PARSED||(this.pendingBuffering=0<e.pending,this._checkAppendedParsed())}},n.prototype._checkAppendedParsed=function(){if(!(this.state!==U.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=H.now(),n.trigger(M.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;N.logger.log("audio buffered : "+i.default.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(M.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=U.State.IDLE}this.tick()}},n.prototype.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=e.frag;if(n&&"audio"!==n.type)break;if(!e.fatal){var r=this.fragLoadError;if(r?r++:r=1,r<=(i=this.config).fragLoadingMaxRetry){this.fragLoadError=r;var o=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);N.logger.warn("AudioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=H.now()+o,this.state=U.State.FRAG_LOADING_WAITING_RETRY}else N.logger.error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=U.State.ERROR}break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==U.State.ERROR&&(this.state=e.fatal?U.State.ERROR:U.State.IDLE,N.logger.warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===U.State.PARSING||this.state===U.State.PARSED)){var i,a=this.mediaBuffer,s=this.media.currentTime;a&&D.BufferHelper.isBuffered(a,s)&&D.BufferHelper.isBuffered(a,s+.5)?((i=this.config).maxMaxBufferLength>=i.maxBufferLength&&(i.maxMaxBufferLength/=2,N.logger.warn("AudioStreamController: reduce max buffer length to "+i.maxMaxBufferLength+"s")),this.state=U.State.IDLE):(N.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=U.State.BUFFER_FLUSHING,this.hls.trigger(M.default.BUFFER_FLUSHING,{startOffset:0,endOffset:L.POSITIVE_INFINITY,type:"audio"}))}}},n.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(N.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(M.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=U.State.PARSED):(this.state=U.State.IDLE,this.fragPrevious=null,this.tick())},n);function n(e,t){var n=o.call(this,e,M.default.MEDIA_ATTACHED,M.default.MEDIA_DETACHING,M.default.AUDIO_TRACKS_UPDATED,M.default.AUDIO_TRACK_SWITCHING,M.default.AUDIO_TRACK_LOADED,M.default.KEY_LOADED,M.default.FRAG_LOADED,M.default.FRAG_PARSING_INIT_SEGMENT,M.default.FRAG_PARSING_DATA,M.default.FRAG_PARSED,M.default.ERROR,M.default.BUFFER_RESET,M.default.BUFFER_CREATED,M.default.BUFFER_APPENDED,M.default.BUFFER_FLUSHED,M.default.INIT_PTS_FOUND)||this;return n.fragmentTracker=t,n.config=e.config,n.audioCodecSwap=!1,n._state=U.State.STOPPED,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}a.default=t}).call(this,s("./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("./src/events.js"),a=n("./src/task-loop.js"),l=n("./src/utils/logger.js"),c=n("./src/errors.js"),u=(i=a.default,o(d,i),d.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},d.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(s.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},d.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)l.logger.warn("Invalid audio track id:",e.id);else{if(l.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},d.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},d.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var n=t.audioGroupIds[t.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},d.prototype.onError=function(e){e.type===c.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(l.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(d.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),d.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)l.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)l.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];l.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var n=t.url,r=t.type,o=t.id;this.hls.trigger(s.default.AUDIO_TRACK_SWITCHING,{id:o,type:r,url:n}),this._loadTrackDetailsIfNeeded(t)}},d.prototype.doTick=function(){this._updateTrack(this._trackId)},d.prototype._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var o=e.filter(function(e){return e.default});o.length?e=o:l.logger.warn("No default audio tracks defined")}var i=!1,a=function(){e.forEach(function(e){i||t.audioGroupId&&e.groupId!==t.audioGroupId||r&&r!==e.name||(t._setAudioTrack(e.id),i=!0)})};a(),i||(r=null,a()),i||(l.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(s.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},d.prototype._needsTrackLoading=function(e){var t=e.details,n=e.url;return!(t&&!t.live||!n)},d.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,n=e.id;l.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(s.default.AUDIO_TRACK_LOADING,{url:t,id:n})}},d.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,l.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},d.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],n=t.name,r=t.language,o=t.groupId;l.logger.warn("Loading failed on audio track id: "+e+", group-id: "+o+', name/language: "'+n+'" / "'+r+'"');for(var i=e,a=0;a<this.tracks.length;a++)if(!this.trackIdBlacklist[a]&&this.tracks[a].name===n){i=a;break}i!==e?(l.logger.log("Attempting audio-track fallback id:",i,"group-id:",this.tracks[i].groupId),this._setAudioTrack(i)):l.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},d);function d(e){var t=i.call(this,e,s.default.MANIFEST_LOADING,s.default.MANIFEST_PARSED,s.default.AUDIO_TRACK_LOADED,s.default.AUDIO_TRACK_SWITCHED,s.default.LEVEL_LOADED,s.default.ERROR)||this;return t._trackId=-1,t._selectDefaultTrack=!0,t.tracks=[],t.trackIdBlacklist=Object.create(null),t.audioGroupId=null,t}t.default=u},"./src/controller/base-stream-controller.js":function(e,h,s){"use strict";(function(u){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var t=s("./src/task-loop.js"),i=s("./src/controller/fragment-tracker.js"),d=s("./src/utils/buffer-helper.js"),p=s("./src/utils/logger.js");h.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var n,o=(n=t.default,e(a,n),a.prototype.doTick=function(){},a.prototype.startLoad=function(){},a.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=h.State.STOPPED},a.prototype._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(t.live||!n||n.backtracked||n.sn!==t.endSN||e.nextStart)return!1;var o=r.getState(n);return o===i.FragmentState.PARTIAL||o===i.FragmentState.OK},a.prototype.onMediaSeeking=function(){var e=this.config,t=this.media,n=this.mediaBuffer,r=this.state,o=t?t.currentTime:null,i=d.BufferHelper.bufferInfo(n||t,o,this.config.maxBufferHole);if(u.isFinite(o)&&p.logger.log("media seeking to "+o.toFixed(3)),r===h.State.FRAG_LOADING){var a=this.fragCurrent;if(0===i.len&&a){var s=e.maxFragLookUpTolerance,l=a.start-s,c=a.start+a.duration+s;o<l||c<o?(a.loader&&(p.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=h.State.IDLE):p.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else r===h.State.ENDED&&(0===i.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=h.State.IDLE);t&&(this.lastCurrentTime=o),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=o),this.tick()},a.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},a.prototype.onHandlerDestroying=function(){this.stopLoad(),n.prototype.onHandlerDestroying.call(this)},a.prototype.onHandlerDestroyed=function(){this.state=h.State.STOPPED,this.fragmentTracker=null},a);function a(){return null!==n&&n.apply(this,arguments)||this}h.default=o}).call(this,s("./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":function(e,d,p){"use strict";(function(r){var o,e=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0});var n,l=p("./src/events.js"),t=p("./src/event-handler.js"),c=p("./src/utils/logger.js"),u=p("./src/errors.js"),i=p("./src/utils/mediasource-helper.js").getMediaSource(),a=(n=t.default,e(s,n),s.prototype.destroy=function(){t.default.prototype.destroy.call(this)},s.prototype.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(.1<Math.abs(r.timestampOffset-e.start)){var o=r.updating;try{r.abort()}catch(e){c.logger.warn("can not abort audio buffer: "+e)}o?this.audioTimestampOffset=e.start:(c.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}},s.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,c.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},s.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new i;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(n),this._objectUrl=t.src}},s.prototype.onMediaDetaching=function(){c.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){c.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):c.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(l.default.MEDIA_DETACHED)},s.prototype.onMediaSourceOpen=function(){c.logger.log("media source opened"),this.hls.trigger(l.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},s.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,n=Object.keys(t).length;(n&&!e||2===n)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},s.prototype.onMediaSourceClose=function(){c.logger.log("media source closed")},s.prototype.onMediaSourceEnded=function(){c.logger.log("media source ended")},s.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;c.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var n=this.parent,t=this.segments.reduce(function(e,t){return t.parent===n?e+1:e},0),r={},o=this.sourceBuffer;for(var i in o)r[i]=o[i].buffered;this.hls.trigger(l.default.BUFFER_APPENDED,{parent:n,pending:t,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===t&&this.flushLiveBackBuffer()},s.prototype.onSBUpdateError=function(e){c.logger.error("sourceBuffer error:",e),this.hls.trigger(l.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},s.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},s.prototype.onBufferCodecs=function(t){var n=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(t).forEach(function(e){n.pendingTracks[e]=t[e]});var e=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),e&&"open"===e.readyState&&this.checkPendingTracks()}},s.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var o=e[r],i=o.levelCodec||o.codec,a=o.container+";codecs="+i;c.logger.log("creating sourceBuffer("+a+")");try{var s=t[r]=n.addSourceBuffer(a);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[r]={codec:i,container:o.container},o.buffer=s}catch(e){c.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(l.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:a})}}this.hls.trigger(l.default.BUFFER_CREATED,{tracks:e})},s.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},s.prototype.onBufferAppendFail=function(e){c.logger.error("sourceBuffer error:",e.event),this.hls.trigger(l.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},s.prototype.onBufferEos=function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,c.logger.log(r+" sourceBuffer now EOS"));this.checkEos()},s.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}c.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){c.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},s.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},s.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),o=t-Math.max(e,this._levelTargetDuration),i=r.length-1;0<=i;i--){var a=r[i],s=n[a].buffered;0<s.length&&o>s.start(0)&&this.removeBufferRange(a,n[a],0,o)}}},s.prototype.onLevelUpdated=function(e){var t=e.details;0<t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},s.prototype.updateMediaElementDuration=function(){var e,t=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(c.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!r.isFinite(e))&&(c.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},s.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){c.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(l.default.BUFFER_FLUSHED)}},s.prototype.doAppending=function(){var t=this.hls,n=this.segments,e=this.sourceBuffer;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void c.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var o=e[r.type];o?o.updating?n.unshift(r):(o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){c.logger.error("error while trying to append buffer:"+e.message),n.unshift(r);var i={type:u.ErrorTypes.MEDIA_ERROR,parent:r.parent};22!==e.code?(this.appendError?this.appendError++:this.appendError=1,i.details=u.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(c.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],i.fatal=!0):i.fatal=!1):(this.segments=[],i.details=u.ErrorDetails.BUFFER_FULL_ERROR,i.fatal=!1),t.trigger(l.default.ERROR,i)}}}},s.prototype.flushBuffer=function(e,t,n){var r,o=this.sourceBuffer;if(Object.keys(o).length){if(c.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var i in o)if(!n||i===n){if((r=o[i]).ended=!1,r.updating)return c.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(i,r,e,t))return this.flushBufferCounter++,!1}}else c.logger.warn("abort flushing too many retries");c.logger.log("buffer flushed")}return!0},s.prototype.removeBufferRange=function(e,t,n,r){try{for(var o=0;o<t.buffered.length;o++){var i=t.buffered.start(o),a=t.buffered.end(o),s=Math.max(i,n),l=Math.min(a,r);if(.5<Math.min(l,a)-s)return c.logger.log("sb remove "+e+" ["+s+","+l+"], of ["+i+","+a+"], pos:"+this.media.currentTime),t.remove(s,l),!0}}catch(e){c.logger.warn("removeBufferRange failed",e)}return!1},s);function s(e){var t=n.call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.MANIFEST_PARSED,l.default.BUFFER_RESET,l.default.BUFFER_APPENDING,l.default.BUFFER_CODECS,l.default.BUFFER_EOS,l.default.BUFFER_FLUSHING,l.default.LEVEL_PTS_UPDATED,l.default.LEVEL_UPDATED)||this;return t._msDuration=null,t._levelDuration=null,t._levelTargetDuration=10,t._live=null,t._objectUrl=null,t.bufferCodecEventsExpected=0,t.onsbue=t.onSBUpdateEnd.bind(t),t.onsbe=t.onSBUpdateError.bind(t),t.pendingTracks={},t.tracks={},t}d.default=a}).call(this,p("./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":function(e,l,c){"use strict";(function(n){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(l,"__esModule",{value:!0});var o,i=c("./src/events.js"),t=c("./src/event-handler.js"),a=(o=t.default,e(s,o),s.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},s.prototype.onFpsDropLevelCapping=function(e){s.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},s.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},s.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},s.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},s.prototype.onLevelsUpdated=function(e){this.levels=e.levels},s.prototype.onMediaDetaching=function(){this._stopCapping()},s.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},s.prototype.getMaxLevel=function(n){var r=this;if(!this.levels)return-1;var e=this.levels.filter(function(e,t){return s.isLevelAllowed(t,r.restrictedLevels)&&t<=n});return s.getMaxLevelByMediaSize(e,this.mediaWidth,this.mediaHeight)},s.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=n.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=n.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(s.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=s.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=s.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(s,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),s.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},s.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var r,o,i=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=n)&&(r=s,!(o=e[a+1])||r.width!==o.width||r.height!==o.height)){i=a;break}}return i},s);function s(e){var t=o.call(this,e,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return t.autoLevelCapping=n.POSITIVE_INFINITY,t.firstLevel=null,t.levels=[],t.media=null,t.restrictedLevels=[],t.timer=null,t}l.default=a}).call(this,c("./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("./src/event-handler.js"),s=n("./src/events.js"),l=n("./src/errors.js"),c=n("./src/utils/logger.js"),u=window.XMLHttpRequest,d="com.widevine.alpha",p="com.microsoft.playready",h=(i=a.default,o(f,i),f.prototype.getLicenseServerUrl=function(e){var t;switch(e){case d:t=this._widevineLicenseUrl;break;default:t=null}return t||(c.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},f.prototype._attemptKeySystemAccess=function(t,e,n){var r=this,o=function(e,t,n){switch(e){case d:return function(e,t){var n={videoCapabilities:[]};return t.forEach(function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[n]}(0,n);default:throw Error("Unknown key-system: "+e)}}(t,0,n);o?(c.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,o).then(function(e){r._onMediaKeySystemAccessObtained(t,e)}).catch(function(e){c.logger.error('Failed to obtain key-system "'+t+'" access:',e)})):c.logger.warn("Can not create config for key-system (maybe because platform is not supported):",t)},Object.defineProperty(f.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),f.prototype._onMediaKeySystemAccessObtained=function(t,e){var n=this;c.logger.log('Access for key-system "'+t+'" obtained');var r={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(r),e.createMediaKeys().then(function(e){r.mediaKeys=e,c.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated()}).catch(function(e){c.logger.error("Failed to create media-keys:",e)})},f.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},f.prototype._onNewMediaKeySession=function(t){var n=this;c.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",function(e){n._onKeySessionMessage(t,e.message)},!1)},f.prototype._onKeySessionMessage=function(t,e){c.logger.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){c.logger.log("Received license data, updating key-session"),t.update(e)})},f.prototype._onMediaEncrypted=function(e,t){c.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},f.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return c.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});c.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},f.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return c.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)c.logger.warn("Key-Session already initialized but requested again");else{var n=e.mediaKeysSession;n||(c.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var r=this._mediaEncryptionInitDataType,o=this._mediaEncryptionInitData;c.logger.log('Generating key-session request for "'+r+'" init data type'),e.mediaKeysSessionInitialized=!0,n.generateRequest(r,o).then(function(){c.logger.debug("Key-session generation succeeded")}).catch(function(e){c.logger.error("Error generating key-session request:",e),t.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},f.prototype._createLicenseXhr=function(t,e,n){var r=new u,o=this._licenseXhrSetup;try{if(o)try{o(r,t)}catch(e){r.open("POST",t,!0),o(r,t)}r.readyState||r.open("POST",t,!0)}catch(e){return c.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,n),r},f.prototype._onLicenseRequestReadyStageChange=function(e,t,n,r){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,c.logger.log("License request succeeded"),r(e.response);else{if(c.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var o=3-this._requestLicenseFailureCount+1;return c.logger.warn("Retrying license request, "+o+" attempts left"),void this._requestLicense(n,r)}this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},f.prototype._generateLicenseRequestChallenge=function(e,t){var n;return e.mediaKeySystemDomain===p?c.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===d?n=t:c.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),n},f.prototype._requestLicense=function(e,t){c.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return c.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:l.ErrorTypes.KEY_SYSTEM_ERROR,details:l.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),o=this._createLicenseXhr(r,e,t);c.logger.log("Sending license request to URL: "+r),o.send(this._generateLicenseRequestChallenge(n,e))},f.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var n=e.media;(this._media=n).addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},f.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),n=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(d,t,n)}},f);function f(e){var t=i.call(this,e,s.default.MEDIA_ATTACHED,s.default.MANIFEST_PARSED)||this;return t._widevineLicenseUrl=e.config.widevineLicenseUrl,t._licenseXhrSetup=e.config.licenseXhrSetup,t._emeEnabled=e.config.emeEnabled,t._requestMediaKeySystemAccess=e.config.requestMediaKeySystemAccessFunc,t._mediaKeysList=[],t._media=null,t._hasSetMediaKeys=!1,t._isMediaEncrypted=!1,t._requestLicenseFailureCount=0,t}t.default=h},"./src/controller/fps-controller.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,u=n("./src/events.js"),a=n("./src/event-handler.js"),d=n("./src/utils/logger.js"),p=window.performance,s=(i=a.default,o(l,i),l.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},l.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},l.prototype.checkFPS=function(e,t,n){var r=p.now();if(t){if(this.lastTime){var o=r-this.lastTime,i=n-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*i/o,l=this.hls;if(l.trigger(u.default.FPS_DROP,{currentDropped:i,currentDecoded:a,totalDroppedFrames:n}),0<s&&i>l.config.fpsDroppedMonitoringThreshold*a){var c=l.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),0<c&&(-1===l.autoLevelCapping||l.autoLevelCapping>=c)&&(c-=1,l.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,l.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},l.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},l);function l(e){return i.call(this,e,u.default.MEDIA_ATTACHING)||this}t.default=s},"./src/controller/fragment-finders.js":function(e,t,n){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/utils/binary-search.js");function s(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function l(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.endProgramDateTime-r>e}t.findFragmentByPDT=function(e,t,n){if(!Array.isArray(e)||!e.length||!i.isFinite(t))return null;if(t<e[0].programDateTime)return null;if(t>=e[e.length-1].endProgramDateTime)return null;n=n||0;for(var r=0;r<e.length;++r){var o=e[r];if(l(t,n,o))return o}return null},t.findFragmentByPTS=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=e?t[e.sn-t[0].sn+1]:null;return o&&!s(n,r,o)?o:a.default.search(t,s.bind(null,n,r))},t.fragmentWithinToleranceTest=s,t.pdtWithinToleranceTest=l}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":function(e,l,c){"use strict";(function(n){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(l,"__esModule",{value:!0});var t=c("./src/event-handler.js"),o=c("./src/events.js");l.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var i,a=(i=t.default,e(s,i),s.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,t.default.prototype.destroy.call(this),i.prototype.destroy.call(this)},s.prototype.getBufferedFrag=function(r,o){var i=this.fragments,e=Object.keys(i).filter(function(e){var t=i[e];if(t.body.type!==o)return!1;if(!t.buffered)return!1;var n=t.body;return n.startPTS<=r&&r<=n.endPTS});if(0===e.length)return null;var t=e.pop();return i[t].body},s.prototype.detectEvictedFragments=function(o,i){var a,s,l=this;Object.keys(this.fragments).forEach(function(e){var t=l.fragments[e];if(!0===t.buffered){var n=t.range[o];if(n){a=n.time;for(var r=0;r<a.length;r++)if(s=a[r],!1===l.isTimeBuffered(s.startPTS,s.endPTS,i)){l.removeFragment(t.body);break}}}})},s.prototype.detectPartialFragments=function(n){var r=this,e=this.getFragmentKey(n),o=this.fragments[e];o&&(o.buffered=!0,Object.keys(this.timeRanges).forEach(function(e){if(n.hasElementaryStream(e)){var t=r.timeRanges[e];o.range[e]=r.getBufferedTimes(n.startPTS,n.endPTS,t)}}))},s.prototype.getBufferedTimes=function(e,t,n){for(var r,o,i=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,o=n.end(s)+this.bufferPadding,r<=e&&t<=o){i.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))});break}if(e<o&&r<t)i.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))}),a=!0;else if(t<=r)break}return{time:i,partial:a}},s.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},s.prototype.getPartialFragment=function(n){var r,o,i,a=this,s=null,l=0;return Object.keys(this.fragments).forEach(function(e){var t=a.fragments[e];a.isPartial(t)&&(o=t.body.startPTS-a.bufferPadding,i=t.body.endPTS+a.bufferPadding,o<=n&&n<=i&&(r=Math.min(n-o,i-n),l<=r&&(s=t.body,l=r)))}),s},s.prototype.getState=function(e){var t=this.getFragmentKey(e),n=this.fragments[t],r=l.FragmentState.NOT_LOADED;return void 0!==n&&(r=n.buffered?!0===this.isPartial(n)?l.FragmentState.PARTIAL:l.FragmentState.OK:l.FragmentState.APPENDING),r},s.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},s.prototype.isTimeBuffered=function(e,t,n){for(var r,o,i=0;i<n.length;i++){if(r=n.start(i)-this.bufferPadding,o=n.end(i)+this.bufferPadding,r<=e&&t<=o)return!0;if(t<=r)return!1}return!1},s.prototype.onFragLoaded=function(e){var t=e.frag;n.isFinite(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},s.prototype.onBufferAppended=function(e){var n=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var t=n.timeRanges[e];n.detectEvictedFragments(e,t)})},s.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},s.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},s.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},s.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},s);function s(e){var t=i.call(this,e,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}l.FragmentTracker=a}).call(this,c("./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("./src/utils/buffer-helper.js"),s=n("./src/errors.js"),c=n("./src/events.js"),u=n("./src/utils/logger.js"),r=(o.prototype.poll=function(e,t){var n=this.config,r=this.media,o=r.currentTime,i=window.performance.now();if(o!==e)return this.stallReported&&(u.logger.warn("playback not stuck anymore @"+o+", after "+Math.round(i-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(r.ended||!r.buffered.length||2<r.readyState||r.seeking&&l.BufferHelper.isBuffered(r,o))){var a=i-this.stalled,s=l.BufferHelper.bufferInfo(r,o,n.maxBufferHole);this.stalled?(1e3<=a&&this._reportStall(s.len),this._tryFixBufferStall(s,a)):this.stalled=i}},o.prototype._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,o=this.media.currentTime,i=r.getPartialFragment(o);i&&this._trySkipBufferHole(i),.5<e.len&&t>1e3*n.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},o.prototype._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,u.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer"),t.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},o.prototype._trySkipBufferHole=function(e){for(var t=this.hls,n=this.media,r=n.currentTime,o=0,i=0;i<n.buffered.length;i++){var a=n.buffered.start(i);if(o<=r&&r<a)return n.currentTime=Math.max(a,n.currentTime+.1),u.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+n.currentTime),this.stalled=null,void t.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+n.currentTime,frag:e});o=n.buffered.end(i)}},o.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,o=(this.nudgeRetry||0)+1;if((this.nudgeRetry=o)<e.nudgeMaxRetry){var i=r+o*e.nudgeOffset;u.logger.log("adjust currentTime from "+r+" to "+i),n.currentTime=i,t.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else u.logger.error("still stuck in high buffer @"+r+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(c.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},o);function o(e,t,n,r){this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r,this.stallReported=!1}t.default=r},"./src/controller/id3-track-controller.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("./src/events.js"),s=n("./src/event-handler.js"),d=n("./src/demux/id3.js"),l=n("./src/utils/texttrack-utils.js"),c=(i=s.default,o(u,i),u.prototype.destroy=function(){s.default.prototype.destroy.call(this)},u.prototype.onMediaAttached=function(e){this.media=e.media,this.media},u.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},u.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return l.sendAddTrackEvent(n,this.media),n}return this.media.addTextTrack("metadata","id3")},u.prototype.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,o=0;o<n.length;o++){var i=d.default.getID3Frames(n[o].data);if(i){var a=n[o].pts,s=o<n.length-1?n[o+1].pts:t.endPTS;a===s&&(s+=1e-4);for(var l=0;l<i.length;l++){var c=i[l];if(!d.default.isTimeStampFrame(c)){var u=new r(a,s,"");u.value=c,this.id3Track.addCue(u)}}}}},u);function u(e){var t=i.call(this,e,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_METADATA)||this;return t.id3Track=void 0,t.media=void 0,t}t.default=c},"./src/controller/level-controller.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var c,i,u=n("./src/events.js"),a=n("./src/event-handler.js"),d=n("./src/utils/logger.js"),p=n("./src/errors.js"),h=n("./src/utils/codecs.js"),f=n("./src/controller/level-helper.js"),s=(window.performance,i=a.default,o(l,i),l.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},l.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},l.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},l.prototype.stopLoad=function(){this.canload=!1},l.prototype.onManifestLoaded=function(e){var t,n=[],r=[],o={},i=null,a=!1,s=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,s=s||!!e.audioCodec,c&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(i=o[e.bitrate])?i.url.push(e.url):(e.url=[e.url],e.urlId=0,o[e.bitrate]=e,n.push(e)),t&&(t.AUDIO&&(s=!0,f.addGroupId(i||e,"audio",t.AUDIO)),t.SUBTITLES&&f.addGroupId(i||e,"text",t.SUBTITLES))}),a&&s&&(n=n.filter(function(e){return!!e.videoCodec})),n=n.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||h.isCodecSupportedInMp4(t,"audio"))&&(!n||h.isCodecSupportedInMp4(n,"video"))}),e.audioTracks&&(r=e.audioTracks.filter(function(e){return!e.audioCodec||h.isCodecSupportedInMp4(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),0<n.length){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var l=0;l<n.length;l++)if(n[l].bitrate===t){this._firstLevel=l,d.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(u.default.MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:a,altAudio:r.some(function(e){return!!e.url})})}else this.hls.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(l.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),l.prototype.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(0<=e&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){d.logger.log("switching to level "+e);var r=t[this.currentLevelIndex=e];r.level=e,n.trigger(u.default.LEVEL_SWITCHING,r)}var o=t[e],i=o.details;if(!i||i.live){var a=o.urlId;n.trigger(u.default.LEVEL_LOADING,{url:o.url[a],level:e,id:a})}}else n.trigger(u.default.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(l.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"startLevel",{get:function(){if(void 0!==this._startLevel)return this._startLevel;var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),l.prototype.onError=function(e){if(e.fatal)e.type===p.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,n=!1,r=!1;switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,r=!0;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,n=!0;break;case p.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,n=!0}void 0!==t&&this.recoverLevel(e,t,n,r)}},l.prototype.recoverLevel=function(e,t,n,r){var o,i,a,s=this,l=this.hls.config,c=e.details,u=this._levels[t];if(u.loadError++,u.fragmentError=r,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return d.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},i),e.levelRetry=!0,this.levelRetryCount++,d.logger.warn("level controller, "+c+", retry in "+i+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&(1<(o=u.url.length)&&u.loadError<o?(u.urlId=(u.urlId+1)%o,u.details=void 0,d.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+u.urlId)):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,d.logger.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(d.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},l.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},l.prototype.onLevelLoaded=function(e){var t=this,n=e.level,r=e.details;if(n===this.currentLevelIndex){var o=this._levels[n];if(o.fragmentError||(o.loadError=0,this.levelRetryCount=0),r.live){var i=f.computeReloadInterval(o.details,r,e.stats.trequest);d.logger.log("live playlist, reload in "+Math.round(i)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},i)}else this.clearTimer()}},l.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===t){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},l.prototype.loadLevel=function(){if(d.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&0<e.url.length){var t=this.currentLevelIndex,n=e.urlId,r=e.url[n];d.logger.log("Attempt loading level index "+t+" with URL-id "+n),this.hls.trigger(u.default.LEVEL_LOADING,{url:r,level:t,id:n})}}},Object.defineProperty(l.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),l);function l(e){var t=i.call(this,e,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.AUDIO_TRACK_SWITCHED,u.default.FRAG_LOADED,u.default.ERROR)||this;return t.canload=!1,t.currentLevelIndex=null,t.manualLevelIndex=-1,t.timer=null,c=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),t}t.default=s},"./src/controller/level-helper.js":function(e,t,n){"use strict";(function(h){Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/utils/logger.js");function f(e,t,n){var r=e[t],o=e[n],i=o.startPTS;h.isFinite(i)?t<n?(r.duration=i-r.start,r.duration<0&&a.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(o.duration=r.start-i,o.duration<0&&a.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):o.start=t<n?r.start+r.duration:Math.max(r.start-o.duration,0)}function s(e,t,n,r,o,i){var a=n;if(h.isFinite(t.startPTS)){var s=Math.abs(t.startPTS-n);h.isFinite(t.deltaPTS)?t.deltaPTS=Math.max(s,t.deltaPTS):t.deltaPTS=s,a=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),r=Math.max(r,t.endPTS),o=Math.min(o,t.startDTS),i=Math.max(i,t.endDTS)}var l=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=a,t.endPTS=r,t.startDTS=o,t.endDTS=i,t.duration=r-n;var c,u,d,p=t.sn;if(!e||p<e.startSN||p>e.endSN)return 0;for(c=p-e.startSN,(u=e.fragments)[c]=t,d=c;0<d;d--)f(u,d,d-1);for(d=c;d<u.length-1;d++)f(u,d,d+1);return e.PTSKnown=!0,l}function l(e,t,n){if(e&&t)for(var r=Math.max(e.startSN,t.startSN)-t.startSN,o=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,a=r;a<=o;a++){var s=e.fragments[i+a],l=t.fragments[a];if(!s||!l)break;n(s,l,a)}}function c(e,t){var n=t.startSN-e.startSN,r=e.fragments,o=t.fragments;if(!(n<0||n>r.length))for(var i=0;i<o.length;i++)o[i].start+=r[n].start}t.addGroupId=function(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}},t.updatePTS=f,t.updateFragPTSDTS=s,t.mergeDetails=function(e,n){n.initSegment&&e.initSegment&&(n.initSegment=e.initSegment);var r,o=0;if(l(e,n,function(e,t){o=e.cc-t.cc,h.isFinite(e.startPTS)&&(t.start=t.startPTS=e.startPTS,t.endPTS=e.endPTS,t.duration=e.duration,t.backtracked=e.backtracked,t.dropped=e.dropped,r=t),n.PTSKnown=!0}),n.PTSKnown){if(o){a.logger.log("discontinuity sliding from playlist, take drift into account");for(var t=n.fragments,i=0;i<t.length;i++)t[i].cc+=o}r?s(n,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):c(e,n),n.PTSKnown=e.PTSKnown}},t.mergeSubtitlePlaylists=function(e,t,n){void 0===n&&(n=0);var r=-1;l(e,t,function(e,t,n){t.start=e.start,r=n});var o=t.fragments;if(r<0)o.forEach(function(e){e.start+=n});else for(var i=r+1;i<o.length;i++)o[i].start=o[i-1].start+o[i-1].duration},t.mapFragmentIntersection=l,t.adjustSliding=c,t.computeReloadInterval=function(e,t,n){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),o=r/2;return e&&t.endSN===e.endSN&&(r=o),n&&(r=Math.max(o,r-(window.performance.now()-n))),Math.round(r)}}).call(this,n("./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":function(e,A,E){"use strict";(function(c){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(A,"__esModule",{value:!0});var o,f=E("./src/utils/binary-search.js"),p=E("./src/utils/buffer-helper.js"),h=E("./src/demux/demuxer.js"),m=E("./src/events.js"),n=E("./src/controller/fragment-tracker.js"),u=E("./src/loader/fragment.js"),t=E("./src/loader/playlist-loader.js"),d=E("./src/controller/level-helper.js"),i=E("./src/utils/time-ranges.js"),a=E("./src/errors.js"),g=E("./src/utils/logger.js"),y=E("./src/utils/discontinuities.js"),v=E("./src/controller/fragment-finders.js"),s=E("./src/controller/gap-controller.js"),b=E("./src/controller/base-stream-controller.js"),l=(o=b.default,e(_,o),_.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}0<t&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=b.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=b.State.STOPPED},_.prototype.stopLoad=function(){this.forceStartLoad=!1,o.prototype.stopLoad.call(this)},_.prototype.doTick=function(){switch(this.state){case b.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case b.State.IDLE:this._doTickIdle();break;case b.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=b.State.IDLE);break;case b.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),n=this.retryDate;(!n||n<=t||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=b.State.IDLE);break;case b.State.ERROR:case b.State.STOPPED:case b.State.FRAG_LOADING:case b.State.PARSING:case b.State.PARSED:case b.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},_.prototype._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var o=e.nextLoadLevel,i=this.levels[o];if(i){var a,s=i.bitrate;a=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,a=Math.min(a,t.maxMaxBufferLength);var l=p.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),c=l.len;if(!(a<=c)){g.logger.trace("buffer length of "+c.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=o;var u=i.details;if(!u||u.live&&this.levelLastLoaded!==o)this.state=b.State.WAITING_LEVEL;else{if(this._streamEnded(l,u)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(m.default.BUFFER_EOS,d),void(this.state=b.State.ENDED)}this._fetchPayloadOrEos(r,l,u)}}}}},_.prototype._fetchPayloadOrEos=function(e,t,n){var r=this.fragPrevious,o=this.level,i=n.fragments,a=i.length;if(0!==a){var s,l=i[0].start,c=i[a-1].start+i[a-1].duration,u=t.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(s=this._ensureFragmentAtLivePoint(n,u,l,c,r,i,a)))return}else u<l&&(s=i[0]);(s=s||this._findFragment(l,r,a,i,u,c,n))&&(s.encrypted?(g.logger.log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o),this._loadKey(s)):(g.logger.log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+o+", currentTime:"+e.toFixed(3)+",bufferEnd:"+u.toFixed(3)),this._loadFragment(s)))}},_.prototype._ensureFragmentAtLivePoint=function(e,t,n,r,o,i,a){var s,l=this.hls.config,c=this.media,u=void 0!==l.liveMaxLatencyDuration?l.liveMaxLatencyDuration:l.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-l.maxFragLookUpTolerance,r-u)){var d=this.liveSyncPosition=this.computeLivePosition(n,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,c&&c.readyState&&c.duration>d&&(c.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&r<t&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(o)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+o.programDateTime),s=v.findFragmentByPDT(i,o.endProgramDateTime,l.maxFragLookUpTolerance);else{var p=o.sn+1;if(p>=e.startSN&&p<=e.endSN){var h=i[p-e.startSN];o.cc===h.cc&&(s=h,g.logger.log("live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=f.default.search(i,function(e){return o.cc-e.cc}))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+s.sn)}s||(s=i[Math.min(a-1,Math.round(a/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+s.sn))}return s},_.prototype._findFragment=function(e,t,n,r,o,i,a){var s,l=this.hls.config;if(o<i){var c=o>i-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=v.findFragmentByPTS(t,r,o,c)}else s=r[n-1];if(s){var u=s.sn-a.startSN,d=t&&s.level===t.level,p=r[u-1],h=r[1+u];if(t&&s.sn===t.sn)if(d&&!s.backtracked)if(s.sn<a.endSN){var f=t.deltaPTS;f&&f>l.maxBufferHole&&t.dropped&&u?(s=p,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=h,g.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(h&&h.backtracked?(g.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+h.sn),s=h):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,p?(s=p).backtracked=!0:u&&(s=null)))}return s},_.prototype._loadKey=function(e){this.state=b.State.KEY_LOADING,this.hls.trigger(m.default.KEY_LOADING,{frag:e})},_.prototype._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,this.startFragRequested=!0,c.isFinite(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===n.FragmentState.NOT_LOADED||t===n.FragmentState.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(m.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new h.default(this.hls,"main")),this.state=b.State.FRAG_LOADING):t===n.FragmentState.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},Object.defineProperty(_.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(m.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),_.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,t.default.LevelType.MAIN)},Object.defineProperty(_.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),_.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(_.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),_.prototype._checkFragmentChanged=function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),p.BufferHelper.isBuffered(n,t)?e=this.getBufferedFrag(t):p.BufferHelper.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(m.default.FRAG_CHANGED,{frag:r});var o=r.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(m.default.LEVEL_SWITCHED,{level:o}),this.fragPlaying=r}}},_.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,c.POSITIVE_INFINITY)},_.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,p.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},_.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,n=void 0,r=void 0;if((t=this.getBufferedFrag(e.currentTime))&&1<t.startPTS&&this.flushMainBuffer(0,t.startPTS-1),e.paused)n=0;else{var o=this.hls.nextLoadLevel,i=this.levels[o],a=this.fragLastKbps;n=a&&this.fragCurrent?this.fragCurrent.duration*i.bitrate/(1e3*a)+1:0}if(r=(r=this.getBufferedFrag(e.currentTime+n))&&this.followingBufferedFrag(r)){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,c.POSITIVE_INFINITY)}}},_.prototype.flushMainBuffer=function(e,t){this.state=b.State.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(m.default.BUFFER_FLUSHING,n)},_.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new s.default(n,t,this.fragmentTracker,this.hls)},_.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},_.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;c.isFinite(t)&&g.logger.log("media seeked to "+t.toFixed(3)),this.tick()},_.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(m.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},_.prototype.onManifestParsed=function(e){var t,n=!1,r=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var o=this.config;(o.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(o.startPosition)},_.prototype.onLevelLoaded=function(e){var t=e.details,n=e.level,r=this.levels[this.levelLastLoaded],o=this.levels[n],i=t.totalduration,a=0;if(g.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var s=o.details;s&&0<t.fragments.length?(d.mergeDetails(s,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,s),t.PTSKnown&&c.isFinite(a)?g.logger.log("live playlist sliding:"+a.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),y.alignStream(this.fragPrevious,r,t))):(g.logger.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,y.alignStream(this.fragPrevious,r,t))}else t.PTSKnown=!1;if(o.details=t,this.levelLastLoaded=n,this.hls.trigger(m.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=t.startTimeOffset;c.isFinite(l)?(l<0&&(g.logger.log("negative start time offset "+l+", count from end of last fragment"),l=a+i+l),g.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):t.live?(this.startPosition=this.computeLivePosition(a,t),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===b.State.WAITING_LEVEL&&(this.state=b.State.IDLE),this.tick()},_.prototype.onKeyLoaded=function(){this.state===b.State.KEY_LOADING&&(this.state=b.State.IDLE,this.tick())},_.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=this.hls,r=this.levels,o=this.media,i=e.frag;if(this.state===b.State.FRAG_LOADING&&t&&"main"===i.type&&i.level===t.level&&i.sn===t.sn){var a=e.stats,s=r[t.level],l=s.details;if(this.bitrateTest=!1,this.stats=a,g.logger.log("Loaded "+t.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+t.level),i.bitrateTest&&n.nextLoadLevel)this.state=b.State.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),n.trigger(m.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=b.State.IDLE,a.tparsed=a.tbuffered=window.performance.now(),l.initSegment.data=e.payload,n.trigger(m.default.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+t.level+", cc "+t.cc),this.state=b.State.PARSING,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var c=!(o&&o.seeking)&&(l.PTSKnown||!l.live),u=l.initSegment?l.initSegment.data:[],d=this._getAudioCodec(s);(this.demuxer=this.demuxer||new h.default(this.hls,"main")).push(e.payload,u,d,s.videoCodec,t,l.totalduration,c)}}this.fragLoadError=0},_.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===b.State.PARSING){var r=e.tracks,o=void 0,i=void 0;if(r.audio&&this.altAudio&&delete r.audio,i=r.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",g.logger.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}for(o in(i=r.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(m.default.BUFFER_CODECS,r),r){i=r[o],g.logger.log("main track:"+o+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var l=i.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(m.default.BUFFER_APPENDING,{type:o,data:l,parent:"main",content:"initSegment"}))}this.tick()}},_.prototype.onFragParsingData=function(t){var n=this,e=this.fragCurrent,r=t.frag;if(e&&"main"===t.id&&r.sn===e.sn&&r.level===e.level&&("audio"!==t.type||!this.altAudio)&&this.state===b.State.PARSING){var o=this.levels[this.level],i=e;if(c.isFinite(t.endPTS)||(t.endPTS=t.startPTS+e.duration,t.endDTS=t.startDTS+e.duration),!0===t.hasAudio&&i.addElementaryStream(u.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&i.addElementaryStream(u.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(i.dropped=t.dropped,i.dropped)if(i.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",i.sn);else{var a=o.details;if(!a||i.sn!==a.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",i.sn),this.fragmentTracker.removeFragment(i),i.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=b.State.IDLE,this.fragPrevious=i,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",i.sn)}else i.backtracked=!1;var s=d.updateFragPTSDTS(o.details,i,t.startPTS,t.endPTS,t.startDTS,t.endDTS),l=this.hls;l.trigger(m.default.LEVEL_PTS_UPDATED,{details:o.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&n.state===b.State.PARSING&&(n.appended=!0,n.pendingBuffering=!0,l.trigger(m.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},_.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===b.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=b.State.PARSED,this._checkAppendedParsed())},_.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=b.State.IDLE}var o=this.hls;o.trigger(m.default.BUFFER_FLUSHING,{startOffset:0,endOffset:c.POSITIVE_INFINITY,type:"audio"}),o.trigger(m.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},_.prototype.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},_.prototype.onBufferCreated=function(e){var t,n,r=e.tracks,o=!1;for(var i in r){var a=r[i];"main"===a.id?(t=a,"video"===(n=i)&&(this.videoBuffer=r[i].buffer)):o=!0}o&&t?(g.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},_.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==b.State.PARSING&&t!==b.State.PARSED||(this.pendingBuffering=0<e.pending,this._checkAppendedParsed())}},_.prototype._checkAppendedParsed=function(){if(!(this.state!==b.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+i.default.toString(t.buffered)),this.fragPrevious=e;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=b.State.IDLE}this.tick()}},_.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=!!this.media&&p.BufferHelper.isBuffered(this.media,this.media.currentTime)&&p.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case a.ErrorDetails.FRAG_LOAD_ERROR:case a.ErrorDetails.FRAG_LOAD_TIMEOUT:case a.ErrorDetails.KEY_LOAD_ERROR:case a.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=window.performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=b.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=b.State.ERROR;break;case a.ErrorDetails.LEVEL_LOAD_ERROR:case a.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==b.State.ERROR&&(e.fatal?(this.state=b.State.ERROR,g.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==b.State.WAITING_LEVEL||(this.state=b.State.IDLE));break;case a.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==b.State.PARSING&&this.state!==b.State.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=b.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,c.POSITIVE_INFINITY)))}}},_.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},_.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},_.prototype.onFragLoadEmergencyAborted=function(){this.state=b.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},_.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(u.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=b.State.IDLE,this.fragPrevious=null},_.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},_.prototype.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},_.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=e.seeking?t:this.startPosition;t!==n&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+t+" "),e.currentTime=n)},_.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t=t&&(-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(_.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),_);function _(e,t){var n=o.call(this,e,m.default.MEDIA_ATTACHED,m.default.MEDIA_DETACHING,m.default.MANIFEST_LOADING,m.default.MANIFEST_PARSED,m.default.LEVEL_LOADED,m.default.KEY_LOADED,m.default.FRAG_LOADED,m.default.FRAG_LOAD_EMERGENCY_ABORTED,m.default.FRAG_PARSING_INIT_SEGMENT,m.default.FRAG_PARSING_DATA,m.default.FRAG_PARSED,m.default.ERROR,m.default.AUDIO_TRACK_SWITCHING,m.default.AUDIO_TRACK_SWITCHED,m.default.BUFFER_CREATED,m.default.BUFFER_APPENDED,m.default.BUFFER_FLUSHED)||this;return n.fragmentTracker=t,n.config=e.config,n.audioCodecSwap=!1,n._state=b.State.STOPPED,n.stallReported=!1,n.gapController=null,n}A.default=l}).call(this,E("./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,y=n("./src/events.js"),v=n("./src/utils/logger.js"),a=n("./src/crypt/decrypter.js"),b=n("./src/utils/buffer-helper.js"),_=n("./src/controller/fragment-finders.js"),A=n("./src/controller/fragment-tracker.js"),E=n("./src/controller/base-stream-controller.js"),s=n("./src/controller/level-helper.js"),l=window.performance,c=(i=E.default,o(u,i),u.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,n=e.success;if(this.fragPrevious=t,this.state=E.State.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var o,i=t.start,a=0;a<r.length;a++)if(i>=r[a].start&&i<=r[a].end){o=r[a];break}var s=t.start+t.duration;o?o.end=s:(o={start:i,end:s},r.push(o))}}},u.prototype.onMediaAttached=function(e){var t=e.media;(this.media=t).addEventListener("seeking",this._onMediaSeeking),this.state=E.State.IDLE},u.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=E.State.STOPPED},u.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=E.State.IDLE)},u.prototype.onSubtitleTracksUpdated=function(e){var t=this;v.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},u.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},u.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,n=e.details,r=this.currentTrackId,o=this.tracks,i=o[r];t>=o.length||t!==r||!i||(n.live&&s.mergeSubtitlePlaylists(i.details,n,this.lastAVStart),i.details=n,this.setInterval(500))},u.prototype.onKeyLoaded=function(){this.state===E.State.KEY_LOADING&&(this.state=E.State.IDLE)},u.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,r=e.frag,o=this.hls;if(this.state===E.State.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&0<e.payload.byteLength&&n&&n.key&&"AES-128"===n.method){var i=l.now();this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,function(e){var t=l.now();o.trigger(y.default.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:i,tdecrypt:t}})})}},u.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},u.prototype.doTick=function(){if(this.media)switch(this.state){case E.State.IDLE:var e=this.config,t=this.currentTrackId,n=this.fragmentTracker,r=this.media,o=this.tracks;if(!o||!o[t]||!o[t].details)break;var i=e.maxBufferHole,a=e.maxFragLookUpTolerance,s=Math.min(e.maxBufferLength,e.maxMaxBufferLength),l=b.BufferHelper.bufferedInfo(this._getBuffered(),r.currentTime,i),c=l.end,u=l.len,d=o[t].details,p=d.fragments,h=p.length,f=p[h-1].start+p[h-1].duration;if(s<u)return;var m=void 0,g=this.fragPrevious;(m=c<f?(g&&d.hasProgramDateTime&&(m=_.findFragmentByPDT(p,g.endProgramDateTime,a)),m||_.findFragmentByPTS(g,p,c,a)):p[h-1])&&m.encrypted?(v.logger.log("Loading key for "+m.sn),this.state=E.State.KEY_LOADING,this.hls.trigger(y.default.KEY_LOADING,{frag:m})):m&&n.getState(m)===A.FragmentState.NOT_LOADED&&(this.fragCurrent=m,this.state=E.State.FRAG_LOADING,this.hls.trigger(y.default.FRAG_LOADING,{frag:m}))}else this.state=E.State.IDLE},u.prototype.stopLoad=function(){this.lastAVStart=0,i.prototype.stopLoad.call(this)},u.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},u.prototype.onMediaSeeking=function(){this.fragPrevious=null},u);function u(e,t){var n=i.call(this,e,y.default.MEDIA_ATTACHED,y.default.MEDIA_DETACHING,y.default.ERROR,y.default.KEY_LOADED,y.default.FRAG_LOADED,y.default.SUBTITLE_TRACKS_UPDATED,y.default.SUBTITLE_TRACK_SWITCH,y.default.SUBTITLE_TRACK_LOADED,y.default.SUBTITLE_FRAG_PROCESSED,y.default.LEVEL_UPDATED)||this;return n.fragmentTracker=t,n.config=e.config,n.state=E.State.STOPPED,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new a.default(e,e.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(n),n}t.SubtitleStreamController=c},"./src/controller/subtitle-track-controller.js":function(e,d,p){"use strict";(function(r){var o,e=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0});var n,i=p("./src/events.js"),t=p("./src/event-handler.js"),l=p("./src/utils/logger.js"),c=p("./src/controller/level-helper.js"),a=(n=t.default,e(s,n),s.prototype.destroy=function(){t.default.prototype.destroy.call(this)},s.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},s.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},s.prototype.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},s.prototype.onSubtitleTrackLoaded=function(e){var t=this,n=e.id,r=e.details,o=this.trackId,i=this.tracks,a=i[o];if(n>=i.length||n!==o||!a||this.stopped)this._clearReloadTimer();else if(l.logger.log("subtitle track "+n+" loaded"),r.live){var s=c.computeReloadInterval(a.details,r,e.stats.trequest);l.logger.log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},s)}else this._clearReloadTimer()},s.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},s.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(s.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),s.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},s.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,n=this.hls,r=t[e];e<0||!r||r.details&&!r.details.live||(l.logger.log("Loading subtitle track "+e),n.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))},s.prototype._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,r=this.trackId;if(t){var o=u(t.textTracks);if(-1===e)[].slice.call(o).forEach(function(e){e.mode="disabled"});else{var i=o[r];i&&(i.mode="disabled")}var a=o[e];a&&(a.mode=n?"showing":"hidden")}},s.prototype._setSubtitleTrackInternal=function(e){var t=this.hls,n=this.tracks;!r.isFinite(e)||e<-1||e>=n.length||(this.trackId=e,l.logger.log("Switching to subtitle track "+e),t.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},s.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=u(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},s);function s(e){var t=n.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return t.tracks=[],t.trackId=-1,t.media=null,t.stopped=!0,t.subtitleDisplay=!0,t}function u(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}d.default=a}).call(this,p("./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":function(e,h,f){"use strict";(function(a){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var s=f("./src/events.js"),t=f("./src/event-handler.js"),o=f("./src/utils/cea-608-parser.js"),i=f("./src/utils/output-filter.js"),l=f("./src/utils/webvtt-parser.js"),c=f("./src/utils/logger.js"),u=f("./src/utils/texttrack-utils.js");var d,n=(d=t.default,e(p,d),p.prototype.addCues=function(e,t,n,r){for(var o,i,a,s,l=this.cueRanges,c=!1,u=l.length;u--;){var d=l[u],p=(o=d[0],i=d[1],a=t,s=n,Math.min(i,s)-Math.max(o,a));if(0<=p&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],n),c=!0,.5<p/(n-t)))return}c||l.push([t,n]),this.Cues.newCue(this.captionsTracks[e],t,n,r)},p.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var n=this.unparsedVttFrags;this.unparsedVttFrags=[],n.forEach(function(e){t.onFragLoaded(e)})}},p.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},p.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],n=t.label,r=t.languageCode,o=this.captionsTracks;if(!o[e]){var i=this.getExistingTrack(e);if(i)o[e]=i,u.clearCurrentCues(o[e]),u.sendAddTrackEvent(o[e],this.media);else{var a=this.createTextTrack("captions",n,r);a&&(a[e]=!0,o[e]=a)}}},p.prototype.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},p.prototype.destroy=function(){t.default.prototype.destroy.call(this)},p.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},p.prototype.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){u.clearCurrentCues(t[e]),delete t[e]})},p.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},p.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)u.clearCurrentCues(t[n])}},p.prototype.onManifestLoaded=function(e){var s=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var l=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,t){var n,r,o;if(t<l.length){for(var i=null,a=0;a<l.length;a++)if(r=l[a],o=e,r&&r.label===o.name&&!r.textTrack1&&!r.textTrack2){i=l[a];break}i&&(n=i)}n=n||s.createTextTrack("subtitles",e.name,e.lang),e.default?n.mode=s.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",s.textTracks.push(n)})}},p.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},p.prototype.onFragLoaded=function(e){var t=e.frag,n=e.payload;if("main"===t.type){var r=t.sn;if(r!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=r}else if("subtitle"===t.type)if(n.byteLength){if(!a.isFinite(this.initPTS[t.cc]))return this.unparsedVttFrags.push(e),void(this.initPTS.length&&this.hls.trigger(s.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t}));var i=t.decryptdata;null!=i&&null!=i.key&&"AES-128"===i.method||this._parseVTTs(t,n)}else this.hls.trigger(s.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},p.prototype._parseVTTs=function(t,e){var n=this.vttCCs;n[t.cc]||(n[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var o=this.textTracks,i=this.hls;l.default.parse(e,this.initPTS[t.cc],n,t.cc,function(e){var r=o[t.level];"disabled"!==r.mode?(e.forEach(function(t){if(!r.cues.getCueById(t.id))try{r.addCue(t)}catch(e){var n=new window.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,r.addCue(n)}}),i.trigger(s.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):i.trigger(s.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},function(e){c.logger.log("Failed to parse VTT cue: "+e),i.trigger(s.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},p.prototype.onFragDecrypted=function(e){var t=e.payload,n=e.frag;if("subtitle"===n.type){if(!a.isFinite(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(n,t)}},p.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}},p.prototype.extractCea608Data=function(e){for(var t,n,r,o=31&e[0],i=2,a=[],s=0;s<o;s++)t=e[i++],n=127&e[i++],r=127&e[i++],0==n&&0==r||0!=(4&t)&&0==(3&t)&&(a.push(n),a.push(r));return a},p);function p(e){var t=d.call(this,e,s.default.MEDIA_ATTACHING,s.default.MEDIA_DETACHING,s.default.FRAG_PARSING_USERDATA,s.default.FRAG_DECRYPTED,s.default.MANIFEST_LOADING,s.default.MANIFEST_LOADED,s.default.FRAG_LOADED,s.default.LEVEL_SWITCHING,s.default.INIT_PTS_FOUND)||this;if(t.hls=e,t.config=e.config,t.enabled=!0,t.Cues=e.config.cueHandler,t.textTracks=[],t.tracks=[],t.unparsedVttFrags=[],t.initPTS=[],t.cueRanges=[],t.captionsTracks={},t.captionsProperties={textTrack1:{label:t.config.captionsTextTrack1Label,languageCode:t.config.captionsTextTrack1LanguageCode},textTrack2:{label:t.config.captionsTextTrack2Label,languageCode:t.config.captionsTextTrack2LanguageCode}},t.config.enableCEA708Captions){var n=new i.default(t,"textTrack1"),r=new i.default(t,"textTrack2");t.cea608Parser=new o.default(0,n,r)}return t}h.default=n}).call(this,f("./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},o);function o(e,t){this.subtle=e,this.aesIV=t}t.default=r},"./src/crypt/aes-decryptor.js":function(e,t,n){"use strict";function I(e){var t=e.byteLength,n=t&&new DataView(e).getUint8(t-1);return n?e.slice(0,t-n):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=I;var r=(o.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},o.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],o=n[1],i=n[2],a=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],p=new Uint32Array(256),h=0,f=0,m=0;for(m=0;m<256;m++)p[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=f^f<<1^f<<2^f<<3^f<<4;g=g>>>8^255&g^99;var y=p[t[e[h]=g]=h],v=p[y],b=p[v],_=257*p[g]^16843008*g;r[h]=_<<24|_>>>8,o[h]=_<<16|_>>>16,i[h]=_<<8|_>>>24,a[h]=_,_=16843009*b^65537*v^257*y^16843008*h,l[g]=_<<24|_>>>8,c[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,d[g]=_,h?(h=y^p[p[p[b^y]]],f^=p[p[f]]):h=f=1}},o.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var o=this.keySize=t.length;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size="+o);var i,a,s,l,c=this.ksRows=4*(o+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),p=this.sBox,h=this.rcon,f=this.invSubMix,m=f[0],g=f[1],y=f[2],v=f[3];for(i=0;i<c;i++)i<o?s=u[i]=t[i]:(l=s,i%o==0?(l=p[(l=l<<8|l>>>24)>>>24]<<24|p[l>>>16&255]<<16|p[l>>>8&255]<<8|p[255&l],l^=h[i/o|0]<<24):6<o&&i%o==4&&(l=p[l>>>24]<<24|p[l>>>16&255]<<16|p[l>>>8&255]<<8|p[255&l]),u[i]=s=(u[i-o]^l)>>>0);for(a=0;a<c;a++)i=c-a,l=3&a?u[i]:u[i-4],d[a]=a<4||i<=4?l:m[p[l>>>24]]^g[p[l>>>16&255]]^y[p[l>>>8&255]]^v[p[255&l]],d[a]=d[a]>>>0}},o.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},o.prototype.decrypt=function(e,t,n,r){for(var o,i,a,s,l,c,u,d,p,h,f,m,g,y,v=this.keySize+6,b=this.invKeySchedule,_=this.invSBox,A=this.invSubMix,E=A[0],k=A[1],x=A[2],T=A[3],w=this.uint8ArrayToUint32Array_(n),S=w[0],C=w[1],P=w[2],j=w[3],O=new Int32Array(e),R=new Int32Array(O.length),L=this.networkToHostOrderSwap;t<O.length;){for(p=L(O[t]),h=L(O[t+1]),f=L(O[t+2]),m=L(O[t+3]),l=p^b[0],c=m^b[1],u=f^b[2],d=h^b[3],g=4,y=1;y<v;y++)o=E[l>>>24]^k[c>>16&255]^x[u>>8&255]^T[255&d]^b[g],i=E[c>>>24]^k[u>>16&255]^x[d>>8&255]^T[255&l]^b[g+1],a=E[u>>>24]^k[d>>16&255]^x[l>>8&255]^T[255&c]^b[g+2],s=E[d>>>24]^k[l>>16&255]^x[c>>8&255]^T[255&u]^b[g+3],l=o,c=i,u=a,d=s,g+=4;o=_[l>>>24]<<24^_[c>>16&255]<<16^_[u>>8&255]<<8^_[255&d]^b[g],i=_[c>>>24]<<24^_[u>>16&255]<<16^_[d>>8&255]<<8^_[255&l]^b[g+1],a=_[u>>>24]<<24^_[d>>16&255]<<16^_[l>>8&255]<<8^_[255&c]^b[g+2],s=_[d>>>24]<<24^_[l>>16&255]<<16^_[c>>8&255]<<8^_[255&u]^b[g+3],g+=3,R[t]=L(o^S),R[t+1]=L(s^C),R[t+2]=L(a^P),R[t+3]=L(i^j),S=p,C=h,P=f,j=m,t+=4}return r?I(R.buffer):R.buffer},o.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},o);function o(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}t.default=r},"./src/crypt/decrypter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./src/crypt/aes-crypto.js"),l=n("./src/crypt/fast-aes-key.js"),c=n("./src/crypt/aes-decryptor.js"),i=n("./src/errors.js"),u=n("./src/utils/logger.js"),a=n("./src/events.js"),d=n("./src/utils/get-self-scope.js").getSelfScope(),r=(o.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},o.prototype.decrypt=function(t,n,r,o){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u.logger.log("JS AES decrypt"),this.logEnabled=!1);var e=this.decryptor;e||(this.decryptor=e=new c.default),e.expandKey(n),o(e.decrypt(t,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(u.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var a=this.subtle;this.key!==n&&(this.key=n,this.fastAesKey=new l.default(a,n)),this.fastAesKey.expandKey().then(function(e){new s.default(a,r).decrypt(t,e).catch(function(e){i.onWebCryptoError(e,t,n,r,o)}).then(function(e){o(e)})}).catch(function(e){i.onWebCryptoError(e,t,n,r,o)})}},o.prototype.onWebCryptoError=function(e,t,n,r,o){this.config.enableSoftwareAES?(u.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,o)):(u.logger.error("decrypting error : "+e.message),this.observer.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},o.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},o);function o(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,o=void 0===r||r;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=o)try{var i=d.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}t.default=r},"./src/crypt/fast-aes-key.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},o);function o(e,t){this.subtle=e,this.key=t}t.default=r},"./src/demux/aacdemuxer.js":function(e,n,r){"use strict";(function(f){Object.defineProperty(n,"__esModule",{value:!0});var m=r("./src/demux/adts.js"),g=r("./src/utils/logger.js"),y=r("./src/demux/id3.js"),e=(t.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(y.default.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(m.probe(e,t))return g.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(e,t,n,r){for(var o=this._audioTrack,i=y.default.getID3Data(e,0)||[],a=y.default.getTimeStamp(i),s=f.isFinite(a)?90*a:9e4*t,l=0,c=s,u=e.length,d=i.length,p=[{pts:c,dts:c,data:i}];d<u-1;)if(m.isHeader(e,d)&&d+5<u){m.initTrackConfig(o,this.observer,e,d,o.manifestCodec);var h=m.appendFrame(o,e,d,s,l);if(!h){g.logger.log("Unable to parse AAC frame");break}d+=h.length,c=h.sample.pts,l++}else y.default.isHeader(e,d)?(i=y.default.getID3Data(e,d),p.push({pts:c,dts:c,data:i}),d+=i.length):d++;this.remuxer.remux(o,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,n,r)},t.prototype.destroy=function(){},t);function t(e,t,n){this.observer=e,this.config=n,this.remuxer=t}n.default=e}).call(this,r("./src/polyfills/number.js").Number)},"./src/demux/adts.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=n("./src/utils/logger.js"),h=n("./src/errors.js"),f=n("./src/events.js");function a(e,t,n,r){var o,i,a,s,l,c=navigator.userAgent.toLowerCase(),u=r,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[n+2])>>>6),i=(60&t[n+2])>>>2,!(d.length-1<i))return s=(1&t[n+2])<<2,s|=(192&t[n+3])>>>6,p.logger.log("manifest codec:"+r+",ADTS data:type:"+o+",sampleingIndex:"+i+"["+d[i]+"Hz],channelConfig:"+s),a=/firefox/i.test(c)?6<=i?(o=5,l=new Array(4),i-3):(o=2,l=new Array(2),i):-1!==c.indexOf("android")?(o=2,l=new Array(2),i):(o=5,l=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=i?i-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=i&&1==s||/vivaldi/i.test(c))||!r&&1==s)&&(o=2,l=new Array(2)),i)),l[0]=o<<3,l[0]|=(14&i)>>1,l[1]|=(1&i)<<7,l[1]|=s<<3,5===o&&(l[1]|=(14&a)>>1,l[2]=(1&a)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:d[i],channelCount:s,codec:"mp4a.40."+o,manifestCodec:u};e.trigger(f.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+i})}function o(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function c(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function u(e){return 9216e4/e}function d(e,t,n,r,o){var i,a,s=e.length;if(i=l(e,t),a=c(e,t),0<(a-=i)&&t+i+a<=s)return{headerLength:i,frameLength:a,stamp:n+r*o}}t.getAudioConfig=a,t.isHeaderPattern=o,t.getHeaderLength=l,t.getFullFrameLength=c,t.isHeader=function(e,t){return!!(t+1<e.length&&o(e,t))},t.probe=function(e,t){if(t+1<e.length&&o(e,t)){var n=l(e,t);t+5<e.length&&(n=c(e,t));var r=t+n;if(r===e.length||r+1<e.length&&o(e,r))return!0}return!1},t.initTrackConfig=function(e,t,n,r,o){if(!e.samplerate){var i=a(t,n,r,o);e.config=i.config,e.samplerate=i.samplerate,e.channelCount=i.channelCount,e.codec=i.codec,e.manifestCodec=i.manifestCodec,p.logger.log("parsed codec:"+e.codec+",rate:"+i.samplerate+",nb channel:"+i.channelCount)}},t.getFrameDuration=u,t.parseFrameHeader=d,t.appendFrame=function(e,t,n,r,o){var i=d(t,n,r,o,u(e.samplerate));if(i){var a=i.stamp,s=i.headerLength,l=i.frameLength,c={unit:t.subarray(n+s,n+s+l),pts:a,dts:a};return e.samples.push(c),e.len+=l,{sample:c,length:l+s}}}},"./src/demux/demuxer-inline.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m,k=n("./src/events.js"),x=n("./src/errors.js"),g=n("./src/crypt/decrypter.js"),T=n("./src/demux/aacdemuxer.js"),w=n("./src/demux/mp4demuxer.js"),S=n("./src/demux/tsdemuxer.js"),C=n("./src/demux/mp3demuxer.js"),P=n("./src/remux/mp4-remuxer.js"),j=n("./src/remux/passthrough-remuxer.js"),r=n("./src/utils/get-self-scope.js"),o=n("./src/utils/logger.js"),i=r.getSelfScope();try{m=i.performance.now.bind(i.performance)}catch(e){o.logger.debug("Unable to use Performance API on this environment"),m=i.Date.now}var a=(s.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},s.prototype.push=function(e,n,r,o,i,a,s,l,c,u,d,p){var h=this;if(0<e.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var t=this.decrypter;null==t&&(t=this.decrypter=new g.default(this.observer,this.config));var f=m();t.decrypt(e,n.key.buffer,n.iv.buffer,function(e){var t=m();h.observer.trigger(k.default.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:t}}),h.pushDecrypted(new Uint8Array(e),n,new Uint8Array(r),o,i,a,s,l,c,u,d,p)})}else this.pushDecrypted(new Uint8Array(e),n,new Uint8Array(r),o,i,a,s,l,c,u,d,p)},s.prototype.pushDecrypted=function(e,t,n,r,o,i,a,s,l,c,u,d){var p=this.demuxer;if(!p||(a||s)&&!this.probe(e)){for(var h=this.observer,f=this.typeSupported,m=this.config,g=[{demux:S.default,remux:P.default},{demux:w.default,remux:j.default},{demux:T.default,remux:P.default},{demux:C.default,remux:P.default}],y=0,v=g.length;y<v;y++){var b=g[y],_=b.demux.probe;if(_(e)){var A=this.remuxer=new b.remux(h,m,f,this.vendor);p=new b.demux(h,A,m,f),this.probe=_;break}}if(!p)return void h.trigger(k.default.ERROR,{type:x.ErrorTypes.MEDIA_ERROR,details:x.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var E=this.remuxer;(a||s)&&(p.resetInitSegment(n,r,o,c),E.resetInitSegment()),a&&(p.resetTimeStamp(d),E.resetTimeStamp(d)),"function"==typeof p.setDecryptData&&p.setDecryptData(t),p.append(e,i,l,u)},s);function s(e,t,n,r){this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r}t.default=a},"./src/demux/demuxer-worker.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("./src/demux/demuxer-inline.js"),s=n("./src/events.js"),l=n("./src/utils/logger.js"),c=n("./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(o){var r=new c.EventEmitter;r.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.emit.apply(r,[e,e].concat(t))},r.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r.removeListener.apply(r,[e].concat(t))};function i(e,t){o.postMessage({event:e,data:t})}o.addEventListener("message",function(e){var t=e.data;switch(t.cmd){case"init":var n=JSON.parse(t.config);o.demuxer=new a.default(r,t.typeSupported,n,t.vendor),l.enableLogs(n.debug),i("init",null);break;case"demux":o.demuxer.push(t.data,t.decryptdata,t.initSegment,t.audioCodec,t.videoCodec,t.timeOffset,t.discontinuity,t.trackSwitch,t.contiguous,t.duration,t.accurateTimeOffset,t.defaultInitPTS)}}),r.on(s.default.FRAG_DECRYPTED,i),r.on(s.default.FRAG_PARSING_INIT_SEGMENT,i),r.on(s.default.FRAG_PARSED,i),r.on(s.default.ERROR,i),r.on(s.default.FRAG_PARSING_METADATA,i),r.on(s.default.FRAG_PARSING_USERDATA,i),r.on(s.default.INIT_PTS_FOUND,i),r.on(s.default.FRAG_PARSING_DATA,function(e,t){var n=[],r={event:e,data:t};t.data1&&(r.data1=t.data1.buffer,n.push(t.data1.buffer),delete t.data1),t.data2&&(r.data2=t.data2.buffer,n.push(t.data2.buffer),delete t.data2),o.postMessage(r,n)})}},"./src/demux/demuxer.js":function(e,o,i){"use strict";(function(y){Object.defineProperty(o,"__esModule",{value:!0});var c=i("./node_modules/webworkify-webpack/index.js"),u=i("./src/events.js"),d=i("./src/demux/demuxer-inline.js"),v=i("./src/utils/logger.js"),p=i("./src/errors.js"),e=i("./src/utils/mediasource-helper.js"),t=i("./src/utils/get-self-scope.js"),h=i("./src/observer.js"),f=t.getSelfScope(),m=e.getMediaSource(),n=(r.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},r.prototype.push=function(e,t,n,r,o,i,a,s){var l=this.w,c=y.isFinite(o.startPTS)?o.startPTS:o.start,u=o.decryptdata,d=this.frag,p=!(d&&o.cc===d.cc),h=!(d&&o.level===d.level),f=d&&o.sn===d.sn+1,m=!h&&f;if(p&&v.logger.log(this.id+":discontinuity detected"),h&&v.logger.log(this.id+":switch detected"),this.frag=o,l)l.postMessage({cmd:"demux",data:e,decryptdata:u,initSegment:t,audioCodec:n,videoCodec:r,timeOffset:c,discontinuity:p,trackSwitch:h,contiguous:m,duration:i,accurateTimeOffset:a,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]);else{var g=this.demuxer;g&&g.push(e,u,t,n,r,c,p,h,m,i,a,s)}},r.prototype.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case u.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},r);function r(n,e){var r=this;this.hls=n,this.id=e;function t(e,t){(t=t||{}).frag=r.frag,t.id=r.id,n.trigger(e,t)}var o=this.observer=new h.Observer,i=n.config;o.on(u.default.FRAG_DECRYPTED,t),o.on(u.default.FRAG_PARSING_INIT_SEGMENT,t),o.on(u.default.FRAG_PARSING_DATA,t),o.on(u.default.FRAG_PARSED,t),o.on(u.default.ERROR,t),o.on(u.default.FRAG_PARSING_METADATA,t),o.on(u.default.FRAG_PARSING_USERDATA,t),o.on(u.default.INIT_PTS_FOUND,t);var a={mp4:m.isTypeSupported("video/mp4"),mpeg:m.isTypeSupported("audio/mpeg"),mp3:m.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){v.logger.log("demuxing in webworker");var l=void 0;try{l=this.w=c("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(e){n.trigger(u.default.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:a,vendor:s,id:e,config:JSON.stringify(i)})}catch(e){v.logger.warn("Error in worker:",e),v.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&f.URL.revokeObjectURL(l.objectURL),this.demuxer=new d.default(o,a,i,s),this.w=void 0}}else this.demuxer=new d.default(o,a,i,s)}o.default=n}).call(this,i("./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),o=(i.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");r.set(e.subarray(n,n+o)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*o,this.bytesAvailable-=o},i.prototype.skipBits=function(e){var t;this.bitsAvailable>e||(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord()),this.word<<=e,this.bitsAvailable-=e},i.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return 32<e&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,0<this.bitsAvailable?this.word<<=t:0<this.bytesAvailable&&this.loadWord(),0<(t=e-t)&&this.bitsAvailable?n<<t|this.readBits(t):n},i.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},i.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},i.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},i.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},i.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},i.prototype.readBoolean=function(){return 1===this.readBits(1)},i.prototype.readUByte=function(){return this.readBits(8)},i.prototype.readUShort=function(){return this.readBits(16)},i.prototype.readUInt=function(){return this.readBits(32)},i.prototype.skipScalingList=function(e){var t,n=8,r=8;for(t=0;t<e;t++)0!==r&&(r=(n+this.readEG()+256)%256),n=0===r?n:r},i.prototype.readSPS=function(){var e,t,n,r,o,i,a,s=0,l=0,c=0,u=0,d=this.readUByte.bind(this),p=this.readBits.bind(this),h=this.readUEG.bind(this),f=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(d(),e=d(),p(5),m(3),d(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&m(1),y(),y(),m(1),f())for(i=3!==b?8:12,a=0;a<i;a++)f()&&v(a<6?16:64)}y();var _=h();if(0===_)h();else if(1===_)for(m(1),g(),g(),t=h(),a=0;a<t;a++)g();y(),m(1),n=h(),r=h(),0===(o=p(1))&&m(1),m(1),f()&&(s=h(),l=h(),c=h(),u=h());var A=[1,1];if(f()&&f())switch(d()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-o)*(r+1)*16-(o?2:4)*(c+u),pixelRatio:A}},i.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},i);function i(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}t.default=o},"./src/demux/id3.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(s.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s.getID3Data=function(e,t){for(var n=t,r=0;s.isHeader(e,t);)r+=10,r+=s._readSize(e,t+6),s.isFooter(e,t+10)&&(r+=10),t+=r;if(0<r)return e.subarray(n,n+r)},s._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},s.getTimeStamp=function(e){for(var t=s.getID3Frames(e),n=0;n<t.length;n++){var r=t[n];if(s.isTimeStampFrame(r))return s._readTimeStamp(r)}},s.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},s._getFrameData=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s._readSize(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},s.getID3Frames=function(e){for(var t=0,n=[];s.isHeader(e,t);){for(var r=s._readSize(e,t+6),o=(t+=10)+r;t+8<o;){var i=s._getFrameData(e.subarray(t)),a=s._decodeFrame(i);a&&n.push(a),t+=i.size+10}s.isFooter(e,t)&&(t+=10)}return n},s._decodeFrame=function(e){return"PRIV"===e.type?s._decodePrivFrame(e):"T"===e.type[0]?s._decodeTextFrame(e):"W"===e.type[0]?s._decodeURLFrame(e):void 0},s._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},s._decodePrivFrame=function(e){if(!(e.size<2)){var t=s._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},s._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=s._utf8ArrayToStr(e.data.subarray(t));t+=n.length+1;var r=s._utf8ArrayToStr(e.data.subarray(t));return{key:e.type,info:n,data:r}}var o=s._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},s._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=s._utf8ArrayToStr(e.data.subarray(t));t+=n.length+1;var r=s._utf8ArrayToStr(e.data.subarray(t));return{key:e.type,info:n,data:r}}var o=s._utf8ArrayToStr(e.data);return{key:e.type,data:o}},s._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var n,r,o,i=e.length,a="",s=0;s<i;){if(0===(n=e[s++])&&t)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=e[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=e[s++],o=e[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&o)<<0)}}return a},s);function s(){}var o=r._utf8ArrayToStr;t.utf8ArrayToStr=o,t.default=r},"./src/demux/mp3demuxer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=n("./src/demux/id3.js"),o=n("./src/utils/logger.js"),m=n("./src/demux/mpegaudio.js"),r=(i.prototype.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},i.prototype.resetTimeStamp=function(){},i.probe=function(e){var t,n,r=f.default.getID3Data(e,0);if(r&&void 0!==f.default.getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(m.default.probe(e,t))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},i.prototype.append=function(e,t,n,r){for(var o=f.default.getID3Data(e,0),i=f.default.getTimeStamp(o),a=i?90*i:9e4*t,s=o.length,l=e.length,c=0,u=0,d=this._audioTrack,p=[{pts:a,dts:a,data:o}];s<l;)if(m.default.isHeader(e,s)){var h=m.default.appendFrame(d,e,s,a,c);if(!h)break;s+=h.length,u=h.sample.pts,c++}else f.default.isHeader(e,s)?(o=f.default.getID3Data(e,s),p.push({pts:u,dts:u,data:o}),s+=o.length):s++;this.remuxer.remux(d,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,n,r)},i.prototype.destroy=function(){},i);function i(e,t,n){this.observer=e,this.config=n,this.remuxer=t}t.default=r},"./src/demux/mp4demuxer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=n("./src/utils/logger.js"),l=n("./src/events.js"),s=Math.pow(2,32)-1,r=(m.prototype.resetTimeStamp=function(e){this.initPTS=e},m.prototype.resetInitSegment=function(e,t,n,r){if(e&&e.byteLength){var o=this.initData=m.parseInitSegment(e);null==t&&(t="mp4a.40.5"),null==n&&(n="avc1.42e01e");var i={};o.audio&&o.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:r?e:null}:(o.audio&&(i.audio={container:"audio/mp4",codec:t,initSegment:r?e:null}),o.video&&(i.video={container:"video/mp4",codec:n,initSegment:r?e:null})),this.observer.trigger(l.default.FRAG_PARSING_INIT_SEGMENT,{tracks:i})}else t&&(this.audioCodec=t),n&&(this.videoCodec=n)},m.probe=function(e){return 0<m.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length},m.bin2str=function(e){return String.fromCharCode.apply(null,e)},m.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n},m.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},m.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},m.findBox=function(e,t){var n,r,o,i,a,s,l=[];if(e.data?(a=e.start,o=e.end,e=e.data):(a=0,o=e.byteLength),!t.length)return null;for(n=a;n<o;)s=1<(r=m.readUint32(e,n))?n+r:o,m.bin2str(e.subarray(n+4,n+8))===t[0]&&(1===t.length?l.push({data:e,start:n+8,end:s}):(i=m.findBox({data:e,start:n+8,end:s},t.slice(1))).length&&(l=l.concat(i))),n=s;return l},m.parseSegmentIndex=function(e){var t,n=m.findBox(e,["moov"])[0],r=n?n.end:null,o=0,i=m.findBox(e,["sidx"]);if(!i||!i[0])return null;t=[];var a=(i=i[0]).data[0],s=m.readUint32(i,o=0===a?8:16);o+=4,o+=0===a?8:16,o+=2;var l=i.end+0,c=m.readUint16(i,o);o+=2;for(var u=0;u<c;u++){var d=o,p=m.readUint32(i,d);d+=4;var h=2147483647&p;if(1==(2147483648&p)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var f=m.readUint32(i,d);d+=4,t.push({referenceSize:h,subsegmentDuration:f,info:{duration:f/s,start:l,end:l+h-1}}),l+=h,o=d+=4}return{earliestPresentationTime:0,timescale:s,version:a,referencesCount:c,references:t,moovEndOffset:r}},m.parseInitSegment=function(e){var d=[];return m.findBox(e,["moov","trak"]).forEach(function(e){var t=m.findBox(e,["tkhd"])[0];if(t){var n=t.data[t.start],r=0===n?12:20,o=m.readUint32(t,r),i=m.findBox(e,["mdia","mdhd"])[0];if(i){n=i.data[i.start];var a=m.readUint32(i,r=0===n?12:20),s=m.findBox(e,["mdia","hdlr"])[0];if(s){var l={soun:"audio",vide:"video"}[m.bin2str(s.data.subarray(s.start+8,s.start+12))];if(l){var c=m.findBox(e,["mdia","minf","stbl","stsd"]);if(c.length){c=c[0];var u=m.bin2str(c.data.subarray(c.start+12,c.start+16));p.logger.log("MP4Demuxer:"+l+":"+u+" found")}d[o]={timescale:a,type:l},d[l]={timescale:a,id:o}}}}}}),d},m.getStartDTS=function(o,e){var t,n,r;return t=m.findBox(e,["moof","traf"]),n=[].concat.apply([],t.map(function(r){return m.findBox(r,["tfhd"]).map(function(e){var t,n;return t=m.readUint32(e,4),n=o[t].timescale||9e4,m.findBox(r,["tfdt"]).map(function(e){var t,n;return t=e.data[e.start],n=m.readUint32(e,4),1===t&&(n*=Math.pow(2,32),n+=m.readUint32(e,8)),n})[0]/n})})),r=Math.min.apply(null,n),isFinite(r)?r:0},m.offsetStartDTS=function(r,e,a){m.findBox(e,["moof","traf"]).map(function(n){return m.findBox(n,["tfhd"]).map(function(e){var t=m.readUint32(e,4),i=r[t].timescale||9e4;m.findBox(n,["tfdt"]).map(function(e){var t=e.data[e.start],n=m.readUint32(e,4);if(0===t)m.writeUint32(e,4,n-a*i);else{n*=Math.pow(2,32),n+=m.readUint32(e,8),n-=a*i,n=Math.max(n,0);var r=Math.floor(n/(1+s)),o=Math.floor(n%(1+s));m.writeUint32(e,4,r),m.writeUint32(e,8,o)}})})})},m.prototype.append=function(e,t,n,r){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),o=this.initData);var i,a=this.initPTS;if(void 0===a){var s=m.getStartDTS(o,e);this.initPTS=a=s-t,this.observer.trigger(l.default.INIT_PTS_FOUND,{initPTS:a})}m.offsetStartDTS(o,e,a),i=m.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,i,n,r,e)},m.prototype.destroy=function(){},m);function m(e,t){this.observer=e,this.remuxer=t}t.default=r},"./src/demux/mpegaudio.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,r,o){if(!(n+24>t.length)){var i=this.parseHeader(t,n);if(i&&n+i.frameLength<=t.length){var a=r+o*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:t.subarray(n,n+i.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(s),e.len+=i.frameLength,{sample:s,length:i.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,o=e[t+2]>>4&15,i=e[t+2]>>2&3,a=e[t+2]>>1&1;if(1!=n&&0!=o&&15!=o&&3!=i){var s=3==n?3-r:3==r?3:4,l=1e3*m.BitratesMap[14*s+o-1],c=3==n?0:2==n?1:2,u=m.SamplingRateMap[3*c+i],d=e[t+3]>>6==3?1:2,p=m.SamplesCoefficients[n][r],h=m.BytesInSlot[r],f=8*p*h;return{sampleRate:u,channelCount:d,frameLength:parseInt(p*l/u+a,10)*h,samplesPerFrame:f}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),r=4;n&&n.frameLength&&(r=n.frameLength);var o=t+r;if(o===e.length||o+1<e.length&&this.isHeaderPattern(e,o))return!0}return!1}};t.default=m},"./src/demux/sample-aes.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/crypt/decrypter.js"),r=(i.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},i.prototype.decryptAacSample=function(t,n,r,o){var i=t[n].unit,e=i.subarray(16,i.length-i.length%16),a=e.buffer.slice(e.byteOffset,e.byteOffset+e.length),s=this;this.decryptBuffer(a,function(e){e=new Uint8Array(e),i.set(e,16),o||s.decryptAacSamples(t,n+1,r)})},i.prototype.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},i.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,o=32;o<=e.length-16;o+=160,r+=16)n.set(e.subarray(o,o+16),r);return n},i.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e},i.prototype.decryptAvcSample=function(t,n,r,o,i,a){var s=this.discardEPB(i.data),e=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(e.buffer,function(e){i.data=l.getAvcDecryptedUnit(s,e),a||l.decryptAvcSamples(t,n,r+1,o)})},i.prototype.decryptAvcSamples=function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var o=e[t].units;!(n>=o.length);n++){var i=o[n];if(!(i.length<=48||1!==i.type&&5!==i.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,i,a),!a)return}}}},i);function i(e,t,n,r){this.decryptdata=n,this.discardEPB=r,this.decrypter=new o.default(e,t,{removePKCS7Padding:!1})}t.default=r},"./src/demux/tsdemuxer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=n("./src/demux/adts.js"),s=n("./src/demux/mpegaudio.js"),O=n("./src/events.js"),x=n("./src/demux/exp-golomb.js"),r=n("./src/demux/sample-aes.js"),R=n("./src/utils/logger.js"),L=n("./src/errors.js"),o={video:1,audio:2,id3:3,text:4},i=(I.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new r.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},I.probe=function(e){var t=I._syncOffset(e);return!(t<0||(t&&R.logger.warn("MPEG2-TS detected but first sync word found @ offset "+t+", junk ahead ?"),0))},I._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},I.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:o[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},I.prototype.resetInitSegment=function(e,t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=I.createTrack("video",r),this._audioTrack=I.createTrack("audio",r),this._id3Track=I.createTrack("id3",r),this._txtTrack=I.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},I.prototype.resetTimeStamp=function(){},I.prototype.append=function(e,t,n,r){var o,i,a,s,l,c=e.length,u=!1;this.contiguous=n;var d=this.pmtParsed,p=this._avcTrack,h=this._audioTrack,f=this._id3Track,m=p.pid,g=h.pid,y=f.pid,v=this._pmtId,b=p.pesData,_=h.pesData,A=f.pesData,E=this._parsePAT,k=this._parsePMT,x=this._parsePES,T=this._parseAVCPES.bind(this),w=this._parseAACPES.bind(this),S=this._parseMPEGPES.bind(this),C=this._parseID3PES.bind(this),P=I._syncOffset(e);for(c-=(c+P)%188,o=P;o<c;o+=188)if(71===e[o]){if(i=!!(64&e[o+1]),a=((31&e[o+1])<<8)+e[o+2],1<(48&e[o+3])>>4){if((s=o+5+e[o+4])===o+188)continue}else s=o+4;switch(a){case m:i&&(b&&(l=x(b))&&void 0!==l.pts&&T(l,!1),b={data:[],size:0}),b&&(b.data.push(e.subarray(s,o+188)),b.size+=o+188-s);break;case g:i&&(_&&(l=x(_))&&void 0!==l.pts&&(h.isAAC?w(l):S(l)),_={data:[],size:0}),_&&(_.data.push(e.subarray(s,o+188)),_.size+=o+188-s);break;case y:i&&(A&&(l=x(A))&&void 0!==l.pts&&C(l),A={data:[],size:0}),A&&(A.data.push(e.subarray(s,o+188)),A.size+=o+188-s);break;case 0:i&&(s+=e[s]+1),v=this._pmtId=E(e,s);break;case v:i&&(s+=e[s]+1);var j=k(e,s,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(m=j.avc)&&(p.pid=m),0<(g=j.audio)&&(h.pid=g,h.isAAC=j.isAAC),0<(y=j.id3)&&(f.pid=y),u&&!d&&(R.logger.log("reparse from beginning"),u=!1,o=P-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:u=!0}}else this.observer.trigger(O.default.ERROR,{type:L.ErrorTypes.MEDIA_ERROR,details:L.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(l=x(b))&&void 0!==l.pts?(T(l,!0),p.pesData=null):p.pesData=b,_&&(l=x(_))&&void 0!==l.pts?(h.isAAC?w(l):S(l),h.pesData=null):(_&&_.size&&R.logger.log("last AAC PES packet truncated,might overlap between fragments"),h.pesData=_),A&&(l=x(A))&&void 0!==l.pts?(C(l),f.pesData=null):f.pesData=A,null==this.sampleAes?this.remuxer.remux(h,p,f,this._txtTrack,t,n,r):this.decryptAndRemux(h,p,f,this._txtTrack,t,n,r)},I.prototype.decryptAndRemux=function(e,t,n,r,o,i,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,n,r,o,i,a)})}else this.decryptAndRemuxAvc(e,t,n,r,o,i,a)},I.prototype.decryptAndRemuxAvc=function(e,t,n,r,o,i,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,n,r,o,i,a)})}else this.remuxer.remux(e,t,n,r,o,i,a)},I.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},I.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},I.prototype._parsePMT=function(e,t,n,r){var o,i,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(o=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){R.logger.log("unkown stream type:"+e[t]);break}case 15:-1===a.audio&&(a.audio=i);break;case 21:-1===a.id3&&(a.id3=i);break;case 219:if(!r){R.logger.log("unkown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=i);break;case 3:case 4:n?-1===a.audio&&(a.audio=i,a.isAAC=!1):R.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:R.logger.warn("HEVC stream type found, not supported for now");break;default:R.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a},I.prototype._parsePES=function(e){var t,n,r,o,i,a,s,l,c=0,u=e.data;if(!e||0===e.size)return null;for(;u[0].length<19&&1<u.length;){var d=new Uint8Array(u[0].length+u[1].length);d.set(u[0]),d.set(u[1],u[0].length),u[0]=d,u.splice(1,1)}if(1!==((t=u[0])[0]<<16)+(t[1]<<8)+t[2])return null;if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;192&(n=t[7])&&(4294967295<(a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)&&(a-=8589934592),64&n?(4294967295<(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)&&(s-=8589934592),54e5<a-s&&(R.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),l=(o=t[8])+9,e.size-=l,i=new Uint8Array(e.size);for(var p=0,h=u.length;p<h;p++){var f=(t=u[p]).byteLength;if(l){if(f<l){l-=f;continue}t=t.subarray(l),f-=l,l=0}i.set(t,c),c+=f}return r&&(r-=o+3),{data:i,pts:a,dts:s,len:r}},I.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&R.logger.log(e.pts+"/"+e.dts+":"+e.debug)},I.prototype._parseAVCPES=function(f,e){function m(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}}var g,y,v,b=this,_=this._avcTrack,t=this._parseAVCNALu(f.data),A=this.avcSample,E=!1,k=this.pushAccesUnit.bind(this);f.data=null,A&&t.length&&!_.audFound&&(k(A,_),A=this.avcSample=m(!1,f.pts,f.dts,"")),t.forEach(function(e){switch(e.type){case 1:y=!0,(A=A||(b.avcSample=m(!0,f.pts,f.dts,""))).frame=!0;var t=e.data;if(E&&4<t.length){var n=new x.default(t).readSliceType();2!==n&&4!==n&&7!==n&&9!==n||(A.key=!0)}break;case 5:y=!0,(A=A||(b.avcSample=m(!0,f.pts,f.dts,""))).key=!0,A.frame=!0;break;case 6:y=!0,(g=new x.default(b.discardEPB(e.data))).readUByte();for(var r=0,o=0,i=!1,a=0;!i&&1<g.bytesAvailable;){for(r=0;r+=a=g.readUByte(),255===a;);for(o=0;o+=a=g.readUByte(),255===a;);if(4===r&&0!==g.bytesAvailable){if(i=!0,181===g.readUByte()&&49===g.readUShort()&&1195456820===g.readUInt()&&3===g.readUByte()){var s=g.readUByte(),l=31&s,c=[s,g.readUByte()];for(v=0;v<l;v++)c.push(g.readUByte()),c.push(g.readUByte()),c.push(g.readUByte());b._insertSampleInOrder(b._txtTrack.samples,{type:3,pts:f.pts,bytes:c})}}else if(o<g.bytesAvailable)for(v=0;v<o;v++)g.readUByte()}break;case 7:if(E=y=!0,!_.sps){var u=(g=new x.default(e.data)).readSPS();_.width=u.width,_.height=u.height,_.pixelRatio=u.pixelRatio,_.sps=[e.data],_.duration=b._duration;var d=e.data.subarray(1,4),p="avc1.";for(v=0;v<3;v++){var h=d[v].toString(16);h.length<2&&(h="0"+h),p+=h}_.codec=p}break;case 8:y=!0,_.pps||(_.pps=[e.data]);break;case 9:y=!1,_.audFound=!0,A&&k(A,_),A=b.avcSample=m(!1,f.pts,f.dts,"");break;case 12:y=!1;break;default:y=!1,A&&(A.debug+="unknown NAL "+e.type+" ")}A&&y&&A.units.push(e)}),e&&A&&(k(A,_),this.avcSample=null)},I.prototype._insertSampleInOrder=function(e,t){var n=e.length;if(0<n){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;0<=r;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},I.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},I.prototype._parseAVCNALu=function(e){var t,n,r,o,i=0,a=e.byteLength,s=this._avcTrack,l=s.naluState||0,c=l,u=[],d=-1;for(-1===l&&(o=31&e[d=0],l=0,i=1);i<a;)if(t=e[i++],l)if(1!==l)if(t)if(1===t){var p,h;0<=d?(r={data:e.subarray(d,i-l-1),type:o},u.push(r)):(p=this._getLastNalUnit())&&(c&&i<=4-c&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),0<(n=i-l-1)&&((h=new Uint8Array(p.data.byteLength+n)).set(p.data,0),h.set(e.subarray(0,n),p.data.byteLength),p.data=h)),l=i<a?(o=31&e[d=i],0):-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;return 0<=d&&0<=l&&(r={data:e.subarray(d,a),type:o,state:l},u.push(r)),0!==u.length||(p=this._getLastNalUnit())&&((h=new Uint8Array(p.data.byteLength+e.byteLength)).set(p.data,0),h.set(e,p.data.byteLength),p.data=h),s.naluState=l,u},I.prototype.discardEPB=function(e){for(var t,n,r=e.byteLength,o=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(o.push(i+2),i+=2):i++;if(0===o.length)return e;t=r-o.length,n=new Uint8Array(t);var a=0;for(i=0;i<t;a++,i++)a===o[0]&&(a++,o.shift()),n[i]=e[a];return n},I.prototype._parseAACPES=function(e){var t,n,r,o,i,a=this._audioTrack,s=e.data,l=e.pts,c=this.aacOverFlow,u=this.aacLastPTS;if(c){var d=new Uint8Array(c.byteLength+s.byteLength);d.set(c,0),d.set(s,c.byteLength),s=d}for(r=0,i=s.length;r<i-1&&!g.isHeader(s,r);r++);if(r){var p=void 0,h=void 0;if(h=r<i-1?(p="AAC PES did not start with ADTS header,offset:"+r,!1):(p="no ADTS header found in AAC PES",!0),R.logger.warn("parsing error:"+p),this.observer.trigger(O.default.ERROR,{type:L.ErrorTypes.MEDIA_ERROR,details:L.ErrorDetails.FRAG_PARSING_ERROR,fatal:h,reason:p}),h)return}if(g.initTrackConfig(a,this.observer,s,r,this.audioCodec),n=0,t=g.getFrameDuration(a.samplerate),c&&u){var f=u+t;1<Math.abs(f-l)&&(R.logger.log("AAC: align PTS for overlapping frames by "+Math.round((f-l)/90)),l=f)}for(;r<i;)if(g.isHeader(s,r)&&r+5<i){var m=g.appendFrame(a,s,r,l,n);if(!m)break;r+=m.length,o=m.sample.pts,n++}else r++;c=r<i?s.subarray(r,i):null,this.aacOverFlow=c,this.aacLastPTS=o},I.prototype._parseMPEGPES=function(e){for(var t=e.data,n=t.length,r=0,o=0,i=e.pts;o<n;)if(s.default.isHeader(t,o)){var a=s.default.appendFrame(this._audioTrack,t,o,i,r);if(!a)break;o+=a.length,r++}else o++},I.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},I);function I(e,t,n,r){this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=t,this.sampleAes=null}t.default=i},"./src/errors.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/logger.js"),o=n("./src/errors.js"),i=n("./src/events.js"),a={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=(l.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},l.prototype.onHandlerDestroying=function(){},l.prototype.onHandlerDestroyed=function(){},l.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},l.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(a[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},l.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},l.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},l.prototype.onEventGeneric=function(t,e){try{(function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)}).call(this,t,e).call()}catch(e){r.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(i.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},l);function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}t.default=s},"./src/events.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var _,i=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/errors.js"),A=n("./src/loader/playlist-loader.js"),E=n("./src/loader/fragment-loader.js"),k=n("./src/loader/key-loader.js"),x=n("./src/controller/fragment-tracker.js"),T=n("./src/controller/stream-controller.js"),w=n("./src/controller/level-controller.js"),S=n("./src/controller/id3-track-controller.js"),s=n("./src/is-supported.js"),C=n("./src/utils/logger.js"),l=n("./src/config.js"),c=n("./src/events.js"),u=n("./src/observer.js"),d=(_=u.Observer,o(P,_),Object.defineProperty(P,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),P.isSupported=function(){return s.isSupported()},Object.defineProperty(P,"Events",{get:function(){return c.default},enumerable:!0,configurable:!0}),Object.defineProperty(P,"ErrorTypes",{get:function(){return a.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(P,"ErrorDetails",{get:function(){return a.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(P,"DefaultConfig",{get:function(){return P.defaultConfig?P.defaultConfig:l.hlsDefaultConfig},set:function(e){P.defaultConfig=e},enumerable:!0,configurable:!0}),P.prototype.destroy=function(){C.logger.log("destroy"),this.trigger(c.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},P.prototype.attachMedia=function(e){C.logger.log("attachMedia"),this.media=e,this.trigger(c.default.MEDIA_ATTACHING,{media:e})},P.prototype.detachMedia=function(){C.logger.log("detachMedia"),this.trigger(c.default.MEDIA_DETACHING),this.media=null},P.prototype.loadSource=function(e){e=i.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),C.logger.log("loadSource:"+e),this.url=e,this.trigger(c.default.MANIFEST_LOADING,{url:e})},P.prototype.startLoad=function(t){void 0===t&&(t=-1),C.logger.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},P.prototype.stopLoad=function(){C.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},P.prototype.swapAudioCodec=function(){C.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},P.prototype.recoverMediaError=function(){C.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(P.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){C.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){C.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){C.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){C.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){C.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){C.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++)if(t<(e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate))return r;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),P);function P(e){void 0===e&&(e={});var t=_.call(this)||this,n=P.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in e||(e[r]=n[r]);if(void 0!==e.liveMaxLatencyDurationCount&&e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(e.liveMaxLatencyDuration<=e.liveSyncDuration||void 0===e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');C.enableLogs(e.debug),t.config=e,t._autoLevelCapping=-1;var o=t.abrController=new e.abrController(t),i=new e.bufferController(t),a=new e.capLevelController(t),s=new e.fpsController(t),l=new A.default(t),c=new E.default(t),u=new k.default(t),d=new S.default(t),p=t.levelController=new w.default(t),h=new x.FragmentTracker(t),f=[p,t.streamController=new T.default(t,h)],m=e.audioStreamController;m&&f.push(new m(t,h)),t.networkControllers=f;var g=[l,c,u,o,i,a,s,d,h];if(m=e.audioTrackController){var y=new m(t);t.audioTrackController=y,g.push(y)}if(m=e.subtitleTrackController){var v=new m(t);t.subtitleTrackController=v,f.push(v)}if(m=e.emeController){var b=new m(t);t.emeController=b,g.push(b)}return(m=e.subtitleStreamController)&&f.push(new m(t,h)),(m=e.timelineController)&&g.push(new m(t)),t.coreComponents=g,t}t.default=d},"./src/is-supported.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/utils/mediasource-helper.js");t.isSupported=function(){var e=o.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!r}},"./src/loader/fragment-loader.js":function(e,l,c){"use strict";(function(h){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(l,"__esModule",{value:!0});var o,a=c("./src/events.js"),t=c("./src/event-handler.js"),i=c("./src/errors.js"),f=c("./src/utils/logger.js"),n=(o=t.default,e(s,o),s.prototype.destroy=function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},o.prototype.destroy.call(this)},s.prototype.onFragLoading=function(e){var t=e.frag,n=t.type,r=this.loaders,o=this.hls.config,i=o.fLoader,a=o.loader;t.loaded=0;var s,l,c,u=r[n];u&&(f.logger.warn("abort previous fragment loader for type: "+n),u.abort()),u=r[n]=t.loader=o.fLoader?new i(o):new a(o),s={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var d=t.byteRangeStartOffset,p=t.byteRangeEndOffset;h.isFinite(d)&&h.isFinite(p)&&(s.rangeStart=d,s.rangeEnd=p),l={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},u.load(s,l,c)},s.prototype.loadsuccess=function(e,t,n,r){void 0===r&&(r=null);var o=e.data,i=n.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(a.default.FRAG_LOADED,{payload:o,frag:i,stats:t,networkDetails:r})},s.prototype.loaderror=function(e,t,n){void 0===n&&(n=null);var r=t.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(a.default.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},s.prototype.loadtimeout=function(e,t,n){void 0===n&&(n=null);var r=t.frag,o=r.loader;o&&o.abort(),this.loaders[r.type]=void 0,this.hls.trigger(a.default.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},s.prototype.loadprogress=function(e,t,n,r){void 0===r&&(r=null);var o=t.frag;o.loaded=e.loaded,this.hls.trigger(a.default.FRAG_LOAD_PROGRESS,{frag:o,stats:e,networkDetails:r})},s);function s(e){var t=o.call(this,e,a.default.FRAG_LOADING)||this;return t.loaders={},t}l.default=n}).call(this,c("./src/polyfills/number.js").Number)},"./src/loader/fragment.js":function(e,i,a){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0});var e=a("./node_modules/url-toolkit/src/url-toolkit.js"),r=a("./src/loader/level-key.js"),n=(Object.defineProperty(o,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=e.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"endProgramDateTime",{get:function(){if(!t.isFinite(this.programDateTime))return null;var e=t.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),o.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},o.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},o.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},o.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&((n=new r.default).method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n},o);function o(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[o.ElementaryStreamTypes.AUDIO]=!1,e[o.ElementaryStreamTypes.VIDEO]=!1,e)}i.default=n}).call(this,a("./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,u=n("./src/events.js"),a=n("./src/event-handler.js"),s=n("./src/errors.js"),d=n("./src/utils/logger.js"),l=(i=a.default,o(c,i),c.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},a.default.prototype.destroy.call(this)},c.prototype.onKeyLoading=function(e){var t=e.frag,n=t.type,r=this.loaders[n],o=t.decryptdata,i=o.uri;if(i!==this.decrypturl||null===this.decryptkey){var a,s,l,c=this.hls.config;r&&(d.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new c.loader(c),this.decrypturl=i,this.decryptkey=null,a={url:i,frag:t,responseType:"arraybuffer"},s={timeout:c.fragLoadingTimeOut,maxRetry:0,retryDelay:c.fragLoadingRetryDelay,maxRetryDelay:c.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(a,s,l)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))},c.prototype.loadsuccess=function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(u.default.KEY_LOADED,{frag:r})},c.prototype.loaderror=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},c.prototype.loadtimeout=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},c);function c(e){var t=i.call(this,e,u.default.KEY_LOADING)||this;return t.loaders={},t.decryptkey=null,t.decrypturl=null,t}t.default=l},"./src/loader/level-key.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=(Object.defineProperty(i.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=r.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),i);function i(){this.method=null,this.key=null,this.iv=null,this._uri=null}t.default=o},"./src/loader/level.js":function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0});var t=(Object.defineProperty(n.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),n);function n(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}r.default=t}).call(this,t("./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":function(e,t,r){"use strict";(function(P){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./node_modules/url-toolkit/src/url-toolkit.js"),j=r("./src/loader/fragment.js"),O=r("./src/loader/level.js"),R=r("./src/loader/level-key.js"),L=r("./src/utils/attr-list.js"),I=r("./src/utils/logger.js"),l=r("./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,u=/#EXT-X-MEDIA:(.*)/g,D=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),M=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,N=/\.(mp4|m4s|m4v|m4a)$/i,e=(d.findGroup=function(e,t){if(!e)return null;for(var n=null,r=0;r<e.length;r++){var o=e[r];o.id===t&&(n=o)}return n},d.convertAVC1ToAVCOTI=function(e){var t,n=e.split(".");return 2<n.length?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},d.resolve=function(e,t){return n.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},d.parseMasterPlaylist=function(e,t){var n,r=[];function o(r,o){["video","audio"].forEach(function(t){var n=r.filter(function(e){return l.isCodecType(e,t)});if(n.length){var e=n.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});o[t+"Codec"]=0<e.length?e[0]:n[0],r=r.filter(function(e){return-1===n.indexOf(e)})}}),o.unknownCodecs=r}for(c.lastIndex=0;null!=(n=c.exec(e));){var i={},a=i.attrs=new L.default(n[1]);i.url=d.resolve(n[2],t);var s=a.decimalResolution("RESOLUTION");s&&(i.width=s.width,i.height=s.height),i.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),i.name=a.NAME,o([].concat((a.CODECS||"").split(/[ ,]+/)),i),i.videoCodec&&-1!==i.videoCodec.indexOf("avc1")&&(i.videoCodec=d.convertAVC1ToAVCOTI(i.videoCodec)),r.push(i)}return r},d.parseMasterPlaylistMedia=function(e,t,n,r){var o;void 0===r&&(r=[]);var i=[],a=0;for(u.lastIndex=0;null!==(o=u.exec(e));){var s={},l=new L.default(o[1]);if(l.TYPE===n){if(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=n,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=d.resolve(l.URI,t)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),r.length){var c=d.findGroup(r,s.groupId);s.audioCodec=c?c.codec:r[0].codec}s.id=a++,i.push(s)}}return i},d.parseLevelPlaylist=function(e,t,n,r,o){var i,a,s=0,l=0,c=new O.default(t),u=new R.default,d=0,p=null,h=new j.default,f=null;for(D.lastIndex=0;null!==(i=D.exec(e));){var m=i[1];if(m){h.duration=parseFloat(m);var g=(" "+i[2]).slice(1);h.title=g||null,h.tagList.push(g?["INF",m,g]:["INF",m])}else if(i[3]){if(P.isFinite(h.duration)){var y=s++;h.type=r,h.start=l,h.levelkey=u,h.sn=y,h.level=n,h.cc=d,h.urlId=o,h.baseurl=t,h.relurl=(" "+i[3]).slice(1),F(h,p),c.fragments.push(h),l+=(p=h).duration,h=new j.default}}else if(i[4]){if(h.rawByteRange=(" "+i[4]).slice(1),p){var v=p.byteRangeEndOffset;v&&(h.lastByteRangeEndOffset=v)}}else if(i[5])h.rawProgramDateTime=(" "+i[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),null===f&&(f=c.fragments.length);else{for(i=i[0].match(M),a=1;a<i.length&&void 0===i[a];a++);var b=(" "+i[a+1]).slice(1),_=(" "+i[a+2]).slice(1);switch(i[a]){case"#":h.tagList.push(_?[b,_]:[b]);break;case"PLAYLIST-TYPE":c.type=b.toUpperCase();break;case"MEDIA-SEQUENCE":s=c.startSN=parseInt(b);break;case"TARGETDURATION":c.targetduration=parseFloat(b);break;case"VERSION":c.version=parseInt(b);break;case"EXTM3U":break;case"ENDLIST":c.live=!1;break;case"DIS":d++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(b);break;case"KEY":var A=b,E=new L.default(A),k=E.enumeratedString("METHOD"),x=E.URI,T=E.hexadecimalInteger("IV");k&&(u=new R.default,x&&0<=["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(k)&&(u.method=k,u.baseuri=t,u.reluri=x,u.key=null,u.iv=T));break;case"START":var w=b,S=new L.default(w).decimalFloatingPoint("TIME-OFFSET");P.isFinite(S)&&(c.startTimeOffset=S);break;case"MAP":var C=new L.default(b);h.relurl=C.URI,h.rawByteRange=C.BYTERANGE,h.baseurl=t,h.level=n,h.type=r,h.sn="initSegment",c.initSegment=h,(h=new j.default).rawProgramDateTime=c.initSegment.rawProgramDateTime;break;default:I.logger.warn("line parsed but not handled: "+i)}}}return(h=p)&&!h.relurl&&(c.fragments.pop(),l-=h.duration),c.totalduration=l,c.averagetargetduration=l/c.fragments.length,c.endSN=s-1,c.startCC=c.fragments[0]?c.fragments[0].cc:0,c.endCC=d,!c.initSegment&&c.fragments.length&&c.fragments.every(function(e){return N.test(e.relurl)})&&(I.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(h=new j.default).relurl=c.fragments[0].relurl,h.baseurl=t,h.level=n,h.type=r,h.sn="initSegment",c.initSegment=h,c.needSidxRanges=!0),f&&function(e,t){for(var n=e[t],r=t-1;0<=r;r--){var o=e[r];o.programDateTime=n.programDateTime-1e3*o.duration,n=o}}(c.fragments,f),c},d);function d(){}function F(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),P.isFinite(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}t.default=e}).call(this,r("./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":function(e,s,c){"use strict";(function(m){var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(s,"__esModule",{value:!0});var n,g=c("./src/events.js"),t=c("./src/event-handler.js"),l=c("./src/errors.js"),p=c("./src/utils/logger.js"),i=c("./src/demux/mp4demuxer.js"),y=c("./src/loader/m3u8-parser.js"),v=window.performance,b={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},o={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},a=(n=t.default,e(_,n),Object.defineProperty(_,"ContextType",{get:function(){return b},enumerable:!0,configurable:!0}),Object.defineProperty(_,"LevelType",{get:function(){return o},enumerable:!0,configurable:!0}),_.canHaveQualityLevels=function(e){return e!==b.AUDIO_TRACK&&e!==b.SUBTITLE_TRACK},_.mapContextToLevelType=function(e){switch(e.type){case b.AUDIO_TRACK:return o.AUDIO;case b.SUBTITLE_TRACK:return o.SUBTITLE;default:return o.MAIN}},_.getResponseUrl=function(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n},_.prototype.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,o=new(n||r)(t);return e.loader=o,this.loaders[e.type]=o},_.prototype.getInternalLoader=function(e){return this.loaders[e.type]},_.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},_.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},_.prototype.destroy=function(){this.destroyInternalLoaders(),n.prototype.destroy.call(this)},_.prototype.onManifestLoading=function(e){this.load(e.url,{type:b.MANIFEST,level:0,id:null})},_.prototype.onLevelLoading=function(e){this.load(e.url,{type:b.LEVEL,level:e.level,id:e.id})},_.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:b.AUDIO_TRACK,level:null,id:e.id})},_.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:b.SUBTITLE_TRACK,level:null,id:e.id})},_.prototype.load=function(e,t){var n=this.hls.config;p.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var r,o,i,a,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===e)return p.logger.trace("playlist request ongoing"),!1;p.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case b.MANIFEST:r=n.manifestLoadingMaxRetry,o=n.manifestLoadingTimeOut,i=n.manifestLoadingRetryDelay,a=n.manifestLoadingMaxRetryTimeout;break;case b.LEVEL:r=0,o=n.levelLoadingTimeOut;break;default:r=n.levelLoadingMaxRetry,o=n.levelLoadingTimeOut,i=n.levelLoadingRetryDelay,a=n.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:o,maxRetry:r,retryDelay:i,maxRetryDelay:a},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return p.logger.debug("Calling internal loader delegate for URL: "+e),s.load(t,c,u),!0},_.prototype.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var o=e.data;t.tload=v.now(),0===o.indexOf("#EXTM3U")?0<o.indexOf("#EXTINF:")||0<o.indexOf("#EXT-X-TARGETDURATION:")?this._handleTrackOrLevelPlaylist(e,t,n,r):this._handleMasterPlaylist(e,t,n,r):this._handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},_.prototype.loaderror=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!1,e)},_.prototype.loadtimeout=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!0)},_.prototype._handleMasterPlaylist=function(e,t,n,r){var o=this.hls,i=e.data,a=_.getResponseUrl(e,n),s=y.default.parseMasterPlaylist(i,a);if(s.length){var l=s.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),c=y.default.parseMasterPlaylistMedia(i,a,"AUDIO",l),u=y.default.parseMasterPlaylistMedia(i,a,"SUBTITLES");if(c.length){var d=!1;c.forEach(function(e){e.url||(d=!0)}),!1===d&&s[0].audioCodec&&!s[0].attrs.AUDIO&&(p.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),c.unshift({type:"main",name:"main"}))}o.trigger(g.default.MANIFEST_LOADED,{levels:s,audioTracks:c,subtitles:u,url:a,stats:t,networkDetails:r})}else this._handleManifestParsingError(e,n,"no level found in manifest",r)},_.prototype._handleTrackOrLevelPlaylist=function(e,t,n,r){var o=this.hls,i=n.id,a=n.level,s=n.type,l=_.getResponseUrl(e,n),c=m.isFinite(i)?i:0,u=m.isFinite(a)?a:c,d=_.mapContextToLevelType(n),p=y.default.parseLevelPlaylist(e.data,l,u,d,c);if(p.tload=t.tload,s===b.MANIFEST){var h={url:l,details:p};o.trigger(g.default.MANIFEST_LOADED,{levels:[h],audioTracks:[],url:l,stats:t,networkDetails:r})}if(t.tparsed=v.now(),p.needSidxRanges){var f=p.initSegment.url;this.load(f,{isSidxRequest:!0,type:s,level:a,levelDetails:p,id:i,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=p,this._handlePlaylistLoaded(e,t,n,r)},_.prototype._handleSidxRequest=function(e,t){var n=i.default.parseSegmentIndex(new Uint8Array(e.data));if(n){var r=n.references,o=t.levelDetails;r.forEach(function(e,t){var n=e.info,r=o.fragments[t];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))}),o.initSegment.rawByteRange=String(n.moovEndOffset)+"@0"}},_.prototype._handleManifestParsingError=function(e,t,n,r){this.hls.trigger(g.default.ERROR,{type:l.ErrorTypes.NETWORK_ERROR,details:l.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:r})},_.prototype._handleNetworkError=function(e,t,n,r){var o,i;void 0===n&&(n=!1),void 0===r&&(r=null),p.logger.info("A network error occured while loading a "+e.type+"-type playlist");var a=this.getInternalLoader(e);switch(e.type){case b.MANIFEST:o=n?l.ErrorDetails.MANIFEST_LOAD_TIMEOUT:l.ErrorDetails.MANIFEST_LOAD_ERROR,i=!0;break;case b.LEVEL:o=n?l.ErrorDetails.LEVEL_LOAD_TIMEOUT:l.ErrorDetails.LEVEL_LOAD_ERROR,i=!1;break;case b.AUDIO_TRACK:o=n?l.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,i=!1;break;default:i=!1}a&&(a.abort(),this.resetInternalLoader(e.type));var s={type:l.ErrorTypes.NETWORK_ERROR,details:o,fatal:i,url:a.url,loader:a,context:e,networkDetails:t};r&&(s.response=r),this.hls.trigger(g.default.ERROR,s)},_.prototype._handlePlaylistLoaded=function(e,t,n,r){var o=n.type,i=n.level,a=n.id,s=n.levelDetails;if(s.targetduration)if(_.canHaveQualityLevels(n.type))this.hls.trigger(g.default.LEVEL_LOADED,{details:s,level:i||0,id:a||0,stats:t,networkDetails:r});else switch(o){case b.AUDIO_TRACK:this.hls.trigger(g.default.AUDIO_TRACK_LOADED,{details:s,id:a,stats:t,networkDetails:r});break;case b.SUBTITLE_TRACK:this.hls.trigger(g.default.SUBTITLE_TRACK_LOADED,{details:s,id:a,stats:t,networkDetails:r})}else this._handleManifestParsingError(e,n,"invalid target duration",r)},_);function _(e){var t=n.call(this,e,g.default.MANIFEST_LOADING,g.default.LEVEL_LOADING,g.default.AUDIO_TRACK_LOADING,g.default.SUBTITLE_TRACK_LOADING)||this;return t.loaders={},t}s.default=a}).call(this,c("./src/polyfills/number.js").Number)},"./src/observer.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("./node_modules/eventemitter3/index.js"),s=(i=a.EventEmitter,o(l,i),l.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(t))},l);function l(){return null!==i&&i.apply(this,arguments)||this}t.Observer=s},"./src/polyfills/number.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/get-self-scope.js").getSelfScope().Number;(t.Number=r).isFinite=r.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},o);function o(){}t.default=r},"./src/remux/mp4-generator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Math.pow(2,32)-1,r=(p.init=function(){var e;for(e in p.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})p.types.hasOwnProperty(e)&&(p.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);p.HDLR_TYPES={video:t,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);p.STTS=p.STSC=p.STCO=o,p.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),p.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),p.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),p.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var i=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);p.FTYP=p.box(p.types.ftyp,i,s,i,a),p.DINF=p.box(p.types.dinf,p.box(p.types.dref,r))},p.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,o=n.length,i=o;o--;)r+=n[o].byteLength;for((t=new Uint8Array(r))[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),o=0,r=8;o<i;o++)t.set(n[o],r),r+=n[o].byteLength;return t},p.hdlr=function(e){return p.box(p.types.hdlr,p.HDLR_TYPES[e])},p.mdat=function(e){return p.box(p.types.mdat,e)},p.mdhd=function(e,t){t*=e;var n=Math.floor(t/(1+s)),r=Math.floor(t%(1+s));return p.box(p.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},p.mdia=function(e){return p.box(p.types.mdia,p.mdhd(e.timescale,e.duration),p.hdlr(e.type),p.minf(e))},p.mfhd=function(e){return p.box(p.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},p.minf=function(e){return"audio"===e.type?p.box(p.types.minf,p.box(p.types.smhd,p.SMHD),p.DINF,p.stbl(e)):p.box(p.types.minf,p.box(p.types.vmhd,p.VMHD),p.DINF,p.stbl(e))},p.moof=function(e,t,n){return p.box(p.types.moof,p.mfhd(e),p.traf(n,t))},p.moov=function(e){for(var t=e.length,n=[];t--;)n[t]=p.trak(e[t]);return p.box.apply(null,[p.types.moov,p.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(p.mvex(e)))},p.mvex=function(e){for(var t=e.length,n=[];t--;)n[t]=p.trex(e[t]);return p.box.apply(null,[p.types.mvex].concat(n))},p.mvhd=function(e,t){t*=e;var n=Math.floor(t/(1+s)),r=Math.floor(t%(1+s)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return p.box(p.types.mvhd,o)},p.sdtp=function(e){var t,n,r=e.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,o[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return p.box(p.types.sdtp,o)},p.stbl=function(e){return p.box(p.types.stbl,p.stsd(e),p.box(p.types.stts,p.STTS),p.box(p.types.stsc,p.STSC),p.box(p.types.stsz,p.STSZ),p.box(p.types.stco,p.STCO))},p.avc1=function(e){var t,n,r,o=[],i=[];for(t=0;t<e.sps.length;t++)r=(n=e.sps[t]).byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(t=0;t<e.pps.length;t++)r=(n=e.pps[t]).byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));var a=p.box(p.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(i))),s=e.width,l=e.height,c=e.pixelRatio[0],u=e.pixelRatio[1];return p.box(p.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,p.box(p.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),p.box(p.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))},p.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},p.mp4a=function(e){var t=e.samplerate;return p.box(p.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]),p.box(p.types.esds,p.esds(e)))},p.mp3=function(e){var t=e.samplerate;return p.box(p.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]))},p.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?p.box(p.types.stsd,p.STSD,p.mp4a(e)):p.box(p.types.stsd,p.STSD,p.mp3(e)):p.box(p.types.stsd,p.STSD,p.avc1(e))},p.tkhd=function(e){var t=e.id,n=e.duration*e.timescale,r=e.width,o=e.height,i=Math.floor(n/(1+s)),a=Math.floor(n%(1+s));return p.box(p.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))},p.traf=function(e,t){var n=p.sdtp(e),r=e.id,o=Math.floor(t/(1+s)),i=Math.floor(t%(1+s));return p.box(p.types.traf,p.box(p.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),p.box(p.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,i>>24,i>>16&255,i>>8&255,255&i])),p.trun(e,n.length+16+20+8+16+8+8),n)},p.trak=function(e){return e.duration=e.duration||4294967295,p.box(p.types.trak,p.tkhd(e),p.mdia(e))},p.trex=function(e){var t=e.id;return p.box(p.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},p.trun=function(e,t){var n,r,o,i,a,s,l=e.samples||[],c=l.length,u=12+16*c,d=new Uint8Array(u);for(t+=8+u,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),n=0;n<c;n++)o=(r=l[n]).duration,i=r.size,a=r.flags,s=r.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,i>>>24&255,i>>>16&255,i>>>8&255,255&i,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*n);return p.box(p.types.trun,d)},p.initSegment=function(e){p.types||p.init();var t,n=p.moov(e);return(t=new Uint8Array(p.FTYP.byteLength+n.byteLength)).set(p.FTYP),t.set(n,p.FTYP.byteLength),t},p);function p(){}t.default=r},"./src/remux/mp4-remuxer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var G=n("./src/remux/aac-helper.js"),q=n("./src/remux/mp4-generator.js"),X=n("./src/events.js"),Q=n("./src/errors.js"),J=n("./src/utils/logger.js"),r=(o.prototype.destroy=function(){},o.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},o.prototype.resetInitSegment=function(){this.ISGenerated=!1},o.prototype.remux=function(e,t,n,r,o,i,a){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var s=e.samples.length,l=t.samples.length,c=o,u=o;if(s&&l){var d=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;c+=Math.max(0,d),u+=Math.max(0,-d)}if(s){e.timescale||(J.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var p=this.remuxAudio(e,c,i,a);if(l){var h=void 0;p&&(h=p.endPTS-p.startPTS),t.timescale||(J.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,u,i,h,a)}}else if(l){var f=this.remuxVideo(t,u,i,0,a);f&&e.codec&&this.remuxEmptyAudio(e,c,i,f)}}n.samples.length&&this.remuxID3(n,o),r.samples.length&&this.remuxText(r,o),this.observer.trigger(X.default.FRAG_PARSED)},o.prototype.generateIS=function(e,t,n){var r,o,i=this.observer,a=e.samples,s=t.samples,l=this.typeSupported,c="audio/mp4",u={},d={tracks:u},p=void 0===this._initPTS;if(p&&(r=o=1/0),e.config&&a.length&&(e.timescale=e.samplerate,J.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(l.mpeg?(c="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3")),u.audio={container:c,codec:e.codec,initSegment:!e.isAAC&&l.mpeg?new Uint8Array:q.default.initSegment([e]),metadata:{channelCount:e.channelCount}},p&&(r=o=a[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&s.length){var h=t.inputTimeScale;t.timescale=h,u.video={container:"video/mp4",codec:t.codec,initSegment:q.default.initSegment([t]),metadata:{width:t.width,height:t.height}},p&&(r=Math.min(r,s[0].pts-h*n),o=Math.min(o,s[0].dts-h*n),this.observer.trigger(X.default.INIT_PTS_FOUND,{initPTS:r}))}Object.keys(u).length?(i.trigger(X.default.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,p&&(this._initPTS=r,this._initDTS=o)):i.trigger(X.default.ERROR,{type:Q.ErrorTypes.MEDIA_ERROR,details:Q.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},o.prototype.remuxVideo=function(e,t,n,r,o){var i,a,s,l,c,u,d,p=8,h=e.timescale,f=e.samples,m=[],g=f.length,y=this._PTSNormalize,v=this._initPTS,b=this.nextAvcDts,_=this.isSafari;if(0!==g){_&&(n|=f.length&&b&&(o&&Math.abs(t-b/h)<.1||Math.abs(f[0].pts-b-v)<h/5)),n||(b=t*h),f.forEach(function(e){e.pts=y(e.pts-v,b),e.dts=y(e.dts-v,b)}),f.sort(function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id});var A=f.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(A<0){J.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(A/90)+" ms to overcome this issue");for(var E=0;E<f.length;E++)f[E].dts+=A}var k=f[0];c=Math.max(k.dts,0),l=Math.max(k.pts,0);var x=Math.round((c-b)/90);n&&x&&(1<x?J.logger.log("AVC:"+x+" ms hole between fragments detected,filling it"):x<-1&&J.logger.log("AVC:"+-x+" ms overlapping between fragments detected"),c=b,f[0].dts=c,l=Math.max(l-x,b),f[0].pts=l,J.logger.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(c/90)+",delta:"+x+" ms")),k=f[f.length-1],d=Math.max(k.dts,0),u=Math.max(k.pts,0,d),_&&(i=Math.round((d-c)/(f.length-1)));var T=0,w=0;for(E=0;E<g;E++){for(var S=f[E],C=S.units,P=C.length,j=0,O=0;O<P;O++)j+=C[O].data.length;w+=j,T+=P,S.length=j,S.dts=_?c+E*i:Math.max(S.dts,c),S.pts=Math.max(S.pts,S.dts)}var R=w+4*T+8;try{a=new Uint8Array(R)}catch(e){return void this.observer.trigger(X.default.ERROR,{type:Q.ErrorTypes.MUX_ERROR,details:Q.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:R,reason:"fail allocating video mdat "+R})}var L=new DataView(a.buffer);for(L.setUint32(0,R),a.set(q.default.types.mdat,4),E=0;E<g;E++){var I=f[E],D=I.units,M=0,N=void 0;for(O=0,P=D.length;O<P;O++){var F=D[O],B=F.data,U=F.data.byteLength;L.setUint32(p,U),p+=4,a.set(B,p),p+=U,M+=4+U}if(_)N=Math.max(0,i*Math.round((I.pts-I.dts)/i));else{if(E<g-1)i=f[E+1].dts-I.dts;else{var H=this.config,V=I.dts-f[0<E?E-1:E].dts;if(H.stretchShortVideoTrack){var G=H.maxBufferHole,K=Math.floor(G*h),z=(r?l+r*h:this.nextAudioPts)-I.pts;K<z?((i=z-V)<0&&(i=V),J.logger.log("It is approximately "+z/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=V}else i=V}N=Math.round(I.pts-I.dts)}m.push({size:M,duration:i,cts:N,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:I.key?2:1,isNonSync:I.key?0:1}})}this.nextAvcDts=d+i;var W=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,m.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var Y=m[0].flags;Y.dependsOn=2,Y.isNonSync=0}e.samples=m,s=q.default.moof(e.sequenceNumber++,c,e),e.samples=[];var $={data1:s,data2:a,startPTS:l/h,endPTS:(u+i)/h,startDTS:c/h,endDTS:this.nextAvcDts/h,type:"video",hasAudio:!1,hasVideo:!0,nb:m.length,dropped:W};return this.observer.trigger(X.default.FRAG_PARSING_DATA,$),$}},o.prototype.remuxAudio=function(e,t,n,r){var o,i,a,s,l,c,u,d=e.inputTimeScale,p=e.timescale,h=d/p,f=(e.isAAC?1024:1152)*h,m=this._PTSNormalize,g=this._initPTS,y=!e.isAAC&&this.typeSupported.mpeg,v=e.samples,b=[],_=this.nextAudioPts;if(n|=v.length&&_&&(r&&Math.abs(t-_/d)<.1||Math.abs(v[0].pts-_-g)<20*f),v.forEach(function(e){e.pts=e.dts=m(e.pts-g,t*d)}),0!==(v=v.filter(function(e){return 0<=e.pts})).length){if(n||(_=r?t*d:v[0].pts),e.isAAC)for(var A=this.config.maxAudioFramesDrift,E=0,k=_;E<v.length;){var x,T=v[E];x=(L=T.pts)-k;var w=Math.abs(1e3*x/d);if(x<=-A*f)J.logger.warn("Dropping 1 audio frame @ "+(k/d).toFixed(3)+"s due to "+Math.round(w)+" ms overlap."),v.splice(E,1),e.len-=T.unit.length;else if(A*f<=x&&w<1e4&&k){var S=Math.round(x/f);J.logger.warn("Injecting "+S+" audio frame @ "+(k/d).toFixed(3)+"s due to "+Math.round(1e3*x/d)+" ms gap.");for(var C=0;C<S;C++){var P=Math.max(k,0);(a=G.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(J.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),a=T.unit.subarray()),v.splice(E,0,{unit:a,pts:P,dts:P}),e.len+=a.length,k+=f,E++}T.pts=T.dts=k,k+=f,E++}else Math.abs(x),T.pts=T.dts=k,k+=f,E++}C=0;for(var j=v.length;C<j;C++){var O=v[C],R=O.unit,L=O.pts;if(void 0!==u)i.duration=Math.round((L-u)/h);else{var I=Math.round(1e3*(L-_)/d),D=0;if(n&&e.isAAC&&I){if(0<I&&I<1e4)D=Math.round((L-_)/f),J.logger.log(I+" ms hole between AAC samples detected,filling it"),0<D&&(a=(a=G.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||R.subarray(),e.len+=D*a.length);else if(I<-12){J.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(_/d).toFixed(3)+"s/"+(L/d).toFixed(3)+"s/"+-I+"ms"),e.len-=R.byteLength;continue}L=_}if(c=L,!(0<e.len))return;var M=y?e.len:e.len+8;o=y?0:8;try{s=new Uint8Array(M)}catch(e){return void this.observer.trigger(X.default.ERROR,{type:Q.ErrorTypes.MUX_ERROR,details:Q.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:M,reason:"fail allocating audio mdat "+M})}for(y||(new DataView(s.buffer).setUint32(0,M),s.set(q.default.types.mdat,4)),E=0;E<D;E++)(a=G.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(J.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),a=R.subarray()),s.set(a,o),o+=a.byteLength,i={size:a.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},b.push(i)}s.set(R,o);var N=R.byteLength;o+=N,i={size:N,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},b.push(i),u=L}var F=0,B=b.length;if(2<=B&&(F=b[B-2].duration,i.duration=F),B){this.nextAudioPts=_=u+h*F,e.len=0,e.samples=b,l=y?new Uint8Array:q.default.moof(e.sequenceNumber++,c/h,e),e.samples=[];var U=c/d,H=_/d,V={data1:l,data2:s,startPTS:U,endPTS:H,startDTS:U,endDTS:H,type:"audio",hasAudio:!0,hasVideo:!1,nb:B};return this.observer.trigger(X.default.FRAG_PARSING_DATA,V),V}return null}},o.prototype.remuxEmptyAudio=function(e,t,n,r){var o=e.inputTimeScale,i=o/(e.samplerate?e.samplerate:o),a=this.nextAudioPts,s=(void 0!==a?a:r.startDTS*o)+this._initDTS,l=r.endDTS*o+this._initDTS,c=1024*i,u=Math.ceil((l-s)/c),d=G.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(J.logger.warn("remux empty Audio"),d){for(var p=[],h=0;h<u;h++){var f=s+h*c;p.push({unit:d,pts:f,dts:f}),e.len+=d.length}e.samples=p,this.remuxAudio(e,t,n)}else J.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},o.prototype.remuxID3=function(e){var t,n=e.samples.length,r=e.inputTimeScale,o=this._initPTS,i=this._initDTS;if(n){for(var a=0;a<n;a++)(t=e.samples[a]).pts=(t.pts-o)/r,t.dts=(t.dts-i)/r;this.observer.trigger(X.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},o.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,n=e.samples.length,r=e.inputTimeScale,o=this._initPTS;if(n){for(var i=0;i<n;i++)(t=e.samples[i]).pts=(t.pts-o)/r;this.observer.trigger(X.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},o.prototype._PTSNormalize=function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;4294967296<Math.abs(e-t);)e+=n;return e},o);function o(e,t,n,r){this.observer=e,this.config=t,this.typeSupported=n;var o=navigator.userAgent;this.isSafari=r&&-1<r.indexOf("Apple")&&o&&!o.match("CriOS"),this.ISGenerated=!1}t.default=r},"./src/remux/passthrough-remuxer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n("./src/events.js"),r=(o.prototype.destroy=function(){},o.prototype.resetTimeStamp=function(){},o.prototype.resetInitSegment=function(){},o.prototype.remux=function(e,t,n,r,o,i,a,s){var l=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),l.trigger(u.default.FRAG_PARSING_DATA,{data1:s,startPTS:o,startDTS:o,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(u.default.FRAG_PARSED)},o);function o(e){this.observer=e}t.default=r},"./src/task-loop.js":function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i,a=n("./src/event-handler.js"),s=(i=a.default,o(l,i),l.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},l.prototype.hasInterval=function(){return!!this._tickInterval},l.prototype.hasNextTick=function(){return!!this._tickTimer},l.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},l.prototype.clearInterval=function(){return!(!this._tickInterval||(clearInterval(this._tickInterval),this._tickInterval=null))},l.prototype.clearNextTick=function(){return!(!this._tickTimer||(clearTimeout(this._tickTimer),this._tickTimer=null))},l.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),1<this._tickCallCount&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},l.prototype.doTick=function(){},l);function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=i.apply(this,[e].concat(t))||this;return r._tickInterval=null,r._tickTimer=null,r._tickCallCount=0,r._boundTick=r.tick.bind(r),r}t.default=s},"./src/utils/attr-list.js":function(e,t,n){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,e=(i.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>n.MAX_SAFE_INTEGER?1/0:t},i.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},i.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>n.MAX_SAFE_INTEGER?1/0:t},i.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},i.prototype.enumeratedString=function(e){return this[e]},i.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},i.parseAttrList=function(e){var t,n={};for(o.lastIndex=0;null!==(t=o.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},i);function i(e){for(var t in"string"==typeof e&&(e=i.parseAttrList(e)),e)e.hasOwnProperty(t)&&(this[t]=e[t])}t.default=e}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={search:function(e,t){for(var n=0,r=e.length-1,o=null,i=null;n<=r;){var a=t(i=e[o=(n+r)/2|0]);if(0<a)n=o+1;else{if(!(a<0))return i;r=o-1}}return null}}},"./src/utils/buffer-helper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0}catch(e){}return!1},o.bufferInfo=function(e,t,n){try{if(e){var r=e.buffered,o=[],i=void 0;for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},o.bufferedInfo=function(e,t,n){var r,o,i,a,s,l=[];for(e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end}),s=0;s<e.length;s++){var c=l.length;if(c){var u=l[c-1].end;e[s].start-u<n?e[s].end>u&&(l[c-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(r=s=0,o=i=t;s<l.length;s++){var d=l[s].start,p=l[s].end;if(d<=t+n&&t<p)o=d,r=(i=p)-t;else if(t+n<d){a=d;break}}return{len:r,start:o,end:i,nextStart:a}},o);function o(){}t.BufferHelper=r},"./src/utils/cea-608-parser.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function s(e){var t=e;return r.hasOwnProperty(e)&&(t=r[e]),String.fromCharCode(t)}function l(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},h=(o.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},o.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},o.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},o.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},o.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},o.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},o);function o(e,t,n,r,o){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=o||!1}var f=(m.prototype.reset=function(){this.uchar=" ",this.penState.reset()},m.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},m.prototype.setPenState=function(e){this.penState.copy(e)},m.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},m.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},m.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},m);function m(e,t,n,r,o,i){this.uchar=e||" ",this.penState=new h(t,n,r,o,i)}var g=(y.prototype.equals=function(e){for(var t=!0,n=0;n<100;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},y.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},y.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},y.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},y.prototype.moveCursor=function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},y.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},y.prototype.insertChar=function(e){144<=e&&this.backSpace();var t=s(e);100<=this.pos?p.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},y.prototype.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},y.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},y.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},y.prototype.getTextString=function(){for(var e=[],t=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},y.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},y);function y(){this.chars=[];for(var e=0;e<100;e++)this.chars.push(new f);this.pos=0,this.currPenState=new h}var v=(b.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},b.prototype.equals=function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},b.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},b.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},b.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},b.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},b.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},b.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},b.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},b.prototype.setCursor=function(e){p.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},b.prototype.setPAC=function(e){p.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var i=o.rows[r].cueStartTime;if(i&&i<p.time)for(n=0;n<this.nrRollUpRows;n++)this.rows[t-this.nrRollUpRows+n+1].copy(o.rows[r+n])}}this.currRow=t;var a=this.rows[this.currRow];if(null!==e.indent){var s=e.indent,l=Math.max(s-1,0);a.setCursor(e.indent),e.color=a.chars[l].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},b.prototype.setBkgData=function(e){p.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},b.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},b.prototype.rollUp=function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")},b.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,o=0;o<15;o++){var i=this.rows[o].getTextString();i&&(r=o+1,e?t.push("Row "+r+": '"+i+"'"):t.push(i.trim()))}return 0<t.length&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},b.prototype.getTextAndFormat=function(){return this.rows},b);function b(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new g);this.currRow=14,this.nrRollUpRows=null,this.reset()}var _=(A.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},A.prototype.getHandler=function(){return this.outputFilter},A.prototype.setHandler=function(e){this.outputFilter=e},A.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},A.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},A.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,p.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},A.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";p.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},A.prototype.ccRCL=function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},A.prototype.ccBS=function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},A.prototype.ccAOF=function(){},A.prototype.ccAON=function(){},A.prototype.ccDER=function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},A.prototype.ccRU=function(e){p.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},A.prototype.ccFON=function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},A.prototype.ccRDC=function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},A.prototype.ccTR=function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")},A.prototype.ccRTD=function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")},A.prototype.ccEDM=function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},A.prototype.ccCR=function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},A.prototype.ccENM=function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},A.prototype.ccEOC=function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},A.prototype.ccTO=function(e){p.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},A.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=46<=e,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}p.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},A.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=p.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},A.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},A);function A(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new v,this.nonDisplayedMemory=new v,this.lastOutputScreen=new v,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}var E=(k.prototype.getHandler=function(e){return this.channels[e].getHandler()},k.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},k.prototype.addData=function(e,t){var n,r,o,i=!1;this.lastTime=e,p.setTime(e);for(var a=0;a<t.length;a+=2)r=127&t[a],o=127&t[a+1],0!=r||0!=o?(p.log("DATA","["+l([t[a],t[a+1]])+"] -> ("+l([r,o])+")"),(n=(n=(n=(n=this.parseCmd(r,o))||this.parseMidrow(r,o))||this.parsePAC(r,o))||this.parseBackgroundAttributes(r,o))||(i=this.parseChars(r,o))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(i):p.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+l([r,o])+" orig: "+l([t[a],t[a+1]])))):this.dataCounters.padding+=2},k.prototype.parseCmd=function(e,t){var n=null;if(!((20===e||28===e)&&32<=t&&t<=47||(23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+l([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.ccRCL():33===t?r.ccBS():34===t?r.ccAOF():35===t?r.ccAON():36===t?r.ccDER():37===t?r.ccRU(2):38===t?r.ccRU(3):39===t?r.ccRU(4):40===t?r.ccFON():41===t?r.ccRDC():42===t?r.ccTR():43===t?r.ccRTD():44===t?r.ccEDM():45===t?r.ccCR():46===t?r.ccENM():47===t&&r.ccEOC():r.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},k.prototype.parseMidrow=function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(p.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(t),p.log("DEBUG","MIDROW ("+l([e,t])+")"),!0))},k.prototype.parsePAC=function(e,t){var n,r=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127||(16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);n=e<=23?1:2,r=64<=t&&t<=95?1==n?i[e]:c[e]:1==n?a[e]:u[e];var o=this.interpretPAC(r,t);return this.channels[n-1].setPAC(o),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},k.prototype.interpretPAC=function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=95<t?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},k.prototype.parseChars=function(e,t){var n=null,r=null,o=null;if(17<=(o=25<=e?(n=2,e-8):(n=1,e))&&o<=19){var i=t;i=17===o?t+80:18===o?t+112:t+144,p.log("INFO","Special char '"+s(i)+"' in channel "+n),r=[i]}else 32<=e&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var a=l(r);p.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},k.prototype.parseBackgroundAttributes=function(e,t){var n,r,o;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=d[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),o=e<24?1:2,this.channels[o-1].setBkgData(n),this.lastCmdA=null,!(this.lastCmdB=null))},k.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},k.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},k);function k(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new _(1,t),new _(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}t.default=E},"./src/utils/codecs.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=n("./src/utils/vttparser.js");t.newCue=function(e,t,n,r){for(var o,i,a,s,l,c=window.VTTCue||window.TextTrackCue,u=0;u<r.rows.length;u++)if(a=!0,s=0,l="",!(o=r.rows[u]).isEmpty()){for(var d=0;d<o.chars.length;d++)o.chars[d].uchar.match(/\s/)&&a?s++:(l+=o.chars[d].uchar,a=!1);(o.cueStartTime=t)===n&&(n+=1e-4),i=new c(t,n,p.fixLineBreaks(l.trim())),16<=s?s--:s++,navigator.userAgent.match(/Firefox\//)?i.line=u+1:i.line=7<u?u-2:u+1,i.align="left",i.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(i)}}},"./src/utils/discontinuities.js":function(e,t,d){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0});var n=d("./src/utils/binary-search.js"),i=d("./src/utils/logger.js");function a(e,t){for(var n=null,r=0;r<e.length;r+=1){var o=e[r];if(o&&o.cc===t){n=o;break}}return n}function s(e,t,n){var r=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(r=!0),r}function l(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var o=a(n,r[0].cc);if(o&&(!o||o.startPTS))return o;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function c(n,e){e.fragments.forEach(function(e){if(e){var t=e.start+n;e.start=e.startPTS=t,e.endPTS=t+e.duration}}),e.PTSKnown=!0}function r(e,t,n){if(s(e,n,t)){var r=l(n.details,t);r&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level"),c(r.start,t))}}function u(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var n=t.fragments[0].programDateTime,r=(e.fragments[0].programDateTime-n)/1e3+t.fragments[0].start;o.isFinite(r)&&(i.logger.log("adjusting PTS using programDateTime delta, sliding:"+r.toFixed(3)),c(r,e))}}t.findFirstFragWithCC=a,t.findFragWithCC=function(e,t){return n.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=s,t.findDiscontinuousReferenceFrag=l,t.adjustPts=c,t.alignStream=function(e,t,n){r(e,n,t),!n.PTSKnown&&t&&u(n,t.details)},t.alignDiscontinuities=r,t.alignPDT=u}).call(this,d("./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./src/utils/ewma.js"),r=(i.prototype.sample=function(e,t){var n=8e3*t/(e=Math.max(e,this.minDelayMs_)),r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)},i.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},i.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},i.prototype.destroy=function(){},i);function i(e,t,n,r){this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(t),this.fast_=new o.default(n)}t.default=r},"./src/utils/ewma.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},o.prototype.getTotalWeight=function(){return this.totalWeight_},o.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},o);function o(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}t.default=r},"./src/utils/get-self-scope.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/get-self-scope.js");function o(){}var i={trace:o,debug:o,log:o,warn:o,info:o,error:o},a=i;var s=r.getSelfScope();function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach(function(e){a[e]=t[e]?t[e].bind(t):function(n){var r=s.console[n];return r?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e[0]&&(e[0]=function(e,t){return t="["+e+"] > "+t}(n,e[0])),r.apply(s.console,e)}:o}(e)})}t.enableLogs=function(e){if(!0===e||"object"==typeof e){l(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i},t.logger=a},"./src/utils/mediakeys-helper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=r},"./src/utils/mediasource-helper.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(o.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},o.prototype.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},o);function o(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}t.default=r},"./src/utils/texttrack-utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;0<e.cues.length;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var _={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function A(e){return"string"==typeof e&&(!!t[e.toLowerCase()]&&e.toLowerCase())}function E(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(e,t,n){var r=this,o=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),i={};o?r=document.createElement("custom"):i.enumerable=!0,r.hasBeenReset=!1;var a="",s=!1,l=e,c=t,u=n,d=null,p="",h=!0,f="auto",m="start",g=50,y="middle",v=50,b="middle";if(Object.defineProperty(r,"id",E({},i,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(r,"pauseOnExit",E({},i,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(r,"startTime",E({},i,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",E({},i,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",E({},i,{get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",E({},i,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",E({},i,{get:function(){return p},set:function(e){var t=function(e){return"string"==typeof e&&(!!_[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",E({},i,{get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",E({},i,{get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",E({},i,{get:function(){return m},set:function(e){var t=A(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",E({},i,{get:function(){return g},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",E({},i,{get:function(){return y},set:function(e){var t=A(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",E({},i,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",E({},i,{get:function(){return b},set:function(e){var t=A(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),r.displayState=void 0,o)return r}return e.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},e}()},"./src/utils/vttparser.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}}var s=n("./src/utils/vttcue.js");function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new r,this.regionList=[]}function l(){this.values=Object.create(null)}function c(e,t,n,r){var o=r?e.split(r):[e];for(var i in o)if("string"==typeof o[i]){var a=o[i].split(n);if(2===a.length)t(a[0],a[1])}}l.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var u=new s.default(0,0,0),d="middle"===u.align?"middle":"center";function p(t,e,a){var n=t;function r(){var e=function(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),o(),e.endTime=r(),o(),function(e,t){var i=new l;c(e,function(e,t){switch(e){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===t){i.set(e,a[n].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),o=r[0];i.integer(e,o),i.percent(e,o)&&i.set("snapToLines",!1),i.alt(e,o,["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",d,"end"]);break;case"position":r=t.split(","),i.percent(e,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",d,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",d,"end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var n=i.get("line","auto");"auto"===n&&-1===u.line&&(n=-1),t.line=n,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",d);var r=i.get("position","auto");"auto"===r&&50===u.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}(t,e)}function h(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=h,o.prototype={parse:function(e){var r=this;function t(){var e=r.buffer,t=0;for(e=h(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));try{var n=void 0;if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var o=(n=t()).match(/^()?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var i=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(i?i=!1:n=t(),r.state){case"HEADER":/:/.test(n)?c(n,function(e,t){},/:/):n||(r.state="ID");continue;case"NOTE":n||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){r.state="NOTE";break}if(!n)continue;if(r.cue=new s.default(0,0,""),r.state="CUE",-1===n.indexOf("--\x3e")){r.cue.id=n;continue}case"CUE":try{p(n,r.cue,r.regionList)}catch(e){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(i=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=n;continue;case"BADCUE":n||(r.state="ID");continue}}}catch(e){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=o},"./src/utils/webvtt-parser.js":function(e,t,n){"use strict";(function(m){Object.defineProperty(t,"__esModule",{value:!0});function g(e,t,n){return e.substr(n||0,t.length)===t}function y(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()}var v=n("./src/utils/vttparser.js"),b=n("./src/demux/id3.js"),e={parse:function(e,n,r,o,t,i){var a,s=b.utf8ArrayToStr(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),l="00:00.000",c=0,u=0,d=0,p=[],h=!0,f=new v.default;f.oncue=function(e){var t=r[o],n=r.ccOffset;t&&t.new&&(void 0!==u?n=r.ccOffset=t.start:function(e,t,n){var r=e[t],o=e[r.prevCC];if(!o||!o.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,r.new=!1;for(;o&&o.new;)e.ccOffset+=r.start-o.start,r.new=!1,o=e[(r=o).prevCC];e.presentationOffset=n}(r,o,d)),d&&(n=d-r.presentationOffset),e.startTime+=n-u,e.endTime+=n-u,e.id=y(e.startTime.toString())+y(e.endTime.toString())+y(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),0<e.endTime&&p.push(e)},f.onparsingerror=function(e){a=e},f.onflush=function(){a&&i?i(a):t(p)},s.forEach(function(t){if(h){if(g(t,"X-TIMESTAMP-MAP=")){h=!1,t.substr(16).split(",").forEach(function(e){g(e,"LOCAL:")?l=e.substr(6):g(e,"MPEGTS:")&&(c=parseInt(e.substr(7)))});try{n+(9e4*r[o].start||0)<0&&(n+=8589934592),c-=n,u=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),o=9<e.length?parseInt(e.substr(0,e.indexOf(":"))):0;return m.isFinite(t)&&m.isFinite(n)&&m.isFinite(r)&&m.isFinite(o)?(t+=1e3*n,t+=6e4*r,t+=36e5*o):-1}(l)/1e3,d=c/9e4,-1===u&&(a=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){a=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(h=!1)}f.parse(t+"\n")}),f.flush()}};t.default=e}).call(this,n("./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n("./src/utils/logger.js"),d=window.performance,o=window.XMLHttpRequest,r=(i.prototype.destroy=function(){this.abort(),this.loader=null},i.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},i.prototype.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:d.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},i.prototype.loadInternal=function(){var t,n=this.context;t=this.loader=new o;var e=this.stats;e.tfirst=0,e.loaded=0;var r=this.xhrSetup;try{if(r)try{r(t,n.url)}catch(e){t.open("GET",n.url,!0),r(t,n.url)}t.readyState||t.open("GET",n.url,!0)}catch(e){return void this.callbacks.onError({code:t.status,text:e.message},n,t)}n.rangeEnd&&t.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=n.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},i.prototype.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,o=this.context,i=this.config;if(!r.aborted&&2<=n)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(d.now(),r.trequest)),4===n){var a=t.status;if(200<=a&&a<300){r.tload=Math.max(r.tfirst,d.now());var s=void 0,l=void 0;l="arraybuffer"===o.responseType?(s=t.response).byteLength:(s=t.responseText).length,r.loaded=r.total=l;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,r,o,t)}else r.retry>=i.maxRetry||400<=a&&a<499?(u.logger.error(a+" while loading "+o.url),this.callbacks.onError({code:a,text:t.statusText},o,t)):(u.logger.warn(a+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),i.timeout)},i.prototype.loadtimeout=function(){u.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},i.prototype.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)},i);function i(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}t.default=r}},o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/",o(o.s="./src/hls.js")).default;function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r},e.exports=r())},"./node_modules/process/browser.js":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/style-loader/lib/addStyles.js":function(e,t,n){var r,o,i,l={},c=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=(i={},function(e){if("function"==typeof e)return e();if(void 0===i[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}i[e]=t}return i[e]}),s=null,u=0,d=[],p=n("./node_modules/style-loader/lib/urls.js");function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=l[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(b(r.parts[i],t));l[r.id]={id:r.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);0<=t&&d.splice(t,1)}function y(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=u++;n=s=s||y(e),r=E.bind(null,n,a,!1),o=E.bind(null,n,a,!0)}else o=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(e),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=c()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=f(e,a);return h(s,a),function(e){for(var t=[],n=0;n<s.length;n++){var r=s[n];(o=l[r.id]).refs--,t.push(o)}e&&h(f(e,a),a);for(n=0;n<t.length;n++){var o;if(0===(o=t[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete l[o.id]}}}};var _,A=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function E(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=A(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},"./src/base/base_object.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=c(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=c(n("./node_modules/babel-runtime/helpers/createClass.js")),a=c(n("./node_modules/babel-runtime/helpers/inherits.js")),s=n("./src/base/utils.js"),l=c(n("./src/base/events.js"));function c(e){return e&&e.__esModule?e:{default:e}}var u,d=(u=l.default,(0,a.default)(p,u),(0,i.default)(p,[{key:"options",get:function(){return this._options}}]),p);function p(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(this,p);var t=(0,o.default)(this,u.call(this,e));return t._options=e,t.uniqueId=(0,s.uniqueId)("o"),t}t.default=d,e.exports=t.default},"./src/base/container_plugin.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=d(n("./node_modules/babel-runtime/helpers/createClass.js")),s=d(n("./node_modules/babel-runtime/helpers/inherits.js")),l=d(n("./src/base/base_object.js")),c=n("./src/base/utils.js"),u=d(n("./src/base/error_mixin.js"));function d(e){return e&&e.__esModule?e:{default:e}}var p,h=(p=l.default,(0,s.default)(f,p),(0,a.default)(f,[{key:"playerError",get:function(){return this.container.playerError}}]),f.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},f.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},f.prototype.bindEvents=function(){},f.prototype.destroy=function(){this.stopListening()},f);function f(e){(0,o.default)(this,f);var t=(0,i.default)(this,p.call(this,e.options));return t.container=e,t.enabled=!0,t.bindEvents(),t}t.default=h,(0,r.default)(h.prototype,u.default),h.extend=function(e){return(0,c.extend)(h,e)},h.type="container",e.exports=t.default},"./src/base/core_plugin.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=d(n("./node_modules/babel-runtime/helpers/createClass.js")),s=d(n("./node_modules/babel-runtime/helpers/inherits.js")),l=n("./src/base/utils.js"),c=d(n("./src/base/base_object.js")),u=d(n("./src/base/error_mixin.js"));function d(e){return e&&e.__esModule?e:{default:e}}var p,h=(p=c.default,(0,s.default)(f,p),(0,a.default)(f,[{key:"playerError",get:function(){return this.core.playerError}}]),f.prototype.bindEvents=function(){},f.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},f.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},f.prototype.getExternalInterface=function(){return{}},f.prototype.destroy=function(){this.stopListening()},f);function f(e){(0,o.default)(this,f);var t=(0,i.default)(this,p.call(this,e.options));return t.core=e,t.enabled=!0,t.bindEvents(),t}t.default=h,(0,r.default)(h.prototype,u.default),h.extend=function(e){return(0,l.extend)(h,e)},h.type="core",e.exports=t.default},"./src/base/error_mixin.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r(n("./node_modules/babel-runtime/core-js/object/assign.js")),d=r(n("./src/plugins/log/index.js")),p=r(n("./src/components/error/index.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o={createError:function(e,t){var n=1<arguments.length&&void 0!==t?t:{useCodePrefix:!0},r=this.constructor&&this.constructor.type||"",o=this.name||r,i=this.i18n||this.core&&this.core.i18n||this.container&&this.container.i18n,a=o+":"+(e&&e.code||"unknown"),s={description:"",level:p.default.Levels.FATAL,origin:o,scope:r,raw:{}},l=(0,u.default)({},s,e,{code:n.useCodePrefix?a:e.code});if(i&&l.level==p.default.Levels.FATAL&&!l.UI){var c={title:i.t("default_error_title"),message:i.t("default_error_message")};l.UI=c}return this.playerError?this.playerError.createError(l):d.default.warn(o,"PlayerError is not defined. Error: ",l),l}};t.default=o,e.exports=t.default},"./src/base/events.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=i(n("./node_modules/babel-runtime/core-js/object/keys.js")),r=i(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),l=i(n("./node_modules/babel-runtime/helpers/typeof.js")),p=i(n("./src/plugins/log/index.js")),o=n("./src/base/utils.js");function i(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){if(!n)return!0;if("object"===(void 0===n?"undefined":(0,l.default)(n))){for(var o in n)e[t].apply(e,[o,n[o]].concat(r));return!1}if(c.test(n)){for(var i=n.split(c),a=0,s=i.length;a<s;a++)e[t].apply(e,[i[a]].concat(r));return!1}return!0}function a(e,n,r,o){var i=void 0,a=-1,s=e.length,l=n[0],c=n[1],u=n[2];!function t(){try{switch(n.length){case 0:for(;++a<s;)(i=e[a]).callback.call(i.ctx);return;case 1:for(;++a<s;)(i=e[a]).callback.call(i.ctx,l);return;case 2:for(;++a<s;)(i=e[a]).callback.call(i.ctx,l,c);return;case 3:for(;++a<s;)(i=e[a]).callback.call(i.ctx,l,c,u);return;default:for(;++a<s;)(i=e[a]).callback.apply(i.ctx,n);return}}catch(e){p.default.error.apply(p.default,[r,"error on event",o,"trigger","-",e]),t()}}()}var s=Array.prototype.slice,c=/\s+/,u=(f.prototype.on=function(e,t,n){return h(this,"on",e,[t,n])&&t&&(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this})),this},f.prototype.once=function(e,t,n){var r=this,o=void 0;return h(this,"once",e,[t,n])&&t?(o=function(){r.off(e,o),t.apply(this,arguments)},this.on(e,o,n)):this},f.prototype.off=function(e,t,n){var r,o,i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;if(!this._events||!h(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(l=0,o=(r=e?[e]:(0,d.default)(this._events)).length;l<o;l++)if(e=r[l],s=this._events[e]){if(this._events[e]=i=[],t||n)for(c=0,u=s.length;c<u;c++)a=s[c],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&i.push(a);i.length||delete this._events[e]}return this},f.prototype.trigger=function(e){var t=this.name||this.constructor.name;if(p.default.debug.apply(p.default,[t].concat(Array.prototype.slice.call(arguments))),!this._events)return this;var n=s.call(arguments,1);if(!h(this,"trigger",e,n))return this;var r=this._events[e],o=this._events.all;return r&&a(r,n,t,e),o&&a(o,arguments,t,e),this},f.prototype.stopListening=function(e,t,n){var r=this._listeningTo;if(!r)return this;var o=!t&&!n;for(var i in n||"object"!==(void 0===t?"undefined":(0,l.default)(t))||(n=this),e&&((r={})[e._listenId]=e),r)(e=r[i]).off(t,n,this),!o&&0!==(0,d.default)(e._events).length||delete this._listeningTo[i];return this},f.register=function(e){f.Custom||(f.Custom={});var t="string"==typeof e&&e.toUpperCase().trim();t&&!f.Custom[t]?f.Custom[t]=t.toLowerCase().split("_").map(function(e,t){return 0===t?e:e=e[0].toUpperCase()+e.slice(1)}).join(""):p.default.error("Events","Error when register event: "+e)},f.listAvailableCustomEvents=function(){return f.Custom||(f.Custom={}),(0,d.default)(f.Custom).filter(function(e){return"string"==typeof f.Custom[e]})},f);function f(){(0,r.default)(this,f)}t.default=u;var m={listenTo:"on",listenToOnce:"once"};(0,d.default)(m).forEach(function(r){u.prototype[r]=function(e,t,n){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,o.uniqueId)("l"))]=e,n||"object"!==(void 0===t?"undefined":(0,l.default)(t))||(n=this),e[m[r]](t,n,this),this}}),u.PLAYER_READY="ready",u.PLAYER_RESIZE="resize",u.PLAYER_FULLSCREEN="fullscreen",u.PLAYER_PLAY="play",u.PLAYER_PAUSE="pause",u.PLAYER_STOP="stop",u.PLAYER_ENDED="ended",u.PLAYER_SEEK="seek",u.PLAYER_ERROR="playererror",u.ERROR="error",u.PLAYER_TIMEUPDATE="timeupdate",u.PLAYER_VOLUMEUPDATE="volumeupdate",u.PLAYER_SUBTITLE_AVAILABLE="subtitleavailable",u.PLAYBACK_PROGRESS="playback:progress",u.PLAYBACK_TIMEUPDATE="playback:timeupdate",u.PLAYBACK_READY="playback:ready",u.PLAYBACK_BUFFERING="playback:buffering",u.PLAYBACK_BUFFERFULL="playback:bufferfull",u.PLAYBACK_SETTINGSUPDATE="playback:settingsupdate",u.PLAYBACK_LOADEDMETADATA="playback:loadedmetadata",u.PLAYBACK_HIGHDEFINITIONUPDATE="playback:highdefinitionupdate",u.PLAYBACK_BITRATE="playback:bitrate",u.PLAYBACK_LEVELS_AVAILABLE="playback:levels:available",u.PLAYBACK_LEVEL_SWITCH_START="playback:levels:switch:start",u.PLAYBACK_LEVEL_SWITCH_END="playback:levels:switch:end",u.PLAYBACK_PLAYBACKSTATE="playback:playbackstate",u.PLAYBACK_DVR="playback:dvr",u.PLAYBACK_MEDIACONTROL_DISABLE="playback:mediacontrol:disable",u.PLAYBACK_MEDIACONTROL_ENABLE="playback:mediacontrol:enable",u.PLAYBACK_ENDED="playback:ended",u.PLAYBACK_PLAY_INTENT="playback:play:intent",u.PLAYBACK_PLAY="playback:play",u.PLAYBACK_PAUSE="playback:pause",u.PLAYBACK_SEEK="playback:seek",u.PLAYBACK_SEEKED="playback:seeked",u.PLAYBACK_STOP="playback:stop",u.PLAYBACK_ERROR="playback:error",u.PLAYBACK_STATS_ADD="playback:stats:add",u.PLAYBACK_FRAGMENT_LOADED="playback:fragment:loaded",u.PLAYBACK_LEVEL_SWITCH="playback:level:switch",u.PLAYBACK_SUBTITLE_AVAILABLE="playback:subtitle:available",u.PLAYBACK_SUBTITLE_CHANGED="playback:subtitle:changed",u.CORE_CONTAINERS_CREATED="core:containers:created",u.CORE_ACTIVE_CONTAINER_CHANGED="core:active:container:changed",u.CORE_OPTIONS_CHANGE="core:options:change",u.CORE_READY="core:ready",u.CORE_FULLSCREEN="core:fullscreen",u.CORE_RESIZE="core:resize",u.CORE_SCREEN_ORIENTATION_CHANGED="core:screen:orientation:changed",u.CORE_MOUSE_MOVE="core:mousemove",u.CORE_MOUSE_LEAVE="core:mouseleave",u.CONTAINER_PLAYBACKSTATE="container:playbackstate",u.CONTAINER_PLAYBACKDVRSTATECHANGED="container:dvr",u.CONTAINER_BITRATE="container:bitrate",u.CONTAINER_STATS_REPORT="container:stats:report",u.CONTAINER_DESTROYED="container:destroyed",u.CONTAINER_READY="container:ready",u.CONTAINER_ERROR="container:error",u.CONTAINER_LOADEDMETADATA="container:loadedmetadata",u.CONTAINER_SUBTITLE_AVAILABLE="container:subtitle:available",u.CONTAINER_SUBTITLE_CHANGED="container:subtitle:changed",u.CONTAINER_TIMEUPDATE="container:timeupdate",u.CONTAINER_PROGRESS="container:progress",u.CONTAINER_PLAY="container:play",u.CONTAINER_STOP="container:stop",u.CONTAINER_PAUSE="container:pause",u.CONTAINER_ENDED="container:ended",u.CONTAINER_CLICK="container:click",u.CONTAINER_DBLCLICK="container:dblclick",u.CONTAINER_CONTEXTMENU="container:contextmenu",u.CONTAINER_MOUSE_ENTER="container:mouseenter",u.CONTAINER_MOUSE_LEAVE="container:mouseleave",u.CONTAINER_SEEK="container:seek",u.CONTAINER_SEEKED="container:seeked",u.CONTAINER_VOLUME="container:volume",u.CONTAINER_FULLSCREEN="container:fullscreen",u.CONTAINER_STATE_BUFFERING="container:state:buffering",u.CONTAINER_STATE_BUFFERFULL="container:state:bufferfull",u.CONTAINER_SETTINGSUPDATE="container:settingsupdate",u.CONTAINER_HIGHDEFINITIONUPDATE="container:highdefinitionupdate",u.CONTAINER_MEDIACONTROL_SHOW="container:mediacontrol:show",u.CONTAINER_MEDIACONTROL_HIDE="container:mediacontrol:hide",u.CONTAINER_MEDIACONTROL_DISABLE="container:mediacontrol:disable",u.CONTAINER_MEDIACONTROL_ENABLE="container:mediacontrol:enable",u.CONTAINER_STATS_ADD="container:stats:add",u.CONTAINER_OPTIONS_CHANGE="container:options:change",u.MEDIACONTROL_RENDERED="mediacontrol:rendered",u.MEDIACONTROL_FULLSCREEN="mediacontrol:fullscreen",u.MEDIACONTROL_SHOW="mediacontrol:show",u.MEDIACONTROL_HIDE="mediacontrol:hide",u.MEDIACONTROL_MOUSEMOVE_SEEKBAR="mediacontrol:mousemove:seekbar",u.MEDIACONTROL_MOUSELEAVE_SEEKBAR="mediacontrol:mouseleave:seekbar",u.MEDIACONTROL_PLAYING="mediacontrol:playing",u.MEDIACONTROL_NOTPLAYING="mediacontrol:notplaying",u.MEDIACONTROL_CONTAINERCHANGED="mediacontrol:containerchanged",u.MEDIACONTROL_OPTIONS_CHANGE="mediacontrol:options:change",e.exports=t.default},"./src/base/media.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.mp4="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";t.default={mp4:r}},"./src/base/playback.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=p(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=p(n("./node_modules/babel-runtime/helpers/createClass.js")),s=p(n("./node_modules/babel-runtime/helpers/inherits.js")),l=n("./src/base/utils.js"),c=p(n("./src/base/ui_object.js")),u=p(n("./src/base/error_mixin.js")),d=p(n("./node_modules/clappr-zepto/zepto.js"));function p(e){return e&&e.__esModule?e:{default:e}}var h,f=(h=c.default,(0,s.default)(m,h),(0,a.default)(m,[{key:"isAudioOnly",get:function(){return!1}},{key:"isAdaptive",get:function(){return!1}},{key:"ended",get:function(){return!1}},{key:"i18n",get:function(){return this._i18n}},{key:"buffering",get:function(){return!1}},{key:"consented",get:function(){return this._consented}}]),m.prototype.consent=function(){this._consented=!0},m.prototype.play=function(){},m.prototype.pause=function(){},m.prototype.stop=function(){},m.prototype.seek=function(e){},m.prototype.seekPercentage=function(e){},m.prototype.getStartTimeOffset=function(){return 0},m.prototype.getDuration=function(){return 0},m.prototype.isPlaying=function(){return!1},m.prototype.getPlaybackType=function(){return m.NO_OP},m.prototype.isHighDefinitionInUse=function(){return!1},m.prototype.volume=function(e){},m.prototype.configure=function(e){this._options=d.default.extend(this._options,e)},m.prototype.attemptAutoPlay=function(){var n=this;this.canAutoPlay(function(e,t){e&&n.play()})},m.prototype.canAutoPlay=function(e){e(!0,null)},(0,a.default)(m,[{key:"isReady",get:function(){return!1}},{key:"hasClosedCaptionsTracks",get:function(){return 0<this.closedCaptionsTracks.length}},{key:"closedCaptionsTracks",get:function(){return[]}},{key:"closedCaptionsTrackId",get:function(){return-1},set:function(e){}}]),m);function m(e,t,n){(0,o.default)(this,m);var r=(0,i.default)(this,h.call(this,e));return r.settings={},r._i18n=t,r.playerError=n,r._consented=!1,r}t.default=f,(0,r.default)(f.prototype,u.default),f.extend=function(e){return(0,l.extend)(f,e)},f.canPlay=function(e,t){return!1},f.VOD="vod",f.AOD="aod",f.LIVE="live",f.NO_OP="no_op",f.type="playback",e.exports=t.default},"./src/base/polyfills.js":function(e,t,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=t,i=0;i<r;){var a=n[i];if(e.call(o,a,i,n))return a;i++}}})},"./src/base/styler.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("./node_modules/clappr-zepto/zepto.js")),o=i(n("./src/base/template.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a={getStyleFor:function(e,t){var n=1<arguments.length&&void 0!==t?t:{baseUrl:""};return(0,r.default)('<style class="clappr-style"></style>').html((0,o.default)(e.toString())(n))}};t.default=a,e.exports=t.default},"./src/base/svg_icons.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.volumeMute=t.volume=t.stop=t.reload=t.play=t.pause=t.hd=t.fullscreen=t.exitFullscreen=t.cc=void 0;var r=h(n("./src/icons/01-play.svg")),o=h(n("./src/icons/02-pause.svg")),i=h(n("./src/icons/03-stop.svg")),a=h(n("./src/icons/04-volume.svg")),s=h(n("./src/icons/05-mute.svg")),l=h(n("./src/icons/06-expand.svg")),c=h(n("./src/icons/07-shrink.svg")),u=h(n("./src/icons/08-hd.svg")),d=h(n("./src/icons/09-cc.svg")),p=h(n("./src/icons/10-reload.svg"));function h(e){return e&&e.__esModule?e:{default:e}}t.cc=d.default,t.exitFullscreen=c.default,t.fullscreen=l.default,t.hd=u.default,t.pause=o.default,t.play=r.default,t.reload=p.default,t.stop=i.default,t.volume=a.default,t.volumeMute=s.default;t.default={cc:d.default,exitFullscreen:c.default,fullscreen:l.default,hd:u.default,pause:o.default,play:r.default,reload:p.default,stop:i.default,volume:a.default,volumeMute:s.default}},"./src/base/template.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(e){return null===e?"":(""+e).replace(a,function(e){return i[e]})}function r(i,e){var t,n=new RegExp([(l.escape||c).source,(l.interpolate||c).source,(l.evaluate||c).source].join("|")+"|$","g"),a=0,s="__p+='";i.replace(n,function(e,t,n,r,o){return s+=i.slice(a,o).replace(d,function(e){return"\\"+u[e]}),t&&(s+="'+\n((__t=("+t+"))==null?'':escapeExpr(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),a=o+e.length,e}),s+="';\n",l.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n//# sourceURL=/microtemplates/source["+p+++"]";try{t=new Function(l.variable||"obj","escapeExpr",s)}catch(e){throw e.source=s,e}if(e)return t(e,o);function r(e){return t.call(this,e,o)}return r.source="function("+(l.variable||"obj")+"){\n"+s+"}",r}var l={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},c=/(.)^/,u={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},d=/\\|'|\r|\n|\t|\u2028|\u2029/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},a=new RegExp("[&<>\"']","g"),p=0;r.settings=l,t.default=r,e.exports=t.default},"./src/base/ui_container_plugin.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=d(n("./node_modules/babel-runtime/helpers/createClass.js")),s=d(n("./node_modules/babel-runtime/helpers/inherits.js")),l=n("./src/base/utils.js"),c=d(n("./src/base/ui_object.js")),u=d(n("./src/base/error_mixin.js"));function d(e){return e&&e.__esModule?e:{default:e}}var p,h=(p=c.default,(0,s.default)(f,p),(0,a.default)(f,[{key:"playerError",get:function(){return this.container.playerError}}]),f.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},f.prototype.disable=function(){this.stopListening(),this.$el.hide(),this.enabled=!1},f.prototype.bindEvents=function(){},f);function f(e){(0,o.default)(this,f);var t=(0,i.default)(this,p.call(this,e.options));return t.container=e,t.enabled=!0,t.bindEvents(),t}t.default=h,(0,r.default)(h.prototype,u.default),h.extend=function(e){return(0,l.extend)(h,e)},h.type="container",e.exports=t.default},"./src/base/ui_core_plugin.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=d(n("./node_modules/babel-runtime/helpers/createClass.js")),s=d(n("./node_modules/babel-runtime/helpers/inherits.js")),l=n("./src/base/utils.js"),c=d(n("./src/base/ui_object.js")),u=d(n("./src/base/error_mixin.js"));function d(e){return e&&e.__esModule?e:{default:e}}var p,h=(p=c.default,(0,s.default)(f,p),(0,a.default)(f,[{key:"playerError",get:function(){return this.core.playerError}}]),f.prototype.bindEvents=function(){},f.prototype.getExternalInterface=function(){return{}},f.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},f.prototype.disable=function(){this.stopListening(),this.$el.hide(),this.enabled=!1},f.prototype.render=function(){return this},f);function f(e){(0,o.default)(this,f);var t=(0,i.default)(this,p.call(this,e.options));return t.core=e,t.enabled=!0,t.bindEvents(),t.render(),t}t.default=h,(0,r.default)(h.prototype,u.default),h.extend=function(e){return(0,l.extend)(h,e)},h.type="core",e.exports=t.default},"./src/base/ui_object.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=u(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=u(n("./node_modules/babel-runtime/helpers/createClass.js")),a=u(n("./node_modules/babel-runtime/helpers/inherits.js")),s=u(n("./node_modules/clappr-zepto/zepto.js")),l=n("./src/base/utils.js"),c=u(n("./src/base/base_object.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d,p=/^(\S+)\s*(.*)$/,h=(d=c.default,(0,a.default)(f,d),(0,i.default)(f,[{key:"tagName",get:function(){return"div"}},{key:"events",get:function(){return{}}},{key:"attributes",get:function(){return{}}}]),f.prototype.$=function(e){return this.$el.find(e)},f.prototype.render=function(){return this},f.prototype.destroy=function(){return this.$el.remove(),this.stopListening(),this.undelegateEvents(),this},f.prototype.setElement=function(e,t){return this.$el&&this.undelegateEvents(),this.$el=s.default.zepto.isZ(e)?e:(0,s.default)(e),this.el=this.$el[0],!1!==t&&this.delegateEvents(),this},f.prototype.delegateEvents=function(e){if(!(e=e||this.events))return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(n&&n.constructor!==Function&&(n=this[e[t]]),n){var r=t.match(p),o=r[1],i=r[2];o+=".delegateEvents"+this.cid,""===i?this.$el.on(o,n.bind(this)):this.$el.on(o,i,n.bind(this))}}return this},f.prototype.undelegateEvents=function(){return this.$el.off(".delegateEvents"+this.cid),this},f.prototype._ensureElement=function(){if(this.el)this.setElement(this.el,!1);else{var e=s.default.extend({},this.attributes);this.id&&(e.id=this.id),this.className&&(e.class=this.className);var t=l.DomRecycler.create(this.tagName).attr(e);this.setElement(t,!1)}},f);function f(e){(0,r.default)(this,f);var t=(0,o.default)(this,d.call(this,e));return t.cid=(0,l.uniqueId)("c"),t._ensureElement(),t.delegateEvents(),t}t.default=h,e.exports=t.default},"./src/base/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SvgIcons=t.DoubleEventHandler=t.DomRecycler=t.cancelAnimationFrame=t.requestAnimationFrame=t.QueryString=t.Config=t.Fullscreen=void 0;var a=f(n("./node_modules/babel-runtime/core-js/object/assign.js")),r=f(n("./node_modules/babel-runtime/helpers/createClass.js")),s=f(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),l=f(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),c=f(n("./node_modules/babel-runtime/helpers/inherits.js")),o=f(n("./node_modules/babel-runtime/core-js/object/define-property.js")),i=f(n("./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js"));t.assign=m,t.extend=g,t.formatTime=y,t.seekStringToSeconds=k,t.uniqueId=T,t.isNumber=w,t.currentScriptUrl=S,t.getBrowserLanguage=j,t.now=O,t.removeArrayItem=R,t.listContainsIgnoreCase=function(t,e){return void 0!==t&&void 0!==e&&void 0!==e.find(function(e){return t.toLowerCase()===e.toLowerCase()})},t.canAutoPlayMedia=L,n("./src/base/polyfills.js");var u=f(n("./src/components/browser/index.js")),d=f(n("./node_modules/clappr-zepto/zepto.js")),p=f(n("./src/base/media.js")),h=f(n("./src/base/svg_icons.js"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(t)for(var n in t){var r=(0,i.default)(t,n);r?(0,o.default)(e,n,r):e[n]=t[n]}return e}function g(e,o){var i,t=(i=e,(0,c.default)(a,i),a);function a(){(0,s.default)(this,a);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,l.default)(this,i.call.apply(i,[this].concat(t)));return o.initialize&&o.initialize.apply(r,t),r}return m(t.prototype,o),t}function y(e,t){if(!isFinite(e))return"--:--";e*=1e3;var n=(e=parseInt(e/1e3))%60,r=(e=parseInt(e/60))%60,o=(e=parseInt(e/60))%24,i=parseInt(e/24),a="";return i&&0<i&&(a+=i+":",o<1&&(a+="00:")),(o&&0<o||t)&&(a+=("0"+o).slice(-2)+":"),a+=("0"+r).slice(-2)+":",(a+=("0"+n).slice(-2)).trim()}var v=t.Fullscreen={fullscreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.querySelector&&e.querySelector("video")&&e.querySelector("video").webkitEnterFullScreen?e.querySelector("video").webkitEnterFullScreen():e.webkitEnterFullScreen&&e.webkitEnterFullScreen()},cancelFullscreen:function(e){var t=0<arguments.length&&void 0!==e?e:document;t.exitFullscreen?t.exitFullscreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen()},fullscreenEnabled:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},b=t.Config=(_._defaultConfig=function(){return{volume:{value:100,parse:parseInt}}},_._defaultValueFor=function(e){try{return this._defaultConfig()[e].parse(this._defaultConfig()[e].value)}catch(e){return}},_._createKeyspace=function(e){return"clappr."+document.domain+"."+e},_.restore=function(e){return u.default.hasLocalstorage&&localStorage[this._createKeyspace(e)]?this._defaultConfig()[e].parse(localStorage[this._createKeyspace(e)]):this._defaultValueFor(e)},_.persist=function(e,t){if(u.default.hasLocalstorage)try{return localStorage[this._createKeyspace(e)]=t,!0}catch(e){return!1}},_);function _(){(0,s.default)(this,_)}var A=t.QueryString=(E.parse=function(e){for(var t=void 0,n=/\+/g,r=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(n," "))},i={};t=r.exec(e);)i[o(t[1]).toLowerCase()]=o(t[2]);return i},(0,r.default)(E,null,[{key:"params",get:function(){var e=window.location.search.substring(1);return e!==this.query&&(this._urlParams=this.parse(e),this.query=e),this._urlParams}},{key:"hashParams",get:function(){var e=window.location.hash.substring(1);return e!==this.hash&&(this._hashParams=this.parse(e),this.hash=e),this._hashParams}}]),E);function E(){(0,s.default)(this,E)}function k(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"t",r=0,t=A.params[e]||A.hashParams[e]||"",n=t.match(/[0-9]+[hms]+/g)||[];if(0<n.length){var o={h:3600,m:60,s:1};n.forEach(function(e){if(e){var t=e[e.length-1],n=parseInt(e.slice(0,e.length-1),10);r+=n*o[t]}})}else t&&(r=parseInt(t,10));return r}var x={};function T(e){return x[e]||(x[e]=0),e+ ++x[e]}function w(e){return 0<=e-parseFloat(e)+1}function S(){var e=document.getElementsByTagName("script");return e.length?e[e.length-1].src:""}var C=t.requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}).bind(window),P=t.cancelAnimationFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window);function j(){return window.navigator&&window.navigator.language}function O(){return window.performance&&window.performance.now?performance.now():Date.now()}function R(e,t){var n=e.indexOf(t);0<=n&&e.splice(n,1)}function L(r,e){var t=(e=(0,a.default)({inline:!1,muted:!1,timeout:250,type:"video",source:p.default.mp4,element:null},e)).element?e.element:document.createElement(e.type);t.muted=e.muted,!0===e.muted&&t.setAttribute("muted","muted"),!0===e.inline&&t.setAttribute("playsinline","playsinline"),t.src=e.source;var n=t.play(),o=setTimeout(function(){i(!1,new Error("Timeout "+e.timeout+" ms has been reached"))},e.timeout),i=function(e,t){var n=1<arguments.length&&void 0!==t?t:null;clearTimeout(o),r(e,n)};void 0!==n?n.then(function(){return i(!0)}).catch(function(e){return i(!1,e)}):i(!0)}var I=[],D=t.DomRecycler=(M.configure=function(e){this.options=d.default.extend(this.options,e)},M.create=function(e){return this.options.recycleVideo&&"video"===e&&0<I.length?I.shift():(0,d.default)("<"+e+">")},M.garbage=function(e){this.options.recycleVideo&&"VIDEO"===e[0].tagName.toUpperCase()&&(e.children().remove(),I.push(e))},M);function M(){(0,s.default)(this,M)}D.options={recycleVideo:!1};var N=t.DoubleEventHandler=(F.prototype.handle=function(e,t,n){var r=!(2<arguments.length&&void 0!==n)||n,o=(new Date).getTime(),i=o-this.lastTime;i<this.delay&&0<i&&(t(),r&&e.preventDefault()),this.lastTime=o},F);function F(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:500;(0,s.default)(this,F),this.delay=e,this.lastTime=0}t.SvgIcons=h.default;t.default={Config:b,Fullscreen:v,QueryString:A,DomRecycler:D,extend:g,formatTime:y,seekStringToSeconds:k,uniqueId:T,currentScriptUrl:S,isNumber:w,requestAnimationFrame:C,cancelAnimationFrame:P,getBrowserLanguage:j,now:O,removeArrayItem:R,canAutoPlayMedia:L,Media:p.default,DoubleEventHandler:N,SvgIcons:h.default}},"./src/components/browser/browser.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevice=t.getViewportSize=t.getOsData=t.getBrowserData=t.getBrowserInfo=void 0;var u=o(n("./node_modules/babel-runtime/core-js/get-iterator.js")),r=o(n("./node_modules/clappr-zepto/zepto.js")),d=o(n("./src/components/browser/browser_data.js")),p=o(n("./src/components/browser/os_data.js"));function o(e){return e&&e.__esModule?e:{default:e}}var h={},i=t.getBrowserInfo=function(e){var t=e.match(/\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],n=void 0;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:parseInt(n[1]||"")};if("Chrome"===t[1]){if(null!=(n=e.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:parseInt(n[1])};if(null!=(n=e.match(/\bEdge\/(\d+)/)))return{name:"Edge",version:parseInt(n[1])}}else/android/i.test(e)&&(n=e.match(/version\/(\d+)/i))&&(t.splice(1,1,"Android WebView"),t.splice(2,1,n[1]));return{name:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"])[0],version:parseInt(t[1])}},a=t.getBrowserData=function(){var e={},t=h.userAgent.toLowerCase(),n=!0,r=!1,o=void 0;try{for(var i,a=(0,u.default)(d.default);!(n=(i=a.next()).done);n=!0){var s=i.value,l=new RegExp(s.identifier.toLowerCase()).exec(t);if(null!=l&&l[1]){if(e.name=s.name,e.group=s.group,s.versionIdentifier){var c=new RegExp(s.versionIdentifier.toLowerCase()).exec(t);null!=c&&c[1]&&f(c[1],e)}else f(l[1],e);break}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e},f=function(e,t){var n=e.split(".",2);t.fullVersion=e,n[0]&&(t.majorVersion=parseInt(n[0])),n[1]&&(t.minorVersion=parseInt(n[1]))},s=t.getOsData=function(){var e={},t=h.userAgent.toLowerCase(),n=!0,r=!1,o=void 0;try{for(var i,a=(0,u.default)(p.default);!(n=(i=a.next()).done);n=!0){var s=i.value,l=new RegExp(s.identifier.toLowerCase()).exec(t);if(null!=l){if(e.name=s.name,e.group=s.group,s.version)m(s.version,s.versionSeparator?s.versionSeparator:".",e);else if(l[1])m(l[1],s.versionSeparator?s.versionSeparator:".",e);else if(s.versionIdentifier){var c=new RegExp(s.versionIdentifier.toLowerCase()).exec(t);null!=c&&c[1]&&m(c[1],s.versionSeparator?s.versionSeparator:".",e)}break}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e},m=function(e,t,n){var r="["==t.substr(0,1)?new RegExp(t,"g"):t,o=e.split(r,2);"."!=t&&(e=e.replace(new RegExp(t,"g"),".")),n.fullVersion=e,o&&o[0]&&(n.majorVersion=parseInt(o[0])),o&&o[1]&&(n.minorVersion=parseInt(o[1]))},l=t.getViewportSize=function(){var e={};return e.width=(0,r.default)(window).width(),e.height=(0,r.default)(window).height(),e},c=t.getDevice=function(e){var t=/\((iP(?:hone|ad|od))?(?:[^;]*; ){0,2}([^)]+(?=\)))/.exec(e);return t&&(t[1]||t[2])||""},g=i(navigator.userAgent);h.isEdge=/edge/i.test(navigator.userAgent),h.isChrome=/chrome|CriOS/i.test(navigator.userAgent)&&!h.isEdge,h.isSafari=/safari/i.test(navigator.userAgent)&&!h.isChrome&&!h.isEdge,h.isFirefox=/firefox/i.test(navigator.userAgent),h.isLegacyIE=!!window.ActiveXObject,h.isIE=h.isLegacyIE||/trident.*rv:1\d/i.test(navigator.userAgent),h.isIE11=/trident.*rv:11/i.test(navigator.userAgent),h.isChromecast=h.isChrome&&/CrKey/i.test(navigator.userAgent),h.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Mobile Safari|Opera Mini/i.test(navigator.userAgent),h.isiOS=/iPad|iPhone|iPod/i.test(navigator.userAgent),h.isAndroid=/Android/i.test(navigator.userAgent),h.isWindowsPhone=/Windows Phone/i.test(navigator.userAgent),h.isWin8App=/MSAppHost/i.test(navigator.userAgent),h.isWiiU=/WiiU/i.test(navigator.userAgent),h.isPS4=/PlayStation 4/i.test(navigator.userAgent),h.hasLocalstorage=function(){try{return localStorage.setItem("clappr","clappr"),localStorage.removeItem("clappr"),!0}catch(e){return!1}}(),h.hasFlash=function(){try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return!(!navigator.mimeTypes||void 0===navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}}(),h.name=g.name,h.version=g.version,h.userAgent=navigator.userAgent,h.data=a(),h.os=s(),h.viewport=l(),h.device=c(h.userAgent),void 0!==window.orientation&&function(){switch(window.orientation){case-90:case 90:h.viewport.orientation="landscape";break;default:h.viewport.orientation="portrait"}}(),t.default=h},"./src/components/browser/browser_data.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{name:"Chromium",group:"Chrome",identifier:"Chromium/([0-9.]*)"},{name:"Chrome Mobile",group:"Chrome",identifier:"Chrome/([0-9.]*) Mobile",versionIdentifier:"Chrome/([0-9.]*)"},{name:"Chrome",group:"Chrome",identifier:"Chrome/([0-9.]*)"},{name:"Chrome for iOS",group:"Chrome",identifier:"CriOS/([0-9.]*)"},{name:"Android Browser",group:"Chrome",identifier:"CrMo/([0-9.]*)"},{name:"Firefox",group:"Firefox",identifier:"Firefox/([0-9.]*)"},{name:"Opera Mini",group:"Opera",identifier:"Opera Mini/([0-9.]*)"},{name:"Opera",group:"Opera",identifier:"Opera ([0-9.]*)"},{name:"Opera",group:"Opera",identifier:"Opera/([0-9.]*)",versionIdentifier:"Version/([0-9.]*)"},{name:"IEMobile",group:"Explorer",identifier:"IEMobile/([0-9.]*)"},{name:"Internet Explorer",group:"Explorer",identifier:"MSIE ([a-zA-Z0-9.]*)"},{name:"Internet Explorer",group:"Explorer",identifier:"Trident/([0-9.]*)",versionIdentifier:"rv:([0-9.]*)"},{name:"Spartan",group:"Spartan",identifier:"Edge/([0-9.]*)",versionIdentifier:"Edge/([0-9.]*)"},{name:"Safari",group:"Safari",identifier:"Safari/([0-9.]*)",versionIdentifier:"Version/([0-9.]*)"}],e.exports=t.default},"./src/components/browser/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/browser/browser.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/browser/os_data.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{name:"Windows 2000",group:"Windows",identifier:"Windows NT 5.0",version:"5.0"},{name:"Windows XP",group:"Windows",identifier:"Windows NT 5.1",version:"5.1"},{name:"Windows Vista",group:"Windows",identifier:"Windows NT 6.0",version:"6.0"},{name:"Windows 7",group:"Windows",identifier:"Windows NT 6.1",version:"7.0"},{name:"Windows 8",group:"Windows",identifier:"Windows NT 6.2",version:"8.0"},{name:"Windows 8.1",group:"Windows",identifier:"Windows NT 6.3",version:"8.1"},{name:"Windows 10",group:"Windows",identifier:"Windows NT 10.0",version:"10.0"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone ([0-9.]*)"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone OS ([0-9.]*)"},{name:"Windows",group:"Windows",identifier:"Windows"},{name:"Chrome OS",group:"Chrome OS",identifier:"CrOS"},{name:"Android",group:"Android",identifier:"Android",versionIdentifier:"Android ([a-zA-Z0-9.-]*)"},{name:"iPad",group:"iOS",identifier:"iPad",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"iPod",group:"iOS",identifier:"iPod",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"iPhone",group:"iOS",identifier:"iPhone OS",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"Mac OS X High Sierra",group:"Mac OS",identifier:"Mac OS X (10([_|.])13([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Sierra",group:"Mac OS",identifier:"Mac OS X (10([_|.])12([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X El Capitan",group:"Mac OS",identifier:"Mac OS X (10([_|.])11([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Yosemite",group:"Mac OS",identifier:"Mac OS X (10([_|.])10([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Mavericks",group:"Mac OS",identifier:"Mac OS X (10([_|.])9([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Mountain Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])8([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])7([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Snow Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])6([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])5([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Tiger",group:"Mac OS",identifier:"Mac OS X (10([_|.])4([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Panther",group:"Mac OS",identifier:"Mac OS X (10([_|.])3([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Jaguar",group:"Mac OS",identifier:"Mac OS X (10([_|.])2([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Puma",group:"Mac OS",identifier:"Mac OS X (10([_|.])1([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Cheetah",group:"Mac OS",identifier:"Mac OS X (10([_|.])0([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS",group:"Mac OS",identifier:"Mac OS"},{name:"Ubuntu",group:"Linux",identifier:"Ubuntu",versionIdentifier:"Ubuntu/([0-9.]*)"},{name:"Debian",group:"Linux",identifier:"Debian"},{name:"Gentoo",group:"Linux",identifier:"Gentoo"},{name:"Linux",group:"Linux",identifier:"Linux"},{name:"BlackBerry",group:"BlackBerry",identifier:"BlackBerry"}],e.exports=t.default},"./src/components/container/container.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=h(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=h(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=h(n("./node_modules/babel-runtime/helpers/createClass.js")),s=h(n("./node_modules/babel-runtime/helpers/inherits.js")),l=h(n("./src/base/events.js")),c=h(n("./src/base/ui_object.js")),u=h(n("./src/base/error_mixin.js")),d=n("./src/base/utils.js");n("./src/components/container/public/style.scss");var p=h(n("./node_modules/clappr-zepto/zepto.js"));function h(e){return e&&e.__esModule?e:{default:e}}var f,m=(f=c.default,(0,s.default)(g,f),(0,a.default)(g,[{key:"name",get:function(){return"Container"}},{key:"attributes",get:function(){return{class:"container","data-container":""}}},{key:"events",get:function(){return{click:"clicked",dblclick:"dblClicked",touchend:"dblTap",contextmenu:"onContextMenu",mouseenter:"mouseEnter",mouseleave:"mouseLeave"}}},{key:"ended",get:function(){return this.playback.ended}},{key:"buffering",get:function(){return this.playback.buffering}},{key:"i18n",get:function(){return this._i18n}},{key:"hasClosedCaptionsTracks",get:function(){return this.playback.hasClosedCaptionsTracks}},{key:"closedCaptionsTracks",get:function(){return this.playback.closedCaptionsTracks}},{key:"closedCaptionsTrackId",get:function(){return this.playback.closedCaptionsTrackId},set:function(e){this.playback.closedCaptionsTrackId=e}}]),g.prototype.bindEvents=function(){this.listenTo(this.playback,l.default.PLAYBACK_PROGRESS,this.onProgress),this.listenTo(this.playback,l.default.PLAYBACK_TIMEUPDATE,this.timeUpdated),this.listenTo(this.playback,l.default.PLAYBACK_READY,this.ready),this.listenTo(this.playback,l.default.PLAYBACK_BUFFERING,this.onBuffering),this.listenTo(this.playback,l.default.PLAYBACK_BUFFERFULL,this.bufferfull),this.listenTo(this.playback,l.default.PLAYBACK_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.playback,l.default.PLAYBACK_LOADEDMETADATA,this.loadedMetadata),this.listenTo(this.playback,l.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.playback,l.default.PLAYBACK_BITRATE,this.updateBitrate),this.listenTo(this.playback,l.default.PLAYBACK_PLAYBACKSTATE,this.playbackStateChanged),this.listenTo(this.playback,l.default.PLAYBACK_DVR,this.playbackDvrStateChanged),this.listenTo(this.playback,l.default.PLAYBACK_MEDIACONTROL_DISABLE,this.disableMediaControl),this.listenTo(this.playback,l.default.PLAYBACK_MEDIACONTROL_ENABLE,this.enableMediaControl),this.listenTo(this.playback,l.default.PLAYBACK_SEEKED,this.onSeeked),this.listenTo(this.playback,l.default.PLAYBACK_ENDED,this.onEnded),this.listenTo(this.playback,l.default.PLAYBACK_PLAY,this.playing),this.listenTo(this.playback,l.default.PLAYBACK_PAUSE,this.paused),this.listenTo(this.playback,l.default.PLAYBACK_STOP,this.stopped),this.listenTo(this.playback,l.default.PLAYBACK_ERROR,this.error),this.listenTo(this.playback,l.default.PLAYBACK_SUBTITLE_AVAILABLE,this.subtitleAvailable),this.listenTo(this.playback,l.default.PLAYBACK_SUBTITLE_CHANGED,this.subtitleChanged)},g.prototype.subtitleAvailable=function(){this.trigger(l.default.CONTAINER_SUBTITLE_AVAILABLE)},g.prototype.subtitleChanged=function(e){this.trigger(l.default.CONTAINER_SUBTITLE_CHANGED,e)},g.prototype.playbackStateChanged=function(e){this.trigger(l.default.CONTAINER_PLAYBACKSTATE,e)},g.prototype.playbackDvrStateChanged=function(e){this.settings=this.playback.settings,this.dvrInUse=e,this.trigger(l.default.CONTAINER_PLAYBACKDVRSTATECHANGED,e)},g.prototype.updateBitrate=function(e){this.trigger(l.default.CONTAINER_BITRATE,e)},g.prototype.statsReport=function(e){this.trigger(l.default.CONTAINER_STATS_REPORT,e)},g.prototype.getPlaybackType=function(){return this.playback.getPlaybackType()},g.prototype.isDvrEnabled=function(){return!!this.playback.dvrEnabled},g.prototype.isDvrInUse=function(){return!!this.dvrInUse},g.prototype.destroy=function(){this.trigger(l.default.CONTAINER_DESTROYED,this,this.name),this.stopListening(),this.plugins.forEach(function(e){return e.destroy()}),this.$el.remove()},g.prototype.setStyle=function(e){this.$el.css(e)},g.prototype.animate=function(e,t){return this.$el.animate(e,t).promise()},g.prototype.ready=function(){this.isReady=!0,this.trigger(l.default.CONTAINER_READY,this.name)},g.prototype.isPlaying=function(){return this.playback.isPlaying()},g.prototype.getStartTimeOffset=function(){return this.playback.getStartTimeOffset()},g.prototype.getCurrentTime=function(){return this.currentTime},g.prototype.getDuration=function(){return this.playback.getDuration()},g.prototype.error=function(e){this.isReady||this.ready(),this.trigger(l.default.CONTAINER_ERROR,e,this.name)},g.prototype.loadedMetadata=function(e){this.trigger(l.default.CONTAINER_LOADEDMETADATA,e)},g.prototype.timeUpdated=function(e){this.currentTime=e.current,this.trigger(l.default.CONTAINER_TIMEUPDATE,e,this.name)},g.prototype.onProgress=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.trigger.apply(this,[l.default.CONTAINER_PROGRESS].concat(t,[this.name]))},g.prototype.playing=function(){this.trigger(l.default.CONTAINER_PLAY,this.name)},g.prototype.paused=function(){this.trigger(l.default.CONTAINER_PAUSE,this.name)},g.prototype.play=function(){this.playback.play()},g.prototype.stop=function(){this.playback.stop(),this.currentTime=0},g.prototype.pause=function(){this.playback.pause()},g.prototype.onEnded=function(){this.trigger(l.default.CONTAINER_ENDED,this,this.name),this.currentTime=0},g.prototype.stopped=function(){this.trigger(l.default.CONTAINER_STOP)},g.prototype.clicked=function(){var e=this;this.options.chromeless&&!this.options.allowUserInteraction||(this.clickTimer=setTimeout(function(){e.clickTimer&&e.trigger(l.default.CONTAINER_CLICK,e,e.name)},this.clickDelay))},g.prototype.cancelClicked=function(){clearTimeout(this.clickTimer),this.clickTimer=null},g.prototype.dblClicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||(this.cancelClicked(),this.trigger(l.default.CONTAINER_DBLCLICK,this,this.name))},g.prototype.dblTap=function(e){var t=this;this.options.chromeless&&!this.options.allowUserInteraction||this.dblTapHandler.handle(e,function(){t.cancelClicked(),t.trigger(l.default.CONTAINER_DBLCLICK,t,t.name)})},g.prototype.onContextMenu=function(e){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_CONTEXTMENU,e,this.name)},g.prototype.seek=function(e){this.trigger(l.default.CONTAINER_SEEK,e,this.name),this.playback.seek(e)},g.prototype.onSeeked=function(){this.trigger(l.default.CONTAINER_SEEKED,this.name)},g.prototype.seekPercentage=function(e){var t=this.getDuration();if(0<=e&&e<=100){var n=t*(e/100);this.seek(n)}},g.prototype.setVolume=function(e){this.volume=parseFloat(e),this.trigger(l.default.CONTAINER_VOLUME,this.volume,this.name),this.playback.volume(this.volume)},g.prototype.fullscreen=function(){this.trigger(l.default.CONTAINER_FULLSCREEN,this.name)},g.prototype.onBuffering=function(){this.trigger(l.default.CONTAINER_STATE_BUFFERING,this.name)},g.prototype.bufferfull=function(){this.trigger(l.default.CONTAINER_STATE_BUFFERFULL,this.name)},g.prototype.addPlugin=function(e){this.plugins.push(e)},g.prototype.hasPlugin=function(e){return!!this.getPlugin(e)},g.prototype.getPlugin=function(t){return this.plugins.filter(function(e){return e.name===t})[0]},g.prototype.mouseEnter=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_MOUSE_ENTER)},g.prototype.mouseLeave=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(l.default.CONTAINER_MOUSE_LEAVE)},g.prototype.settingsUpdate=function(){this.settings=this.playback.settings,this.trigger(l.default.CONTAINER_SETTINGSUPDATE)},g.prototype.highDefinitionUpdate=function(e){this.trigger(l.default.CONTAINER_HIGHDEFINITIONUPDATE,e)},g.prototype.isHighDefinitionInUse=function(){return this.playback.isHighDefinitionInUse()},g.prototype.disableMediaControl=function(){this.mediaControlDisabled||(this.mediaControlDisabled=!0,this.trigger(l.default.CONTAINER_MEDIACONTROL_DISABLE))},g.prototype.enableMediaControl=function(){this.mediaControlDisabled&&(this.mediaControlDisabled=!1,this.trigger(l.default.CONTAINER_MEDIACONTROL_ENABLE))},g.prototype.updateStyle=function(){!this.options.chromeless||this.options.allowUserInteraction?this.$el.removeClass("chromeless"):this.$el.addClass("chromeless")},g.prototype.configure=function(e){this._options=p.default.extend(this._options,e),this.updateStyle(),this.playback.configure(this.options),this.trigger(l.default.CONTAINER_OPTIONS_CHANGE)},g.prototype.render=function(){return this.$el.append(this.playback.render().el),this.updateStyle(),this},g);function g(e,t,n){(0,o.default)(this,g);var r=(0,i.default)(this,f.call(this,e));return r._i18n=t,r.currentTime=0,r.volume=100,r.playback=e.playback,r.playerError=n,r.settings=p.default.extend({},r.playback.settings),r.isReady=!1,r.mediaControlDisabled=!1,r.plugins=[r.playback],r.dblTapHandler=new d.DoubleEventHandler(500),r.clickTimer=null,r.clickDelay=200,r.bindEvents(),r}t.default=m,(0,r.default)(m.prototype,u.default),e.exports=t.default},"./src/components/container/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/container/container.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/container/public/style.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/components/container/public/style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/components/container_factory/container_factory.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=p(n("./node_modules/babel-runtime/helpers/typeof.js")),i=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=p(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),r=p(n("./node_modules/babel-runtime/helpers/createClass.js")),o=p(n("./node_modules/babel-runtime/helpers/inherits.js")),l=p(n("./src/base/base_object.js")),c=p(n("./src/base/events.js")),u=p(n("./src/components/container/index.js")),d=p(n("./node_modules/clappr-zepto/zepto.js"));function p(e){return e&&e.__esModule?e:{default:e}}var h,f=(h=l.default,(0,o.default)(m,h),(0,r.default)(m,[{key:"options",get:function(){return this._options},set:function(e){this._options=e}}]),m.prototype.createContainers=function(){var t=this;return d.default.Deferred(function(e){e.resolve(t.options.sources.map(function(e){return t.createContainer(e)}))})},m.prototype.findPlaybackPlugin=function(t,n){return this.loader.playbackPlugins.filter(function(e){return e.canPlay(t,n)})[0]},m.prototype.createContainer=function(e){var t=null,n=this.options.mimeType;"object"===(void 0===e?"undefined":(0,s.default)(e))?(t=e.source.toString(),e.mimeType&&(n=e.mimeType)):t=e.toString(),t.match(/^\/\//)&&(t=window.location.protocol+t);var r=d.default.extend({},this.options,{src:t,mimeType:n}),o=new(this.findPlaybackPlugin(t,n))(r,this._i18n,this.playerError);r=d.default.extend({},r,{playback:o});var i=new u.default(r,this._i18n,this.playerError),a=d.default.Deferred();return a.promise(i),this.addContainerPlugins(i),this.listenToOnce(i,c.default.CONTAINER_READY,function(){return a.resolve(i)}),i},m.prototype.addContainerPlugins=function(t){this.loader.containerPlugins.forEach(function(e){t.addPlugin(new e(t))})},m);function m(e,t,n,r){(0,i.default)(this,m);var o=(0,a.default)(this,h.call(this,e));return o._i18n=n,o.loader=t,o.playerError=r,o}t.default=f,e.exports=t.default},"./src/components/container_factory/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/container_factory/container_factory.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/core/core.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n("./node_modules/babel-runtime/core-js/object/assign.js")),o=A(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=A(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=A(n("./node_modules/babel-runtime/helpers/createClass.js")),s=A(n("./node_modules/babel-runtime/helpers/inherits.js")),l=n("./src/base/utils.js"),c=A(n("./src/base/styler.js")),u=A(n("./src/base/events.js")),d=A(n("./src/base/ui_object.js")),p=A(n("./src/base/ui_core_plugin.js")),h=A(n("./src/components/browser/index.js")),f=A(n("./src/components/container_factory/index.js")),m=A(n("./src/components/mediator.js")),g=A(n("./src/components/player_info.js")),y=A(n("./src/components/error/index.js")),v=A(n("./src/base/error_mixin.js")),b=A(n("./node_modules/clappr-zepto/zepto.js"));n("./src/components/core/public/style.scss");var _=A(n("./src/components/core/public/fonts.css"));function A(e){return e&&e.__esModule?e:{default:e}}var E,k=void 0,x=(E=d.default,(0,s.default)(T,E),(0,a.default)(T,[{key:"events",get:function(){return{webkitfullscreenchange:"handleFullscreenChange",mousemove:"onMouseMove",mouseleave:"onMouseLeave"}}},{key:"attributes",get:function(){return{"data-player":"",tabindex:9999}}},{key:"isReady",get:function(){return!!this.ready}},{key:"i18n",get:function(){return this.getPlugin("strings")||{t:function(e){return e}}}},{key:"mediaControl",get:function(){return this.getPlugin("media_control")||this.dummyMediaControl}},{key:"dummyMediaControl",get:function(){return this._dummyMediaControl||(this._dummyMediaControl=new p.default(this)),this._dummyMediaControl}},{key:"activeContainer",get:function(){return this._activeContainer},set:function(e){this._activeContainer=e,this.trigger(u.default.CORE_ACTIVE_CONTAINER_CHANGED,this._activeContainer)}},{key:"activePlayback",get:function(){return this.activeContainer&&this.activeContainer.playback}}]),T.prototype.configureDomRecycler=function(){var e=this.options&&this.options.playback&&this.options.playback.recycleVideo;l.DomRecycler.configure({recycleVideo:e})},T.prototype.createContainers=function(e){this.defer=b.default.Deferred(),this.defer.promise(this),this.containerFactory=new f.default(e,e.loader,this.i18n,this.playerError),this.prepareContainers()},T.prototype.prepareContainers=function(){var t=this;this.containerFactory.createContainers().then(function(e){return t.setupContainers(e)}).then(function(e){return t.resolveOnContainersReady(e)})},T.prototype.updateSize=function(){this.isFullscreen()?this.setFullscreen():this.setPlayerSize()},T.prototype.setFullscreen=function(){h.default.isiOS||(this.$el.addClass("fullscreen"),this.$el.removeAttr("style"),this.playerInfo.previousSize={width:this.options.width,height:this.options.height},this.playerInfo.currentSize={width:(0,b.default)(window).width(),height:(0,b.default)(window).height()})},T.prototype.setPlayerSize=function(){this.$el.removeClass("fullscreen"),this.playerInfo.currentSize=this.playerInfo.previousSize,this.playerInfo.previousSize={width:(0,b.default)(window).width(),height:(0,b.default)(window).height()},this.resize(this.playerInfo.currentSize)},T.prototype.resize=function(e){(0,l.isNumber)(e.height)||(0,l.isNumber)(e.width)?(this.el.style.height=e.height+"px",this.el.style.width=e.width+"px"):(this.el.style.height=""+e.height,this.el.style.width=""+e.width),this.playerInfo.previousSize={width:this.options.width,height:this.options.height},this.options.width=e.width,this.options.height=e.height,this.playerInfo.currentSize=e,this.triggerResize(this.playerInfo.currentSize)},T.prototype.enableResizeObserver=function(){var e=this;this.resizeObserverInterval=setInterval(function(){e.triggerResize({width:e.el.clientWidth,height:e.el.clientHeight})},500)},T.prototype.triggerResize=function(e){!this.firstResize&&this.oldHeight===e.height&&this.oldWidth===e.width||(this.oldHeight=e.height,this.oldWidth=e.width,this.playerInfo.computedSize=e,this.firstResize=!1,m.default.trigger(this.options.playerId+":"+u.default.PLAYER_RESIZE,e),this.trigger(u.default.CORE_RESIZE,e))},T.prototype.disableResizeObserver=function(){this.resizeObserverInterval&&clearInterval(this.resizeObserverInterval)},T.prototype.resolveOnContainersReady=function(e){var t=this;b.default.when.apply(b.default,e).done(function(){t.defer.resolve(t),t.ready=!0,t.trigger(u.default.CORE_READY)})},T.prototype.addPlugin=function(e){this.plugins.push(e)},T.prototype.hasPlugin=function(e){return!!this.getPlugin(e)},T.prototype.getPlugin=function(t){return this.plugins.filter(function(e){return e.name===t})[0]},T.prototype.load=function(e,t){this.options.mimeType=t,e=e&&e.constructor===Array?e:[e],this.options.sources=e,this.containers.forEach(function(e){return e.destroy()}),this.containerFactory.options=b.default.extend(this.options,{sources:e}),this.prepareContainers()},T.prototype.destroy=function(){this.disableResizeObserver(),this.containers.forEach(function(e){return e.destroy()}),this.plugins.forEach(function(e){return e.destroy()}),this.$el.remove(),(0,b.default)(document).unbind("fullscreenchange",this._boundFullscreenHandler),(0,b.default)(document).unbind("MSFullscreenChange",this._boundFullscreenHandler),(0,b.default)(document).unbind("mozfullscreenchange",this._boundFullscreenHandler),this.stopListening()},T.prototype.handleFullscreenChange=function(){this.trigger(u.default.CORE_FULLSCREEN,this.isFullscreen()),this.updateSize()},T.prototype.handleWindowResize=function(e){var t=window.innerWidth>window.innerHeight?"landscape":"portrait";this._screenOrientation!==t&&(this._screenOrientation=t,this.triggerResize({width:this.el.clientWidth,height:this.el.clientHeight}),this.trigger(u.default.CORE_SCREEN_ORIENTATION_CHANGED,{event:e,orientation:this._screenOrientation}))},T.prototype.removeContainer=function(t){this.stopListening(t),this.containers=this.containers.filter(function(e){return e!==t})},T.prototype.setupContainer=function(e){this.listenTo(e,u.default.CONTAINER_DESTROYED,this.removeContainer),this.containers.push(e)},T.prototype.setupContainers=function(e){return e.forEach(this.setupContainer.bind(this)),this.trigger(u.default.CORE_CONTAINERS_CREATED),this.renderContainers(),this.activeContainer=e[0],this.render(),this.appendToParent(),this.containers},T.prototype.renderContainers=function(){var t=this;this.containers.forEach(function(e){return t.el.appendChild(e.render().el)})},T.prototype.createContainer=function(e,t){var n=this.containerFactory.createContainer(e,t);return this.setupContainer(n),this.el.appendChild(n.render().el),n},T.prototype.getCurrentContainer=function(){return this.activeContainer},T.prototype.getCurrentPlayback=function(){return this.activePlayback},T.prototype.getPlaybackType=function(){return this.activeContainer&&this.activeContainer.getPlaybackType()},T.prototype.isFullscreen=function(){var e=h.default.isiOS&&this.activeContainer&&this.activeContainer.el||this.el;return l.Fullscreen.fullscreenElement()===e},T.prototype.toggleFullscreen=function(){this.isFullscreen()?(l.Fullscreen.cancelFullscreen(),h.default.isiOS||this.$el.removeClass("fullscreen nocursor")):(l.Fullscreen.requestFullscreen(h.default.isiOS?this.activeContainer.el:this.el),h.default.isiOS||this.$el.addClass("fullscreen"))},T.prototype.onMouseMove=function(e){this.trigger(u.default.CORE_MOUSE_MOVE,e)},T.prototype.onMouseLeave=function(e){this.trigger(u.default.CORE_MOUSE_LEAVE,e)},T.prototype.configure=function(e){var t=this;this._options=b.default.extend(this._options,e),this.configureDomRecycler();var n=e.source||e.sources;n&&this.load(n,e.mimeType||this.options.mimeType),this.trigger(u.default.CORE_OPTIONS_CHANGE,e),this.containers.forEach(function(e){return e.configure(t.options)})},T.prototype.appendToParent=function(){this.$el.parent()&&this.$el.parent().length||this.$el.appendTo(this.options.parentElement)},T.prototype.render=function(){k=k||c.default.getStyleFor(_.default,{baseUrl:this.options.baseUrl}),(0,b.default)("head").append(k),this.options.width=this.options.width||this.$el.width(),this.options.height=this.options.height||this.$el.height();var e={width:this.options.width,height:this.options.height};return this.playerInfo.previousSize=this.playerInfo.currentSize=this.playerInfo.computedSize=e,this.updateSize(),this.previousSize={width:this.$el.width(),height:this.$el.height()},this.enableResizeObserver(),this},T);function T(e){(0,o.default)(this,T);var t=(0,i.default)(this,E.call(this,e));return t.playerError=new y.default(e,t),t.configureDomRecycler(),t.playerInfo=g.default.getInstance(e.playerId),t.firstResize=!0,t.plugins=[],t.containers=[],t._boundFullscreenHandler=function(){return t.handleFullscreenChange()},(0,b.default)(document).bind("fullscreenchange",t._boundFullscreenHandler),(0,b.default)(document).bind("MSFullscreenChange",t._boundFullscreenHandler),(0,b.default)(document).bind("mozfullscreenchange",t._boundFullscreenHandler),h.default.isMobile&&(0,b.default)(window).bind("resize",function(e){t.handleWindowResize(e)}),t}t.default=x,(0,r.default)(x.prototype,v.default),e.exports=t.default},"./src/components/core/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/core/core.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/core/public/Roboto.ttf":function(e,t){e.exports="<%=baseUrl%>/38861cba61c66739c1452c3a71e39852.ttf"},"./src/components/core/public/fonts.css":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'@font-face {\n  font-family: "Roboto";\n  font-style: normal;\n  font-weight: 400;\n  src: local("Roboto"), local("Roboto-Regular"), url('+r(n("./src/components/core/public/Roboto.ttf"))+') format("truetype");\n}\n',""])},"./src/components/core/public/style.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/components/core/public/style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/components/core_factory/core_factory.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=c(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=c(n("./node_modules/babel-runtime/helpers/createClass.js")),a=c(n("./node_modules/babel-runtime/helpers/inherits.js")),s=c(n("./src/base/base_object.js")),l=c(n("./src/components/core/index.js"));function c(e){return e&&e.__esModule?e:{default:e}}var u,d=(u=s.default,(0,a.default)(p,u),(0,i.default)(p,[{key:"loader",get:function(){return this.player.loader}}]),p.prototype.create=function(){return this.options.loader=this.loader,this.core=new l.default(this.options),this.addCorePlugins(),this.core.createContainers(this.options),this.core},p.prototype.addCorePlugins=function(){var n=this;return this.loader.corePlugins.forEach(function(e){var t=new e(n.core);n.core.addPlugin(t),n.setupExternalInterface(t)}),this.core},p.prototype.setupExternalInterface=function(e){var t=e.getExternalInterface();for(var n in t)this.player[n]=t[n].bind(e),this.core[n]=t[n].bind(e)},p);function p(e){(0,r.default)(this,p);var t=(0,o.default)(this,u.call(this));return t.player=e,t._options=e.options,t}t.default=d,e.exports=t.default},"./src/components/core_factory/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/core_factory/core_factory.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/error/error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=u(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=u(n("./node_modules/babel-runtime/helpers/createClass.js")),a=u(n("./node_modules/babel-runtime/helpers/inherits.js")),s=u(n("./src/base/events.js")),l=u(n("./src/base/base_object.js")),c=u(n("./src/plugins/log/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d,p=(d=l.default,(0,a.default)(h,d),(0,i.default)(h,[{key:"name",get:function(){return"error"}}],[{key:"Levels",get:function(){return{FATAL:"FATAL",WARN:"WARN",INFO:"INFO"}}}]),h.prototype.createError=function(e){this.core?this.core.trigger(s.default.ERROR,e):c.default.warn(this.name,"Core is not set. Error: ",e)},h);function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];(0,r.default)(this,h);var n=(0,o.default)(this,d.call(this,e));return n.core=t,n}t.default=p,e.exports=t.default},"./src/components/error/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/error/error.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/loader/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/components/loader/loader.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/components/loader/loader.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=R(n("./node_modules/babel-runtime/core-js/object/create.js")),i=R(n("./node_modules/babel-runtime/helpers/toConsumableArray.js")),a=R(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),s=R(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),r=R(n("./node_modules/babel-runtime/helpers/inherits.js")),l=R(n("./src/base/base_object.js")),c=R(n("./src/components/player_info.js")),u=R(n("./src/playbacks/html5_video/index.js")),d=R(n("./src/playbacks/flash/index.js")),p=R(n("./src/playbacks/html5_audio/index.js")),h=R(n("./src/playbacks/flashls/index.js")),f=R(n("./src/playbacks/hls/index.js")),m=R(n("./src/playbacks/html_img/index.js")),g=R(n("./src/playbacks/no_op/index.js")),y=R(n("./src/plugins/spinner_three_bounce/index.js")),v=R(n("./src/plugins/stats/index.js")),b=R(n("./src/plugins/watermark/index.js")),_=R(n("./src/plugins/poster/index.js")),A=R(n("./src/plugins/google_analytics/index.js")),E=R(n("./src/plugins/click_to_pause/index.js")),k=R(n("./src/plugins/media_control/index.js")),x=R(n("./src/plugins/dvr_controls/index.js")),T=R(n("./src/plugins/closed_captions/index.js")),w=R(n("./src/plugins/favicon/index.js")),S=R(n("./src/plugins/seek_time/index.js")),C=R(n("./src/plugins/sources.js")),P=R(n("./src/plugins/end_video.js")),j=R(n("./src/plugins/strings.js")),O=R(n("./src/plugins/error_screen/index.js"));function R(e){return e&&e.__esModule?e:{default:e}}var L,I=(L=l.default,(0,r.default)(D,L),D.prototype.groupPluginsByType=function(e){return Array.isArray(e)&&(e=e.reduce(function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e},{})),e},D.prototype.removeDups=function(e){var t=e.reduceRight(function(e,t){return e[t.prototype.name]&&delete e[t.prototype.name],e[t.prototype.name]=t,e},(0,o.default)(null)),n=[];for(var r in t)n.unshift(t[r]);return n},D.prototype.addExternalPlugins=function(e){(e=this.groupPluginsByType(e)).playback&&(this.playbackPlugins=this.removeDups(e.playback.concat(this.playbackPlugins))),e.container&&(this.containerPlugins=this.removeDups(e.container.concat(this.containerPlugins))),e.core&&(this.corePlugins=this.removeDups(e.core.concat(this.corePlugins))),c.default.getInstance(this.playerId).playbackPlugins=this.playbackPlugins},D.prototype.validateExternalPluginsType=function(e){["playback","container","core"].forEach(function(n){(e[n]||[]).forEach(function(e){var t="external "+e.type+" plugin on "+n+" array";if(e.type!==n)throw new ReferenceError(t)})})},D);function D(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,a.default)(this,D);var r=(0,s.default)(this,L.call(this));return r.playerId=t,r.playbackPlugins=[],n||(r.playbackPlugins=[].concat((0,i.default)(r.playbackPlugins),[f.default])),r.playbackPlugins=[].concat((0,i.default)(r.playbackPlugins),[u.default,p.default]),n||(r.playbackPlugins=[].concat((0,i.default)(r.playbackPlugins),[d.default,h.default])),r.playbackPlugins=[].concat((0,i.default)(r.playbackPlugins),[m.default,g.default]),r.containerPlugins=[y.default,b.default,_.default,v.default,A.default,E.default],r.corePlugins=[k.default,x.default,T.default,w.default,S.default,C.default,P.default,O.default,j.default],Array.isArray(e)||r.validateExternalPluginsType(e),r.addExternalPlugins(e),r}t.default=I,e.exports=t.default},"./src/components/mediator.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("./node_modules/babel-runtime/helpers/classCallCheck.js"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){(0,r.default)(this,i)}var a=new(o(n("./src/base/events.js")).default);(t.default=i).on=function(e,t,n){a.on(e,t,n)},i.once=function(e,t,n){a.once(e,t,n)},i.off=function(e,t,n){a.off(e,t,n)},i.trigger=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.trigger.apply(a,[e].concat(n))},i.stopListening=function(e,t,n){a.stopListening(e,t,n)},e.exports=t.default},"./src/components/player.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("./node_modules/babel-runtime/core-js/object/assign.js")),i=v(n("./node_modules/babel-runtime/core-js/object/keys.js")),o=v(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),a=v(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),s=v(n("./node_modules/babel-runtime/helpers/createClass.js")),l=v(n("./node_modules/babel-runtime/helpers/inherits.js")),c=n("./src/base/utils.js"),u=v(n("./src/base/base_object.js")),d=v(n("./src/base/events.js")),p=v(n("./src/components/browser/index.js")),h=v(n("./src/components/core_factory/index.js")),f=v(n("./src/components/loader/index.js")),m=v(n("./src/components/player_info.js")),g=v(n("./src/base/error_mixin.js")),y=v(n("./node_modules/clappr-zepto/zepto.js"));function v(e){return e&&e.__esModule?e:{default:e}}var b,_=(0,c.currentScriptUrl)().replace(/\/[^/]+$/,""),A=(b=u.default,(0,l.default)(E,b),(0,s.default)(E,[{key:"loader",set:function(e){this._loader=e},get:function(){return this._loader||(this._loader=new f.default(this.options.plugins||{},this.options.playerId)),this._loader}},{key:"ended",get:function(){return this.core.activeContainer.ended}},{key:"buffering",get:function(){return this.core.activeContainer.buffering}},{key:"isReady",get:function(){return!!this._ready}},{key:"eventsMapping",get:function(){return{onReady:d.default.PLAYER_READY,onResize:d.default.PLAYER_RESIZE,onPlay:d.default.PLAYER_PLAY,onPause:d.default.PLAYER_PAUSE,onStop:d.default.PLAYER_STOP,onEnded:d.default.PLAYER_ENDED,onSeek:d.default.PLAYER_SEEK,onError:d.default.PLAYER_ERROR,onTimeUpdate:d.default.PLAYER_TIMEUPDATE,onVolumeUpdate:d.default.PLAYER_VOLUMEUPDATE,onSubtitleAvailable:d.default.PLAYER_SUBTITLE_AVAILABLE}}}]),E.prototype.setParentId=function(e){var t=document.querySelector(e);return t&&this.attachTo(t),this},E.prototype.attachTo=function(e){return this.options.parentElement=e,this.core=this._coreFactory.create(),this._addEventListeners(),this},E.prototype._addEventListeners=function(){return this.core.isReady?this._onReady():this.listenToOnce(this.core,d.default.CORE_READY,this._onReady),this.listenTo(this.core,d.default.CORE_ACTIVE_CONTAINER_CHANGED,this._containerChanged),this.listenTo(this.core,d.default.CORE_FULLSCREEN,this._onFullscreenChange),this.listenTo(this.core,d.default.CORE_RESIZE,this._onResize),this},E.prototype._addContainerEventListeners=function(){var e=this.core.activeContainer;return e&&(this.listenTo(e,d.default.CONTAINER_PLAY,this._onPlay),this.listenTo(e,d.default.CONTAINER_PAUSE,this._onPause),this.listenTo(e,d.default.CONTAINER_STOP,this._onStop),this.listenTo(e,d.default.CONTAINER_ENDED,this._onEnded),this.listenTo(e,d.default.CONTAINER_SEEK,this._onSeek),this.listenTo(e,d.default.CONTAINER_ERROR,this._onError),this.listenTo(e,d.default.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.listenTo(e,d.default.CONTAINER_VOLUME,this._onVolumeUpdate),this.listenTo(e,d.default.CONTAINER_SUBTITLE_AVAILABLE,this._onSubtitleAvailable)),this},E.prototype._registerOptionEventListeners=function(e,t){var r=this,o=0<arguments.length&&void 0!==e?e:{},n=1<arguments.length&&void 0!==t?t:{};return 0<(0,i.default)(o).length&&(0,i.default)(n).forEach(function(e){var t=r.eventsMapping[e];t&&r.off(t,n[e])}),(0,i.default)(o).forEach(function(e){var t=r.eventsMapping[e];if(t){var n=o[e];(n="function"==typeof n&&n)&&r.on(t,n)}}),this},E.prototype._containerChanged=function(){this.stopListening(),this._addEventListeners()},E.prototype._onReady=function(){this._ready=!0,this._addContainerEventListeners(),this.trigger(d.default.PLAYER_READY)},E.prototype._onFullscreenChange=function(e){this.trigger(d.default.PLAYER_FULLSCREEN,e)},E.prototype._onVolumeUpdate=function(e){this.trigger(d.default.PLAYER_VOLUMEUPDATE,e)},E.prototype._onSubtitleAvailable=function(){this.trigger(d.default.PLAYER_SUBTITLE_AVAILABLE)},E.prototype._onResize=function(e){this.trigger(d.default.PLAYER_RESIZE,e)},E.prototype._onPlay=function(){this.trigger(d.default.PLAYER_PLAY)},E.prototype._onPause=function(){this.trigger(d.default.PLAYER_PAUSE)},E.prototype._onStop=function(){this.trigger(d.default.PLAYER_STOP,this.getCurrentTime())},E.prototype._onEnded=function(){this.trigger(d.default.PLAYER_ENDED)},E.prototype._onSeek=function(e){this.trigger(d.default.PLAYER_SEEK,e)},E.prototype._onTimeUpdate=function(e){this.trigger(d.default.PLAYER_TIMEUPDATE,e)},E.prototype._onError=function(e){this.trigger(d.default.PLAYER_ERROR,e)},E.prototype._normalizeSources=function(e){var t=e.sources||(void 0!==e.source?[e.source]:[]);return 0===t.length?[{source:"",mimeType:""}]:t},E.prototype.resize=function(e){return this.core.resize(e),this},E.prototype.load=function(e,t,n){return void 0!==n&&this.configure({autoPlay:!!n}),this.core.load(e,t),this},E.prototype.destroy=function(){return this.stopListening(),this.core.destroy(),this},E.prototype.consent=function(){return this.core.getCurrentPlayback().consent(),this},E.prototype.play=function(){return this.core.activeContainer.play(),this},E.prototype.pause=function(){return this.core.activeContainer.pause(),this},E.prototype.stop=function(){return this.core.activeContainer.stop(),this},E.prototype.seek=function(e){return this.core.activeContainer.seek(e),this},E.prototype.seekPercentage=function(e){return this.core.activeContainer.seekPercentage(e),this},E.prototype.mute=function(){return this._mutedVolume=this.getVolume(),this.setVolume(0),this},E.prototype.unmute=function(){return this.setVolume("number"==typeof this._mutedVolume?this._mutedVolume:100),this._mutedVolume=null,this},E.prototype.isPlaying=function(){return this.core.activeContainer.isPlaying()},E.prototype.isDvrEnabled=function(){return this.core.activeContainer.isDvrEnabled()},E.prototype.isDvrInUse=function(){return this.core.activeContainer.isDvrInUse()},E.prototype.configure=function(e){var t=0<arguments.length&&void 0!==e?e:{};return this._registerOptionEventListeners(t.events,this.options.events),this.core.configure(t),this},E.prototype.getPlugin=function(t){return this.core.plugins.concat(this.core.activeContainer.plugins).filter(function(e){return e.name===t})[0]},E.prototype.getCurrentTime=function(){return this.core.activeContainer.getCurrentTime()},E.prototype.getStartTimeOffset=function(){return this.core.activeContainer.getStartTimeOffset()},E.prototype.getDuration=function(){return this.core.activeContainer.getDuration()},E);function E(e){(0,o.default)(this,E);var t=(0,a.default)(this,b.call(this,e)),n={playerId:(0,c.uniqueId)(""),persistConfig:!0,width:640,height:360,baseUrl:_,allowUserInteraction:p.default.isMobile,playback:{recycleVideo:!0}};return t._options=y.default.extend(n,e),t.options.sources=t._normalizeSources(e),t.options.chromeless||(t.options.allowUserInteraction=!0),t.options.allowUserInteraction||(t.options.disableKeyboardShortcuts=!0),t._registerOptionEventListeners(t.options.events),t._coreFactory=new h.default(t),t.playerInfo=m.default.getInstance(t.options.playerId),t.playerInfo.currentSize={width:e.width,height:e.height},t.playerInfo.options=t.options,t.options.parentId?t.setParentId(t.options.parentId):t.options.parent&&t.attachTo(t.options.parent),t}t.default=A,(0,r.default)(A.prototype,g.default),e.exports=t.default},"./src/components/player_info.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=(r=o)&&r.__esModule?r:{default:r};function a(){(0,i.default)(this,a),this.options={},this.playbackPlugins=[],this.currentSize={width:0,height:0}}a._players={},a.getInstance=function(e){return a._players[e]||(a._players[e]=new a)},t.default=a,e.exports=t.default},"./src/icons/01-play.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M1.425.35L14.575 8l-13.15 7.65V.35z"></path></svg>'},"./src/icons/02-pause.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z"></path></svg>'},"./src/icons/03-stop.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 1.24h12.6v13.52h-12.6z"></path></svg>'},"./src/icons/04-volume.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z"></path></svg>'},"./src/icons/05-mute.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z"></path></svg>'},"./src/icons/06-expand.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z"></path></svg>'},"./src/icons/07-shrink.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z"></path></svg>'},"./src/icons/08-hd.svg":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z"></path></svg>'},"./src/icons/09-cc.svg":function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49 41.8" style="enable-background:new 0 0 49 41.8;" xml:space="preserve"><path d="M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h11.9l3.2,1.9l4.7,2.7c0.9,0.5,2-0.1,2-1.1V37h22.1 c1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4 c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9 C10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4 c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z"></path></svg>'},"./src/icons/10-reload.svg":function(e,t){e.exports='<svg fill="#FFFFFF" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},"./src/main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=U(n("./src/components/player.js")),o=U(n("./src/base/utils.js")),i=U(n("./src/base/events.js")),a=U(n("./src/base/playback.js")),s=U(n("./src/base/container_plugin.js")),l=U(n("./src/base/core_plugin.js")),c=U(n("./src/base/ui_core_plugin.js")),u=U(n("./src/base/ui_container_plugin.js")),d=U(n("./src/base/base_object.js")),p=U(n("./src/base/ui_object.js")),h=U(n("./src/components/browser/index.js")),f=U(n("./src/components/container/index.js")),m=U(n("./src/components/core/index.js")),g=U(n("./src/components/error/index.js")),y=U(n("./src/components/loader/index.js")),v=U(n("./src/components/mediator.js")),b=U(n("./src/components/player_info.js")),_=U(n("./src/playbacks/base_flash_playback/index.js")),A=U(n("./src/playbacks/flash/index.js")),E=U(n("./src/playbacks/flashls/index.js")),k=U(n("./src/playbacks/hls/index.js")),x=U(n("./src/playbacks/html5_audio/index.js")),T=U(n("./src/playbacks/html5_video/index.js")),w=U(n("./src/playbacks/html_img/index.js")),S=U(n("./src/playbacks/no_op/index.js")),C=U(n("./src/plugins/media_control/index.js")),P=U(n("./src/plugins/click_to_pause/index.js")),j=U(n("./src/plugins/dvr_controls/index.js")),O=U(n("./src/plugins/favicon/index.js")),R=U(n("./src/plugins/log/index.js")),L=U(n("./src/plugins/poster/index.js")),I=U(n("./src/plugins/spinner_three_bounce/index.js")),D=U(n("./src/plugins/watermark/index.js")),M=U(n("./src/base/styler.js")),N=U(n("./src/vendor/index.js")),F=U(n("./src/base/template.js")),B=U(n("./node_modules/clappr-zepto/zepto.js"));function U(e){return e&&e.__esModule?e:{default:e}}t.default={Player:r.default,Mediator:v.default,Events:i.default,Browser:h.default,PlayerInfo:b.default,MediaControl:C.default,ContainerPlugin:s.default,UIContainerPlugin:u.default,CorePlugin:l.default,UICorePlugin:c.default,Playback:a.default,Container:f.default,Core:m.default,PlayerError:g.default,Loader:y.default,BaseObject:d.default,UIObject:p.default,Utils:o.default,BaseFlashPlayback:_.default,Flash:A.default,FlasHLS:E.default,HLS:k.default,HTML5Audio:x.default,HTML5Video:T.default,HTMLImg:w.default,NoOp:S.default,ClickToPausePlugin:P.default,DVRControls:j.default,Favicon:O.default,Log:R.default,Poster:L.default,SpinnerThreeBouncePlugin:I.default,WaterMarkPlugin:D.default,Styler:M.default,Vendor:N.default,version:"0.3.12",template:F.default,$:B.default},e.exports=t.default},"./src/playbacks/base_flash_playback/base_flash_playback.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=d(n("./node_modules/babel-runtime/helpers/createClass.js")),i=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=d(n("./node_modules/babel-runtime/helpers/inherits.js")),s=d(n("./src/base/playback.js")),l=d(n("./src/base/template.js")),c=d(n("./src/components/browser/index.js")),u=d(n("./src/playbacks/base_flash_playback/public/flash.html"));function d(e){return e&&e.__esModule?e:{default:e}}n("./src/playbacks/base_flash_playback/public/flash.scss");var p,h=(p=s.default,(0,a.default)(f,p),f.prototype.setElement=function(e){this.$el=e,this.el=e[0]},f.prototype.render=function(){return this.$el.attr("data",this.swfPath),this.$el.html(this.template({cid:this.cid,swfPath:this.swfPath,baseUrl:this.baseUrl,playbackId:this.uniqueId,wmode:this.wmode,callbackName:"window.Clappr.flashlsCallbacks."+this.cid})),c.default.isIE&&(this.$("embed").remove(),c.default.isLegacyIE&&this.$el.attr("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")),this.el.id=this.cid,this},(0,o.default)(f,[{key:"tagName",get:function(){return"object"}},{key:"swfPath",get:function(){return""}},{key:"wmode",get:function(){return"transparent"}},{key:"template",get:function(){return(0,l.default)(u.default)}},{key:"attributes",get:function(){var e="application/x-shockwave-flash";return c.default.isLegacyIE&&(e=""),{class:"clappr-flash-playback",type:e,width:"100%",height:"100%",data:this.swfPath,"data-flash-playback":this.name}}}]),f);function f(){return(0,r.default)(this,f),(0,i.default)(this,p.apply(this,arguments))}t.default=h,e.exports=t.default},"./src/playbacks/base_flash_playback/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=n("./src/playbacks/base_flash_playback/base_flash_playback.js"),e.exports=t.default},"./src/playbacks/base_flash_playback/public/flash.html":function(e,t){e.exports='<param name="movie" value="<%= swfPath %>">\n<param name="quality" value="autohigh">\n<param name="swliveconnect" value="true">\n<param name="allowScriptAccess" value="always">\n<param name="bgcolor" value="#000000">\n<param name="allowFullScreen" value="false">\n<param name="wmode" value="<%= wmode %>">\n<param name="tabindex" value="1">\n<param name="FlashVars" value="playbackId=<%= playbackId %>&callback=<%= callbackName %>">\n<embed\n  name="<%= cid %>"\n  type="application/x-shockwave-flash"\n  disabled="disabled"\n  tabindex="-1"\n  enablecontextmenu="false"\n  allowScriptAccess="always"\n  quality="autohigh"\n  pluginspage="http://www.macromedia.com/go/getflashplayer"\n  wmode="<%= wmode %>"\n  swliveconnect="true"\n  allowfullscreen="false"\n  bgcolor="#000000"\n  FlashVars="playbackId=<%= playbackId %>&callback=<%= callbackName %>"\n  data="<%= swfPath %>"\n  src="<%= swfPath %>"\n  width="100%"\n  height="100%">\n</embed>\n'},"./src/playbacks/base_flash_playback/public/flash.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/base_flash_playback/public/flash.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/playbacks/flash/flash.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=g(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),r=g(n("./node_modules/babel-runtime/helpers/createClass.js")),a=g(n("./node_modules/babel-runtime/helpers/inherits.js")),s=n("./src/base/utils.js"),l=g(n("./src/playbacks/base_flash_playback/index.js")),c=g(n("./src/components/browser/index.js")),u=g(n("./src/components/mediator.js")),d=g(n("./src/base/template.js")),p=g(n("./node_modules/clappr-zepto/zepto.js")),h=g(n("./src/base/events.js")),f=g(n("./src/base/playback.js")),m=g(n("./src/playbacks/flash/public/Player.swf"));function g(e){return e&&e.__esModule?e:{default:e}}var y,v=(y=l.default,(0,a.default)(b,y),(0,r.default)(b,[{key:"name",get:function(){return"flash"}},{key:"swfPath",get:function(){return(0,d.default)(m.default)({baseUrl:this._baseUrl})}},{key:"ended",get:function(){return"ENDED"===this._currentState}},{key:"buffering",get:function(){return!!this._bufferingState&&"ENDED"!==this._currentState}}]),b.prototype._bootstrap=function(){var e=this;this.el.playerPlay?(this.el.width="100%",this.el.height="100%","PLAYING"===this._currentState?this._firstPlay():(this._currentState="IDLE",this._autoPlay&&this.play()),(0,p.default)('<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" />').insertAfter(this.$el),0<this.getDuration()?this._metadataLoaded():u.default.once(this.uniqueId+":timeupdate",this._metadataLoaded,this)):(this._attempts=this._attempts||0,++this._attempts<=60?setTimeout(function(){return e._bootstrap()},50):this.trigger(h.default.PLAYBACK_ERROR,{message:"Max number of attempts reached"},this.name))},b.prototype._metadataLoaded=function(){this._isReadyState=!0,this.trigger(h.default.PLAYBACK_READY,this.name),this.trigger(h.default.PLAYBACK_SETTINGSUPDATE,this.name)},b.prototype.getPlaybackType=function(){return f.default.VOD},b.prototype.isHighDefinitionInUse=function(){return!1},b.prototype._updateTime=function(){this.trigger(h.default.PLAYBACK_TIMEUPDATE,{current:this.el.getPosition(),total:this.el.getDuration()},this.name)},b.prototype._addListeners=function(){u.default.on(this.uniqueId+":progress",this._progress,this),u.default.on(this.uniqueId+":timeupdate",this._updateTime,this),u.default.on(this.uniqueId+":statechanged",this._checkState,this),u.default.on(this.uniqueId+":flashready",this._bootstrap,this)},b.prototype.stopListening=function(){y.prototype.stopListening.call(this),u.default.off(this.uniqueId+":progress"),u.default.off(this.uniqueId+":timeupdate"),u.default.off(this.uniqueId+":statechanged"),u.default.off(this.uniqueId+":flashready")},b.prototype._checkState=function(){this._isIdle||"PAUSED"===this._currentState||("PLAYING_BUFFERING"!==this._currentState&&"PLAYING_BUFFERING"===this.el.getState()?(this._bufferingState=!0,this.trigger(h.default.PLAYBACK_BUFFERING,this.name),this._currentState="PLAYING_BUFFERING"):"PLAYING"===this.el.getState()?(this._bufferingState=!1,this.trigger(h.default.PLAYBACK_BUFFERFULL,this.name),this._currentState="PLAYING"):"IDLE"===this.el.getState()?this._currentState="IDLE":"ENDED"===this.el.getState()&&(this.trigger(h.default.PLAYBACK_ENDED,this.name),this.trigger(h.default.PLAYBACK_TIMEUPDATE,{current:0,total:this.el.getDuration()},this.name),this._currentState="ENDED",this._isIdle=!0))},b.prototype._progress=function(){"IDLE"!==this._currentState&&"ENDED"!==this._currentState&&this.trigger(h.default.PLAYBACK_PROGRESS,{start:0,current:this.el.getBytesLoaded(),total:this.el.getBytesTotal()})},b.prototype._firstPlay=function(){var e=this;this.el.playerPlay?(this._isIdle=!1,this.el.playerPlay(this._src),this.listenToOnce(this,h.default.PLAYBACK_BUFFERFULL,function(){return e._checkInitialSeek()}),this._currentState="PLAYING"):this.listenToOnce(this,h.default.PLAYBACK_READY,this._firstPlay)},b.prototype._checkInitialSeek=function(){var e=(0,s.seekStringToSeconds)(window.location.href);0!==e&&this.seekSeconds(e)},b.prototype.play=function(){this.trigger(h.default.PLAYBACK_PLAY_INTENT),"PAUSED"===this._currentState||"PLAYING_BUFFERING"===this._currentState?(this._currentState="PLAYING",this.el.playerResume(),this.trigger(h.default.PLAYBACK_PLAY,this.name)):"PLAYING"!==this._currentState&&(this._firstPlay(),this.trigger(h.default.PLAYBACK_PLAY,this.name))},b.prototype.volume=function(e){var t=this;this.isReady?this.el.playerVolume(e):this.listenToOnce(this,h.default.PLAYBACK_BUFFERFULL,function(){return t.volume(e)})},b.prototype.pause=function(){this._currentState="PAUSED",this.el.playerPause(),this.trigger(h.default.PLAYBACK_PAUSE,this.name)},b.prototype.stop=function(){this.el.playerStop(),this.trigger(h.default.PLAYBACK_STOP),this.trigger(h.default.PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},b.prototype.isPlaying=function(){return!!(this.isReady&&-1<this._currentState.indexOf("PLAYING"))},b.prototype.getDuration=function(){return this.el.getDuration()},b.prototype.seekPercentage=function(e){var t=this;if(0<this.el.getDuration()){var n=this.el.getDuration()*(e/100);this.seek(n)}else this.listenToOnce(this,h.default.PLAYBACK_BUFFERFULL,function(){return t.seekPercentage(e)})},b.prototype.seek=function(e){var t=this;this.isReady&&this.el.playerSeek?(this.el.playerSeek(e),this.trigger(h.default.PLAYBACK_TIMEUPDATE,{current:e,total:this.el.getDuration()},this.name),"PAUSED"===this._currentState&&this.el.playerPause()):this.listenToOnce(this,h.default.PLAYBACK_BUFFERFULL,function(){return t.seek(e)})},b.prototype.destroy=function(){clearInterval(this.bootstrapId),y.prototype.stopListening.call(this),this.$el.remove()},(0,r.default)(b,[{key:"isReady",get:function(){return this._isReadyState}}]),b);function b(){(0,o.default)(this,b);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,i.default)(this,y.call.apply(y,[this].concat(t)));return r._src=r.options.src,r._baseUrl=r.options.baseUrl,r._autoPlay=r.options.autoPlay,r.settings={default:["seekbar"]},r.settings.left=["playpause","position","duration"],r.settings.right=["fullscreen","volume"],r.settings.seekEnabled=!0,r._isReadyState=!1,r._addListeners(),r}(t.default=v).canPlay=function(e){if(c.default.hasFlash&&e&&e.constructor===String){var t=e.split("?")[0].match(/.*\.(.*)$/)||[];return 1<t.length&&!c.default.isMobile&&t[1].toLowerCase().match(/^(mp4|mov|f4v|3gpp|3gp)$/)}return!1},e.exports=t.default},"./src/playbacks/flash/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/flash/flash.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/flash/public/Player.swf":function(e,t){e.exports="<%=baseUrl%>/4b76590b32dab62bc95c1b7951efae78.swf"},"./src/playbacks/flashls/flashls.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=y(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=y(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),r=y(n("./node_modules/babel-runtime/helpers/createClass.js")),a=y(n("./node_modules/babel-runtime/helpers/inherits.js")),s=y(n("./src/playbacks/base_flash_playback/index.js")),l=y(n("./src/base/events.js")),c=y(n("./src/base/template.js")),u=y(n("./src/base/playback.js")),d=y(n("./src/components/mediator.js")),p=y(n("./src/components/browser/index.js")),h=y(n("./src/components/error/index.js")),f=y(n("./src/playbacks/flashls/flashls_events.js")),m=y(n("./src/playbacks/flashls/public/HLSPlayer.swf")),g=y(n("./node_modules/clappr-zepto/zepto.js"));function y(e){return e&&e.__esModule?e:{default:e}}var v,b=(v=s.default,(0,a.default)(_,v),(0,r.default)(_,[{key:"name",get:function(){return"flashls"}},{key:"swfPath",get:function(){return(0,c.default)(m.default)({baseUrl:this._baseUrl})}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(e){this._currentLevel=e,this.trigger(l.default.PLAYBACK_LEVEL_SWITCH_START),this.el.playerSetCurrentLevel(e)}},{key:"ended",get:function(){return this._hasEnded}},{key:"buffering",get:function(){return!!this._bufferingState&&!this._hasEnded}}]),_.prototype._initHlsParameters=function(e){this._autoStartLoad=void 0===e.autoStartLoad||e.autoStartLoad,this._capLevelToStage=void 0!==e.capLevelToStage&&e.capLevelToStage,this._maxLevelCappingMode=void 0===e.maxLevelCappingMode?"downscale":e.maxLevelCappingMode,this._minBufferLength=void 0===e.minBufferLength?-1:e.minBufferLength,this._minBufferLengthCapping=void 0===e.minBufferLengthCapping?-1:e.minBufferLengthCapping,this._maxBufferLength=void 0===e.maxBufferLength?120:e.maxBufferLength,this._maxBackBufferLength=void 0===e.maxBackBufferLength?30:e.maxBackBufferLength,this._lowBufferLength=void 0===e.lowBufferLength?3:e.lowBufferLength,this._mediaTimePeriod=void 0===e.mediaTimePeriod?100:e.mediaTimePeriod,this._fpsDroppedMonitoringPeriod=void 0===e.fpsDroppedMonitoringPeriod?5e3:e.fpsDroppedMonitoringPeriod,this._fpsDroppedMonitoringThreshold=void 0===e.fpsDroppedMonitoringThreshold?.2:e.fpsDroppedMonitoringThreshold,this._capLevelonFPSDrop=void 0!==e.capLevelonFPSDrop&&e.capLevelonFPSDrop,this._smoothAutoSwitchonFPSDrop=void 0===e.smoothAutoSwitchonFPSDrop?this.capLevelonFPSDrop:e.smoothAutoSwitchonFPSDrop,this._switchDownOnLevelError=void 0===e.switchDownOnLevelError||e.switchDownOnLevelError,this._seekMode=void 0===e.seekMode?"ACCURATE":e.seekMode,this._keyLoadMaxRetry=void 0===e.keyLoadMaxRetry?3:e.keyLoadMaxRetry,this._keyLoadMaxRetryTimeout=void 0===e.keyLoadMaxRetryTimeout?64e3:e.keyLoadMaxRetryTimeout,this._fragmentLoadMaxRetry=void 0===e.fragmentLoadMaxRetry?3:e.fragmentLoadMaxRetry,this._fragmentLoadMaxRetryTimeout=void 0===e.fragmentLoadMaxRetryTimeout?4e3:e.fragmentLoadMaxRetryTimeout,this._fragmentLoadSkipAfterMaxRetry=void 0===e.fragmentLoadSkipAfterMaxRetry||e.fragmentLoadSkipAfterMaxRetry,this._maxSkippedFragments=void 0===e.maxSkippedFragments?5:e.maxSkippedFragments,this._flushLiveURLCache=void 0!==e.flushLiveURLCache&&e.flushLiveURLCache,this._initialLiveManifestSize=void 0===e.initialLiveManifestSize?1:e.initialLiveManifestSize,this._manifestLoadMaxRetry=void 0===e.manifestLoadMaxRetry?3:e.manifestLoadMaxRetry,this._manifestLoadMaxRetryTimeout=void 0===e.manifestLoadMaxRetryTimeout?64e3:e.manifestLoadMaxRetryTimeout,this._manifestRedundantLoadmaxRetry=void 0===e.manifestRedundantLoadmaxRetry?3:e.manifestRedundantLoadmaxRetry,this._startFromBitrate=void 0===e.startFromBitrate?-1:e.startFromBitrate,this._startFromLevel=void 0===e.startFromLevel?-1:e.startFromLevel,this._autoStartMaxDuration=void 0===e.autoStartMaxDuration?-1:e.autoStartMaxDuration,this._seekFromLevel=void 0===e.seekFromLevel?-1:e.seekFromLevel,this._useHardwareVideoDecoder=void 0!==e.useHardwareVideoDecoder&&e.useHardwareVideoDecoder,this._hlsLogEnabled=void 0===e.hlsLogEnabled||e.hlsLogEnabled,this._logDebug=void 0!==e.logDebug&&e.logDebug,this._logDebug2=void 0!==e.logDebug2&&e.logDebug2,this._logWarn=void 0===e.logWarn||e.logWarn,this._logError=void 0===e.logError||e.logError,this._hlsMinimumDvrSize=void 0===e.hlsMinimumDvrSize?60:e.hlsMinimumDvrSize},_.prototype._addListeners=function(){var r=this;d.default.on(this.cid+":flashready",function(){return r._bootstrap()}),d.default.on(this.cid+":timeupdate",function(e){return r._updateTime(e)}),d.default.on(this.cid+":playbackstate",function(e){return r._setPlaybackState(e)}),d.default.on(this.cid+":levelchanged",function(e){return r._levelChanged(e)}),d.default.on(this.cid+":error",function(e,t,n){return r._flashPlaybackError(e,t,n)}),d.default.on(this.cid+":fragmentloaded",function(e){return r._onFragmentLoaded(e)}),d.default.on(this.cid+":levelendlist",function(e){return r._onLevelEndlist(e)})},_.prototype.stopListening=function(){v.prototype.stopListening.call(this),d.default.off(this.cid+":flashready"),d.default.off(this.cid+":timeupdate"),d.default.off(this.cid+":playbackstate"),d.default.off(this.cid+":levelchanged"),d.default.off(this.cid+":playbackerror"),d.default.off(this.cid+":fragmentloaded"),d.default.off(this.cid+":manifestloaded"),d.default.off(this.cid+":levelendlist")},_.prototype._bootstrap=function(){var e=this;if(this.el.playerLoad)this.el.width="100%",this.el.height="100%",this._isReadyState=!0,this._srcLoaded=!1,this._currentState="IDLE",this._setFlashSettings(),this._updatePlaybackType(),(this._autoPlay||this._shouldPlayOnManifestLoaded)&&this.play(),this.trigger(l.default.PLAYBACK_READY,this.name);else if(this._bootstrapAttempts=this._bootstrapAttempts||0,++this._bootstrapAttempts<=60)setTimeout(function(){return e._bootstrap()},50);else{var t=this.createError({code:"playerLoadFail_maxNumberAttemptsReached",description:this.name+" error: Max number of attempts reached",level:h.default.Levels.FATAL,raw:{}});this.trigger(l.default.PLAYBACK_ERROR,t)}},_.prototype._setFlashSettings=function(){this.el.playerSetAutoStartLoad(this._autoStartLoad),this.el.playerSetCapLevelToStage(this._capLevelToStage),this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode),this.el.playerSetMinBufferLength(this._minBufferLength),this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping),this.el.playerSetMaxBufferLength(this._maxBufferLength),this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength),this.el.playerSetLowBufferLength(this._lowBufferLength),this.el.playerSetMediaTimePeriod(this._mediaTimePeriod),this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod),this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold),this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop),this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop),this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError),this.el.playerSetSeekMode(this._seekMode),this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry),this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout),this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry),this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout),this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry),this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments),this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache),this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize),this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry),this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout),this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry),this.el.playerSetStartFromBitrate(this._startFromBitrate),this.el.playerSetStartFromLevel(this._startFromLevel),this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration),this.el.playerSetSeekFromLevel(this._seekFromLevel),this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder),this.el.playerSetLogInfo(this._hlsLogEnabled),this.el.playerSetLogDebug(this._logDebug),this.el.playerSetLogDebug2(this._logDebug2),this.el.playerSetLogWarn(this._logWarn),this.el.playerSetLogError(this._logError)},_.prototype.setAutoStartLoad=function(e){this._autoStartLoad=e,this.el.playerSetAutoStartLoad(this._autoStartLoad)},_.prototype.setCapLevelToStage=function(e){this._capLevelToStage=e,this.el.playerSetCapLevelToStage(this._capLevelToStage)},_.prototype.setMaxLevelCappingMode=function(e){this._maxLevelCappingMode=e,this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode)},_.prototype.setSetMinBufferLength=function(e){this._minBufferLength=e,this.el.playerSetMinBufferLength(this._minBufferLength)},_.prototype.setMinBufferLengthCapping=function(e){this._minBufferLengthCapping=e,this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping)},_.prototype.setMaxBufferLength=function(e){this._maxBufferLength=e,this.el.playerSetMaxBufferLength(this._maxBufferLength)},_.prototype.setMaxBackBufferLength=function(e){this._maxBackBufferLength=e,this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength)},_.prototype.setLowBufferLength=function(e){this._lowBufferLength=e,this.el.playerSetLowBufferLength(this._lowBufferLength)},_.prototype.setMediaTimePeriod=function(e){this._mediaTimePeriod=e,this.el.playerSetMediaTimePeriod(this._mediaTimePeriod)},_.prototype.setFpsDroppedMonitoringPeriod=function(e){this._fpsDroppedMonitoringPeriod=e,this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod)},_.prototype.setFpsDroppedMonitoringThreshold=function(e){this._fpsDroppedMonitoringThreshold=e,this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold)},_.prototype.setCapLevelonFPSDrop=function(e){this._capLevelonFPSDrop=e,this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop)},_.prototype.setSmoothAutoSwitchonFPSDrop=function(e){this._smoothAutoSwitchonFPSDrop=e,this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop)},_.prototype.setSwitchDownOnLevelError=function(e){this._switchDownOnLevelError=e,this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError)},_.prototype.setSeekMode=function(e){this._seekMode=e,this.el.playerSetSeekMode(this._seekMode)},_.prototype.setKeyLoadMaxRetry=function(e){this._keyLoadMaxRetry=e,this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry)},_.prototype.setKeyLoadMaxRetryTimeout=function(e){this._keyLoadMaxRetryTimeout=e,this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout)},_.prototype.setFragmentLoadMaxRetry=function(e){this._fragmentLoadMaxRetry=e,this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry)},_.prototype.setFragmentLoadMaxRetryTimeout=function(e){this._fragmentLoadMaxRetryTimeout=e,this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout)},_.prototype.setFragmentLoadSkipAfterMaxRetry=function(e){this._fragmentLoadSkipAfterMaxRetry=e,this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry)},_.prototype.setMaxSkippedFragments=function(e){this._maxSkippedFragments=e,this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments)},_.prototype.setFlushLiveURLCache=function(e){this._flushLiveURLCache=e,this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache)},_.prototype.setInitialLiveManifestSize=function(e){this._initialLiveManifestSize=e,this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize)},_.prototype.setManifestLoadMaxRetry=function(e){this._manifestLoadMaxRetry=e,this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry)},_.prototype.setManifestLoadMaxRetryTimeout=function(e){this._manifestLoadMaxRetryTimeout=e,this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout)},_.prototype.setManifestRedundantLoadmaxRetry=function(e){this._manifestRedundantLoadmaxRetry=e,this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry)},_.prototype.setStartFromBitrate=function(e){this._startFromBitrate=e,this.el.playerSetStartFromBitrate(this._startFromBitrate)},_.prototype.setStartFromLevel=function(e){this._startFromLevel=e,this.el.playerSetStartFromLevel(this._startFromLevel)},_.prototype.setAutoStartMaxDuration=function(e){this._autoStartMaxDuration=e,this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration)},_.prototype.setSeekFromLevel=function(e){this._seekFromLevel=e,this.el.playerSetSeekFromLevel(this._seekFromLevel)},_.prototype.setUseHardwareVideoDecoder=function(e){this._useHardwareVideoDecoder=e,this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder)},_.prototype.setSetLogInfo=function(e){this._hlsLogEnabled=e,this.el.playerSetLogInfo(this._hlsLogEnabled)},_.prototype.setLogDebug=function(e){this._logDebug=e,this.el.playerSetLogDebug(this._logDebug)},_.prototype.setLogDebug2=function(e){this._logDebug2=e,this.el.playerSetLogDebug2(this._logDebug2)},_.prototype.setLogWarn=function(e){this._logWarn=e,this.el.playerSetLogWarn(this._logWarn)},_.prototype.setLogError=function(e){this._logError=e,this.el.playerSetLogError(this._logError)},_.prototype._levelChanged=function(e){var t=this.el.getLevels()[e];t&&(this.highDefinition=720<=t.height||2e3<=t.bitrate/1e3,this.trigger(l.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this._levels&&0!==this._levels.length||this._fillLevels(),this.trigger(l.default.PLAYBACK_BITRATE,{height:t.height,width:t.width,bandwidth:t.bitrate,bitrate:t.bitrate,level:e}),this.trigger(l.default.PLAYBACK_LEVEL_SWITCH_END))},_.prototype._updateTime=function(e){if("IDLE"!==this._currentState){var t=this._normalizeDuration(e.duration),n=Math.min(Math.max(e.position,0),t),r=this._dvrEnabled,o=this._playbackType===u.default.LIVE;this._dvrEnabled=o&&t>this._hlsMinimumDvrSize,100!==t&&(this._dvrEnabled!==r&&(this._updateSettings(),this.trigger(l.default.PLAYBACK_SETTINGSUPDATE,this.name)),o&&!this._dvrEnabled&&(n=t),this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:n,total:t},this.name))}},_.prototype.play=function(){this.trigger(l.default.PLAYBACK_PLAY_INTENT),"PAUSED"===this._currentState?this.el.playerResume():this._srcLoaded||"PLAYING"===this._currentState?this.el.playerPlay():this._firstPlay()},_.prototype.getPlaybackType=function(){return this._playbackType?this._playbackType:null},_.prototype.getCurrentTime=function(){return this.el.getPosition()},_.prototype.getCurrentLevelIndex=function(){return this._currentLevel},_.prototype.getCurrentLevel=function(){return this.levels[this.currentLevel]},_.prototype.getCurrentBitrate=function(){return this.levels[this.currentLevel].bitrate},_.prototype.setCurrentLevel=function(e){this.currentLevel=e},_.prototype.isHighDefinitionInUse=function(){return this.highDefinition},_.prototype.getLevels=function(){return this.levels},_.prototype._setPlaybackState=function(e){0<=["PLAYING_BUFFERING","PAUSED_BUFFERING"].indexOf(e)?(this._bufferingState=!0,this.trigger(l.default.PLAYBACK_BUFFERING,this.name),this._updateCurrentState(e)):0<=["PLAYING","PAUSED"].indexOf(e)?(0<=["PLAYING_BUFFERING","PAUSED_BUFFERING","IDLE"].indexOf(this._currentState)&&(this._bufferingState=!1,this.trigger(l.default.PLAYBACK_BUFFERFULL,this.name)),this._updateCurrentState(e)):"IDLE"===e&&(this._srcLoaded=!1,this._loop&&0<=["PLAYING_BUFFERING","PLAYING"].indexOf(this._currentState)?(this.play(),this.seek(0)):(this._updateCurrentState(e),this._hasEnded=!0,this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:0,total:this.getDuration()},this.name),this.trigger(l.default.PLAYBACK_ENDED,this.name)))},_.prototype._updateCurrentState=function(e){"IDLE"!==(this._currentState=e)&&(this._hasEnded=!1),this._updatePlaybackType(),"PLAYING"===e?this.trigger(l.default.PLAYBACK_PLAY,this.name):"PAUSED"===e&&this.trigger(l.default.PLAYBACK_PAUSE,this.name)},_.prototype._updatePlaybackType=function(){this._playbackType=this.el.getType(),this._playbackType&&(this._playbackType=this._playbackType.toLowerCase(),this._playbackType===u.default.VOD?this._startReportingProgress():this._stopReportingProgress()),this.trigger(l.default.PLAYBACK_PLAYBACKSTATE,{type:this._playbackType})},_.prototype._startReportingProgress=function(){this._reportingProgress||(this._reportingProgress=!0)},_.prototype._stopReportingProgress=function(){this._reportingProgress=!1},_.prototype._onFragmentLoaded=function(e){if(this.trigger(l.default.PLAYBACK_FRAGMENT_LOADED,e),this._reportingProgress&&this.getCurrentTime()){var t=this.getCurrentTime()+this.el.getbufferLength();this.trigger(l.default.PLAYBACK_PROGRESS,{start:this.getCurrentTime(),current:t,total:this.el.getDuration()})}},_.prototype._onLevelEndlist=function(){this._updatePlaybackType()},_.prototype._firstPlay=function(){var n=this;this._shouldPlayOnManifestLoaded=!0,this.el.playerLoad&&(d.default.once(this.cid+":manifestloaded",function(e,t){return n._manifestLoaded(e,t)}),this._setFlashSettings(),this.el.playerLoad(this._src),this._srcLoaded=!0)},_.prototype.volume=function(e){var t=this;this.isReady?this.el.playerVolume(e):this.listenToOnce(this,l.default.PLAYBACK_BUFFERFULL,function(){return t.volume(e)})},_.prototype.pause=function(){this._playbackType===u.default.LIVE&&!this._dvrEnabled||(this.el.playerPause(),this._playbackType===u.default.LIVE&&this._dvrEnabled&&this._updateDvr(!0))},_.prototype.stop=function(){this._srcLoaded=!1,this.el.playerStop(),this.trigger(l.default.PLAYBACK_STOP),this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},_.prototype.isPlaying=function(){return!!this._currentState&&!!this._currentState.match(/playing/i)},_.prototype.getDuration=function(){return this._normalizeDuration(this.el.getDuration())},_.prototype._normalizeDuration=function(e){return this._playbackType===u.default.LIVE&&(e=Math.max(0,e-10)),e},_.prototype.seekPercentage=function(e){var t=this.el.getDuration(),n=0;0<e&&(n=t*e/100),this.seek(n)},_.prototype.seek=function(e){var t=this.getDuration();if(this._playbackType===u.default.LIVE){var n=3<t-e;this._updateDvr(n)}this.el.playerSeek(e),this.trigger(l.default.PLAYBACK_TIMEUPDATE,{current:e,total:t},this.name)},_.prototype._updateDvr=function(e){var t=!!this._dvrInUse;this._dvrInUse=e,this._dvrInUse!==t&&(this._updateSettings(),this.trigger(l.default.PLAYBACK_DVR,this._dvrInUse),this.trigger(l.default.PLAYBACK_STATS_ADD,{dvr:this._dvrInUse}))},_.prototype._flashPlaybackError=function(e,t,n){var r={code:e,description:n,level:h.default.Levels.FATAL,raw:{code:e,url:t,message:n}},o=this.createError(r);this.trigger(l.default.PLAYBACK_ERROR,o),this.trigger(l.default.PLAYBACK_STOP)},_.prototype._manifestLoaded=function(e,t){this._shouldPlayOnManifestLoaded&&(this._shouldPlayOnManifestLoaded=!1,this.el.playerPlay()),this._fillLevels(),this.trigger(l.default.PLAYBACK_LOADEDMETADATA,{duration:e,data:t})},_.prototype._fillLevels=function(){var e=this.el.getLevels(),t=e.length;this._levels=[];for(var n=0;n<t;n++)this._levels.push({id:n,label:e[n].height+"p",level:e[n]});this.trigger(l.default.PLAYBACK_LEVELS_AVAILABLE,this._levels)},_.prototype.destroy=function(){this.stopListening(),this.$el.remove()},_.prototype._updateSettings=function(){this.settings=g.default.extend({},this._defaultSettings),this._playbackType===u.default.VOD||this._dvrInUse?(this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=!0):this._dvrEnabled?(this.settings.left=["playpause"],this.settings.seekEnabled=!0):this.settings.seekEnabled=!1},_.prototype._createCallbacks=function(){var n=this;window.Clappr||(window.Clappr={}),window.Clappr.flashlsCallbacks||(window.Clappr.flashlsCallbacks={}),this.flashlsEvents=new f.default(this.cid),window.Clappr.flashlsCallbacks[this.cid]=function(e,t){n.flashlsEvents[e].apply(n.flashlsEvents,t)}},_.prototype.render=function(){return v.prototype.render.call(this),this._createCallbacks(),this},(0,r.default)(_,[{key:"isReady",get:function(){return this._isReadyState}},{key:"dvrEnabled",get:function(){return!!this._dvrEnabled}}]),_);function _(){(0,o.default)(this,_);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,i.default)(this,v.call.apply(v,[this].concat(t)));return r._src=r.options.src,r._baseUrl=r.options.baseUrl,r._initHlsParameters(r.options),r.highDefinition=!1,r._autoPlay=r.options.autoPlay,r._loop=r.options.loop,r._defaultSettings={left:["playstop"],default:["seekbar"],right:["fullscreen","volume","hd-indicator"],seekEnabled:!1},r.settings=g.default.extend({},r._defaultSettings),r._playbackType=u.default.LIVE,r._hasEnded=!1,r._addListeners(),r}(t.default=b).canPlay=function(e,t){var n=e.split("?")[0].match(/.*\.(.*)$/)||[];return p.default.hasFlash&&(1<n.length&&"m3u8"===n[1].toLowerCase()||"application/x-mpegURL"===t||"application/vnd.apple.mpegurl"===t)},e.exports=t.default},"./src/playbacks/flashls/flashls_events.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=i(n("./src/components/mediator.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=(s.prototype.ready=function(){o.default.trigger(this.instanceId+":flashready")},s.prototype.videoSize=function(e,t){o.default.trigger(this.instanceId+":videosizechanged",e,t)},s.prototype.complete=function(){o.default.trigger(this.instanceId+":complete")},s.prototype.error=function(e,t,n){o.default.trigger(this.instanceId+":error",e,t,n)},s.prototype.manifest=function(e,t){o.default.trigger(this.instanceId+":manifestloaded",e,t)},s.prototype.audioLevelLoaded=function(e){o.default.trigger(this.instanceId+":audiolevelloaded",e)},s.prototype.levelLoaded=function(e){o.default.trigger(this.instanceId+":levelloaded",e)},s.prototype.levelEndlist=function(e){o.default.trigger(this.instanceId+":levelendlist",e)},s.prototype.fragmentLoaded=function(e){o.default.trigger(this.instanceId+":fragmentloaded",e)},s.prototype.fragmentPlaying=function(e){o.default.trigger(this.instanceId+":fragmentplaying",e)},s.prototype.position=function(e){o.default.trigger(this.instanceId+":timeupdate",e)},s.prototype.state=function(e){o.default.trigger(this.instanceId+":playbackstate",e)},s.prototype.seekState=function(e){o.default.trigger(this.instanceId+":seekstate",e)},s.prototype.switch=function(e){o.default.trigger(this.instanceId+":levelchanged",e)},s.prototype.audioTracksListChange=function(e){o.default.trigger(this.instanceId+":audiotracklistchanged",e)},s.prototype.audioTrackChange=function(e){o.default.trigger(this.instanceId+":audiotrackchanged",e)},s);function s(e){(0,r.default)(this,s),this.instanceId=e}t.default=a,e.exports=t.default},"./src/playbacks/flashls/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/flashls/flashls.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/flashls/public/HLSPlayer.swf":function(e,t){e.exports="<%=baseUrl%>/8fa12a459188502b9f0d39b8a67d9e6c.swf"},"./src/playbacks/hls/hls.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=m(n("./node_modules/babel-runtime/helpers/toConsumableArray.js")),i=m(n("./node_modules/babel-runtime/core-js/json/stringify.js")),a=m(n("./node_modules/babel-runtime/helpers/extends.js")),s=m(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),l=m(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),r=m(n("./node_modules/babel-runtime/helpers/createClass.js")),c=m(n("./node_modules/babel-runtime/helpers/inherits.js")),u=m(n("./src/playbacks/html5_video/index.js")),y=m(n("./node_modules/hls.js/dist/hls.js")),d=m(n("./src/base/events.js")),v=m(n("./src/base/playback.js")),p=n("./src/base/utils.js"),h=m(n("./src/plugins/log/index.js")),f=m(n("./src/components/error/index.js"));function m(e){return e&&e.__esModule?e:{default:e}}var g,b=(g=u.default,(0,c.default)(_,g),(0,r.default)(_,[{key:"name",get:function(){return"hls"}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(e){this._currentLevel=e,this.trigger(d.default.PLAYBACK_LEVEL_SWITCH_START),this.options.playback.hlsUseNextLevel?this._hls.nextLevel=this._currentLevel:this._hls.currentLevel=this._currentLevel}},{key:"isReady",get:function(){return this._isReadyState}},{key:"_startTime",get:function(){return this._playbackType===v.default.LIVE&&"EVENT"!==this._playlistType?this._extrapolatedStartTime:this._playableRegionStartTime}},{key:"_now",get:function(){return(0,p.now)()}},{key:"_extrapolatedStartTime",get:function(){if(!this._localStartTimeCorrelation)return this._playableRegionStartTime;var e=this._localStartTimeCorrelation,t=this._now-e.local,n=(e.remote+t)/1e3;return Math.min(n,this._playableRegionStartTime+this._extrapolatedWindowDuration)}},{key:"_extrapolatedEndTime",get:function(){var e=this._playableRegionStartTime+this._playableRegionDuration;if(!this._localEndTimeCorrelation)return e;var t=this._localEndTimeCorrelation,n=this._now-t.local,r=(t.remote+n)/1e3;return Math.max(e-this._extrapolatedWindowDuration,Math.min(r,e))}},{key:"_duration",get:function(){return this._extrapolatedEndTime-this._startTime}},{key:"_extrapolatedWindowDuration",get:function(){return null===this._segmentTargetDuration?0:this._extrapolatedWindowNumSegments*this._segmentTargetDuration}}],[{key:"HLSJS",get:function(){return y.default}}]),_.prototype._setup=function(){var n=this;this._ccIsSetup=!1,this._ccTracksUpdated=!1,this._hls=new y.default((0,p.assign)({},this.options.playback.hlsjsConfig)),this._hls.on(y.default.Events.MEDIA_ATTACHED,function(){return n._hls.loadSource(n.options.src)}),this._hls.on(y.default.Events.LEVEL_LOADED,function(e,t){return n._updatePlaybackType(e,t)}),this._hls.on(y.default.Events.LEVEL_UPDATED,function(e,t){return n._onLevelUpdated(e,t)}),this._hls.on(y.default.Events.LEVEL_SWITCHING,function(e,t){return n._onLevelSwitch(e,t)}),this._hls.on(y.default.Events.FRAG_LOADED,function(e,t){return n._onFragmentLoaded(e,t)}),this._hls.on(y.default.Events.ERROR,function(e,t){return n._onHLSJSError(e,t)}),this._hls.on(y.default.Events.SUBTITLE_TRACK_LOADED,function(e,t){return n._onSubtitleLoaded(e,t)}),this._hls.on(y.default.Events.SUBTITLE_TRACKS_UPDATED,function(){return n._ccTracksUpdated=!0}),this._hls.attachMedia(this.el)},_.prototype.render=function(){return this._ready(),g.prototype.render.call(this)},_.prototype._ready=function(){this._isReadyState=!0,this.trigger(d.default.PLAYBACK_READY,this.name)},_.prototype._recover=function(e,t,n){if(this._recoveredDecodingError)if(this._recoveredAudioCodecError){h.default.error("hlsjs: failed to recover",{evt:e,data:t}),n.level=f.default.Levels.FATAL;var r=this.createError(n);this.trigger(d.default.PLAYBACK_ERROR,r),this.stop()}else this._recoveredAudioCodecError=!0,this._hls.swapAudioCodec(),this._hls.recoverMediaError();else this._recoveredDecodingError=!0,this._hls.recoverMediaError()},_.prototype._setupSrc=function(e){},_.prototype._startTimeUpdateTimer=function(){var e=this;this._timeUpdateTimer||(this._timeUpdateTimer=setInterval(function(){e._onDurationChange(),e._onTimeUpdate()},100))},_.prototype._stopTimeUpdateTimer=function(){this._timeUpdateTimer&&(clearInterval(this._timeUpdateTimer),this._timeUpdateTimer=null)},_.prototype.getProgramDateTime=function(){return this._programDateTime},_.prototype.getDuration=function(){return this._duration},_.prototype.getCurrentTime=function(){return Math.max(0,this.el.currentTime-this._startTime)},_.prototype.getStartTimeOffset=function(){return this._startTime},_.prototype.seekPercentage=function(e){var t=this._duration;0<e&&(t=this._duration*(e/100)),this.seek(t)},_.prototype.seek=function(e){e<0&&(h.default.warn("Attempt to seek to a negative time. Resetting to live point. Use seekToLivePoint() to seek to the live point."),e=this.getDuration()),this.dvrEnabled&&this._updateDvr(e<this.getDuration()-3),e+=this._startTime,g.prototype.seek.call(this,e)},_.prototype.seekToLivePoint=function(){this.seek(this.getDuration())},_.prototype._updateDvr=function(e){this.trigger(d.default.PLAYBACK_DVR,e),this.trigger(d.default.PLAYBACK_STATS_ADD,{dvr:e})},_.prototype._updateSettings=function(){this._playbackType===v.default.VOD?this.settings.left=["playpause","position","duration"]:this.dvrEnabled?this.settings.left=["playpause"]:this.settings.left=["playstop"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(d.default.PLAYBACK_SETTINGSUPDATE)},_.prototype._onHLSJSError=function(e,t){var n={code:t.type+"_"+t.details,description:this.name+" error: type: "+t.type+", details: "+t.details,raw:t},r=void 0;if(t.response&&(n.description+=", response: "+(0,i.default)(t.response)),t.fatal)if(0<this._recoverAttemptsRemaining)switch(this._recoverAttemptsRemaining-=1,t.type){case y.default.ErrorTypes.NETWORK_ERROR:switch(t.details){case y.default.ErrorDetails.MANIFEST_LOAD_ERROR:case y.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT:case y.default.ErrorDetails.MANIFEST_PARSING_ERROR:case y.default.ErrorDetails.LEVEL_LOAD_ERROR:case y.default.ErrorDetails.LEVEL_LOAD_TIMEOUT:h.default.error("hlsjs: unrecoverable network fatal error.",{evt:e,data:t}),r=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,r),this.stop();break;default:h.default.warn("hlsjs: trying to recover from network error.",{evt:e,data:t}),n.level=f.default.Levels.WARN,this.createError(n),this._hls.startLoad()}break;case y.default.ErrorTypes.MEDIA_ERROR:h.default.warn("hlsjs: trying to recover from media error.",{evt:e,data:t}),n.level=f.default.Levels.WARN,this.createError(n),this._recover(e,t,n);break;default:h.default.error("hlsjs: could not recover from error.",{evt:e,data:t}),r=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,r),this.stop()}else h.default.error("hlsjs: could not recover from error after maximum number of attempts.",{evt:e,data:t}),r=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,r),this.stop();else{if(this.options.playback.triggerFatalErrorOnResourceDenied&&this._keyIsDenied(t))return h.default.error("hlsjs: could not load decrypt key.",{evt:e,data:t}),r=this.createError(n),this.trigger(d.default.PLAYBACK_ERROR,r),void this.stop();n.level=f.default.Levels.WARN,this.createError(n),h.default.warn("hlsjs: non-fatal error occurred",{evt:e,data:t})}},_.prototype._keyIsDenied=function(e){return e.type===y.default.ErrorTypes.NETWORK_ERROR&&e.details===y.default.ErrorDetails.KEY_LOAD_ERROR&&e.response&&400<=e.response.code},_.prototype._onTimeUpdate=function(){var e={current:this.getCurrentTime(),total:this.getDuration(),firstFragDateTime:this.getProgramDateTime()};this._lastTimeUpdate&&e.current===this._lastTimeUpdate.current&&e.total===this._lastTimeUpdate.total||(this._lastTimeUpdate=e,this.trigger(d.default.PLAYBACK_TIMEUPDATE,e,this.name))},_.prototype._onDurationChange=function(){var e=this.getDuration();this._lastDuration!==e&&(this._lastDuration=e,g.prototype._onDurationChange.call(this))},_.prototype._onProgress=function(){if(this.el.buffered.length){for(var e=[],t=0,n=0;n<this.el.buffered.length;n++)e=[].concat((0,o.default)(e),[{start:Math.max(0,this.el.buffered.start(n)-this._playableRegionStartTime),end:Math.max(0,this.el.buffered.end(n)-this._playableRegionStartTime)}]),this.el.currentTime>=e[n].start&&this.el.currentTime<=e[n].end&&(t=n);var r={start:e[t].start,current:e[t].end,total:this.getDuration()};this.trigger(d.default.PLAYBACK_PROGRESS,r,e)}},_.prototype.play=function(){this._hls||this._setup(),g.prototype.play.call(this),this._startTimeUpdateTimer()},_.prototype.pause=function(){this._hls&&(g.prototype.pause.call(this),this.dvrEnabled&&this._updateDvr(!0))},_.prototype.stop=function(){this._stopTimeUpdateTimer(),this._hls&&(g.prototype.stop.call(this),this._hls.destroy(),delete this._hls)},_.prototype.destroy=function(){this._stopTimeUpdateTimer(),this._hls&&(this._hls.destroy(),delete this._hls),g.prototype.destroy.call(this)},_.prototype._updatePlaybackType=function(e,t){this._playbackType=t.details.live?v.default.LIVE:v.default.VOD,this._onLevelUpdated(e,t),this._ccTracksUpdated&&this._playbackType===v.default.LIVE&&this.hasClosedCaptionsTracks&&this._onSubtitleLoaded()},_.prototype._fillLevels=function(){this._levels=this._hls.levels.map(function(e,t){return{id:t,level:e,label:e.bitrate/1e3+"Kbps"}}),this.trigger(d.default.PLAYBACK_LEVELS_AVAILABLE,this._levels)},_.prototype._onLevelUpdated=function(e,t){this._segmentTargetDuration=t.details.targetduration,this._playlistType=t.details.type||null;var n=!1,r=!1,o=t.details.fragments,i=this._playableRegionStartTime,a=this._playableRegionDuration;if(0!==o.length){if(o[0].rawProgramDateTime&&(this._programDateTime=o[0].rawProgramDateTime),this._playableRegionStartTime!==o[0].start&&(n=!0,this._playableRegionStartTime=o[0].start),n)if(this._localStartTimeCorrelation){var s=this._localStartTimeCorrelation,l=this._now-s.local,c=(s.remote+l)/1e3;c<o[0].start?this._localStartTimeCorrelation={local:this._now,remote:1e3*o[0].start}:c>i+this._extrapolatedWindowDuration&&(this._localStartTimeCorrelation={local:this._now,remote:1e3*Math.max(o[0].start,i+this._extrapolatedWindowDuration)})}else this._localStartTimeCorrelation={local:this._now,remote:1e3*(o[0].start+this._extrapolatedWindowDuration/2)};var u=t.details.totalduration;if(this._playbackType===v.default.LIVE){var d=t.details.targetduration*((this.options.playback.hlsjsConfig||{}).liveSyncDurationCount||y.default.DefaultConfig.liveSyncDurationCount);d<=u?(u-=d,this._durationExcludesAfterLiveSyncPoint=!0):this._durationExcludesAfterLiveSyncPoint=!1}u!==this._playableRegionDuration&&(r=!0,this._playableRegionDuration=u);var p=o[0].start+u,h=i+a;if(p!==h)if(this._localEndTimeCorrelation){var f=this._localEndTimeCorrelation,m=this._now-f.local,g=(f.remote+m)/1e3;p<g?this._localEndTimeCorrelation={local:this._now,remote:1e3*p}:g<p-this._extrapolatedWindowDuration?this._localEndTimeCorrelation={local:this._now,remote:1e3*(p-this._extrapolatedWindowDuration)}:h<g&&(this._localEndTimeCorrelation={local:this._now,remote:1e3*h})}else this._localEndTimeCorrelation={local:this._now,remote:1e3*p};r&&this._onDurationChange(),n&&this._onProgress()}},_.prototype._onFragmentLoaded=function(e,t){this.trigger(d.default.PLAYBACK_FRAGMENT_LOADED,t)},_.prototype._onSubtitleLoaded=function(){if(!this._ccIsSetup){this.trigger(d.default.PLAYBACK_SUBTITLE_AVAILABLE);var e=this._playbackType===v.default.LIVE?-1:this.closedCaptionsTrackId;this.closedCaptionsTrackId=e,this._ccIsSetup=!0}},_.prototype._onLevelSwitch=function(e,t){this.levels.length||this._fillLevels(),this.trigger(d.default.PLAYBACK_LEVEL_SWITCH_END),this.trigger(d.default.PLAYBACK_LEVEL_SWITCH,t);var n=this._hls.levels[t.level];n&&(this.highDefinition=720<=n.height||2e3<=n.bitrate/1e3,this.trigger(d.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this.trigger(d.default.PLAYBACK_BITRATE,{height:n.height,width:n.width,bandwidth:n.bitrate,bitrate:n.bitrate,level:t.level}))},_.prototype.getPlaybackType=function(){return this._playbackType},_.prototype.isSeekEnabled=function(){return this._playbackType===v.default.VOD||this.dvrEnabled},(0,r.default)(_,[{key:"dvrEnabled",get:function(){return this._durationExcludesAfterLiveSyncPoint&&this._duration>=this._minDvrSize&&this.getPlaybackType()===v.default.LIVE}}]),_);function _(){(0,s.default)(this,_);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,l.default)(this,g.call.apply(g,[this].concat(t)));return r.options.playback=(0,a.default)({},r.options,r.options.playback),r._minDvrSize=void 0===r.options.hlsMinimumDvrSize?60:r.options.hlsMinimumDvrSize,r._extrapolatedWindowNumSegments=r.options.playback&&void 0!==r.options.playback.extrapolatedWindowNumSegments?r.options.playback.extrapolatedWindowNumSegments:2,r._playbackType=v.default.VOD,r._lastTimeUpdate={current:0,total:0},r._lastDuration=null,r._playableRegionStartTime=0,r._localStartTimeCorrelation=null,r._localEndTimeCorrelation=null,r._playableRegionDuration=0,r._programDateTime=0,r._durationExcludesAfterLiveSyncPoint=!1,r._segmentTargetDuration=null,r._playlistType=null,r._recoverAttemptsRemaining=r.options.hlsRecoverAttempts||16,r}(t.default=b).canPlay=function(e,t){var n=e.split("?")[0].match(/.*\.(.*)$/)||[],r=1<n.length&&"m3u8"===n[1].toLowerCase()||(0,p.listContainsIgnoreCase)(t,["application/vnd.apple.mpegurl","application/x-mpegURL"]);return!(!y.default.isSupported()||!r)},e.exports=t.default},"./src/playbacks/hls/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/hls/hls.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/html5_audio/html5_audio.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=u(n("./node_modules/babel-runtime/helpers/createClass.js")),i=u(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=u(n("./node_modules/babel-runtime/helpers/inherits.js")),s=u(n("./src/base/events.js")),l=u(n("./src/base/playback.js")),c=u(n("./src/playbacks/html5_video/index.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d,p=(d=c.default,(0,a.default)(h,d),h.prototype.updateSettings=function(){this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(s.default.PLAYBACK_SETTINGSUPDATE)},h.prototype.getPlaybackType=function(){return l.default.AOD},(0,o.default)(h,[{key:"name",get:function(){return"html5_audio"}},{key:"tagName",get:function(){return"audio"}},{key:"isAudioOnly",get:function(){return!0}}]),h);function h(){return(0,r.default)(this,h),(0,i.default)(this,d.apply(this,arguments))}(t.default=p).canPlay=function(e,t){return c.default._canPlay("audio",{wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},e,t)},e.exports=t.default},"./src/playbacks/html5_audio/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/html5_audio/html5_audio.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/html5_video/html5_video.js":function(T,w,S){"use strict";(function(r){Object.defineProperty(w,"__esModule",{value:!0});var e=y(S("./node_modules/babel-runtime/core-js/array/from.js")),s=y(S("./node_modules/babel-runtime/helpers/classCallCheck.js")),l=y(S("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),t=y(S("./node_modules/babel-runtime/helpers/createClass.js")),n=y(S("./node_modules/babel-runtime/helpers/inherits.js")),o=y(S("./node_modules/babel-runtime/helpers/toConsumableArray.js")),i=y(S("./node_modules/babel-runtime/core-js/object/keys.js")),a=S("./src/base/utils.js"),c=y(S("./src/base/playback.js")),u=y(S("./src/components/browser/index.js")),d=y(S("./src/components/error/index.js")),p=y(S("./src/base/events.js")),h=y(S("./src/plugins/log/index.js")),f=y(S("./node_modules/clappr-zepto/zepto.js")),m=y(S("./src/base/template.js")),g=y(S("./src/playbacks/html5_video/public/tracks.html"));function y(e){return e&&e.__esModule?e:{default:e}}S("./src/playbacks/html5_video/public/style.scss");var v={mp4:["avc1.42E01E","avc1.58A01E","avc1.4D401E","avc1.64001E","mp4v.20.8","mp4v.20.240","mp4a.40.2"].map(function(e){return'video/mp4; codecs="'+e+', mp4a.40.2"'}),ogg:['video/ogg; codecs="theora, vorbis"','video/ogg; codecs="dirac"','video/ogg; codecs="theora, speex"'],"3gpp":['video/3gpp; codecs="mp4v.20.8, samr"'],webm:['video/webm; codecs="vp8, vorbis"'],mkv:['video/x-matroska; codecs="theora, vorbis"'],m3u8:["application/x-mpegurl"]};v.ogv=v.ogg,v["3gp"]=v["3gpp"];var b,_={wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},A=(0,i.default)(_).reduce(function(e,t){return[].concat((0,o.default)(e),(0,o.default)(_[t]))},[]),E={code:"unknown",message:"unknown"},k=(b=c.default,(0,n.default)(x,b),(0,t.default)(x,[{key:"name",get:function(){return"html5_video"}},{key:"tagName",get:function(){return this.isAudioOnly?"audio":"video"}},{key:"isAudioOnly",get:function(){var e=this.options.src,t=x._mimeTypesForUrl(e,_,this.options.mimeType);return this.options.playback&&this.options.playback.audioOnly||this.options.audioOnly||0<=A.indexOf(t[0])}},{key:"attributes",get:function(){return{"data-html5-video":""}}},{key:"events",get:function(){return{canplay:"_onCanPlay",canplaythrough:"_handleBufferingEvents",durationchange:"_onDurationChange",ended:"_onEnded",error:"_onError",loadeddata:"_onLoadedData",loadedmetadata:"_onLoadedMetadata",pause:"_onPause",playing:"_onPlaying",progress:"_onProgress",seeking:"_onSeeking",seeked:"_onSeeked",stalled:"_handleBufferingEvents",timeupdate:"_onTimeUpdate",waiting:"_onWaiting"}}},{key:"ended",get:function(){return this.el.ended}},{key:"buffering",get:function(){return this._isBuffering}}]),x.prototype.configure=function(e){b.prototype.configure.call(this,e),this.el.loop=!!e.loop},x.prototype.attemptAutoPlay=function(){var n=this;this.canAutoPlay(function(e,t){t&&h.default.warn(n.name,"autoplay error.",{result:e,error:t}),e&&r.nextTick(function(){return!n._destroyed&&n.play()})})},x.prototype.canAutoPlay=function(e){this.options.disableCanAutoPlay&&e(!0,null);var t={timeout:this.options.autoPlayTimeout||500,inline:this.options.playback.playInline||!1,muted:this.options.mute||!1};u.default.isMobile&&a.DomRecycler.options.recycleVideo&&(t.element=this.el),(0,a.canAutoPlayMedia)(e,t)},x.prototype._setupExternalTracks=function(e){this._externalTracks=e.map(function(e){return{kind:e.kind||"subtitles",label:e.label,lang:e.lang,src:e.src}})},x.prototype._setupSrc=function(e){this.el.src!==e&&(this._ccIsSetup=!1,this.el.src=e,this._src=this.el.src)},x.prototype._onLoadedMetadata=function(e){this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_LOADEDMETADATA,{duration:e.target.duration,data:e}),this._updateSettings();var t=void 0===this._options.autoSeekFromUrl||this._options.autoSeekFromUrl;this.getPlaybackType()!==c.default.LIVE&&t&&this._checkInitialSeek()},x.prototype._onDurationChange=function(){this._updateSettings(),this._onTimeUpdate(),this._onProgress()},x.prototype._updateSettings=function(){this.getPlaybackType()===c.default.VOD||this.getPlaybackType()===c.default.AOD?this.settings.left=["playpause","position","duration"]:this.settings.left=["playstop"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(p.default.PLAYBACK_SETTINGSUPDATE)},x.prototype.isSeekEnabled=function(){return isFinite(this.getDuration())},x.prototype.getPlaybackType=function(){var e="audio"===this.tagName?c.default.AOD:c.default.VOD;return 0<=[0,void 0,1/0].indexOf(this.el.duration)?c.default.LIVE:e},x.prototype.isHighDefinitionInUse=function(){return!1},x.prototype.consent=function(){this.isPlaying()||(b.prototype.consent.call(this),this.el.load())},x.prototype.play=function(){this.trigger(p.default.PLAYBACK_PLAY_INTENT),this._stopped=!1,this._setupSrc(this._src),this._handleBufferingEvents();var e=this.el.play();e&&e.catch&&e.catch(function(){})},x.prototype.pause=function(){this.el.pause()},x.prototype.stop=function(){this.pause(),this._stopped=!0,this.el.removeAttribute("src"),this.el.load(),this._stopPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_STOP)},x.prototype.volume=function(e){0===e?(this.$el.attr({muted:"true"}),this.el.muted=!0):(this.$el.attr({muted:null}),this.el.muted=!1,this.el.volume=e/100)},x.prototype.mute=function(){this.el.muted=!0},x.prototype.unmute=function(){this.el.muted=!1},x.prototype.isMuted=function(){return!0===this.el.muted||0===this.el.volume},x.prototype.isPlaying=function(){return!this.el.paused&&!this.el.ended},x.prototype._startPlayheadMovingChecks=function(){null===this._playheadMovingTimer&&(this._playheadMovingTimeOnCheck=null,this._determineIfPlayheadMoving(),this._playheadMovingTimer=setInterval(this._determineIfPlayheadMoving.bind(this),500))},x.prototype._stopPlayheadMovingChecks=function(){null!==this._playheadMovingTimer&&(clearInterval(this._playheadMovingTimer),this._playheadMovingTimer=null,this._playheadMoving=!1)},x.prototype._determineIfPlayheadMoving=function(){var e=this._playheadMovingTimeOnCheck,t=this.el.currentTime;this._playheadMoving=e!==t,this._playheadMovingTimeOnCheck=t,this._handleBufferingEvents()},x.prototype._onWaiting=function(){this._loadStarted=!0,this._handleBufferingEvents()},x.prototype._onLoadedData=function(){this._loadStarted=!0,this._handleBufferingEvents()},x.prototype._onCanPlay=function(){this._handleBufferingEvents()},x.prototype._onPlaying=function(){this._checkForClosedCaptions(),this._startPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_PLAY)},x.prototype._onPause=function(){this._stopPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_PAUSE)},x.prototype._onSeeking=function(){this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_SEEK)},x.prototype._onSeeked=function(){this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_SEEKED)},x.prototype._onEnded=function(){this._handleBufferingEvents(),this.trigger(p.default.PLAYBACK_ENDED,this.name)},x.prototype._handleBufferingEvents=function(){var e=!this.el.ended&&!this.el.paused,t=this._loadStarted&&!this.el.ended&&!this._stopped&&(e&&!this._playheadMoving||this.el.readyState<this.el.HAVE_FUTURE_DATA);this._isBuffering!==t&&((this._isBuffering=t)?this.trigger(p.default.PLAYBACK_BUFFERING,this.name):this.trigger(p.default.PLAYBACK_BUFFERFULL,this.name))},x.prototype._onError=function(){var e=this.el.error||E,t=e.code,n=e.message,r=t===E.code,o=this.createError({code:t,description:n,raw:this.el.error,level:r?d.default.Levels.WARN:d.default.Levels.FATAL});r?h.default.warn(this.name,"HTML5 unknown error: ",o):this.trigger(p.default.PLAYBACK_ERROR,o)},x.prototype.destroy=function(){this._destroyed=!0,this.handleTextTrackChange&&this.el.textTracks.removeEventListener("change",this.handleTextTrackChange),b.prototype.destroy.call(this),this.el.removeAttribute("src"),this.el.load(),this._src=null,a.DomRecycler.garbage(this.$el)},x.prototype.seek=function(e){this.el.currentTime=e},x.prototype.seekPercentage=function(e){var t=this.el.duration*(e/100);this.seek(t)},x.prototype._checkInitialSeek=function(){var e=(0,a.seekStringToSeconds)();0!==e&&this.seek(e)},x.prototype.getCurrentTime=function(){return this.el.currentTime},x.prototype.getDuration=function(){return this.el.duration},x.prototype._onTimeUpdate=function(){this.getPlaybackType()===c.default.LIVE?this.trigger(p.default.PLAYBACK_TIMEUPDATE,{current:1,total:1},this.name):this.trigger(p.default.PLAYBACK_TIMEUPDATE,{current:this.el.currentTime,total:this.el.duration},this.name)},x.prototype._onProgress=function(){if(this.el.buffered.length){for(var e=[],t=0,n=0;n<this.el.buffered.length;n++)e=[].concat((0,o.default)(e),[{start:this.el.buffered.start(n),end:this.el.buffered.end(n)}]),this.el.currentTime>=e[n].start&&this.el.currentTime<=e[n].end&&(t=n);var r={start:e[t].start,current:e[t].end,total:this.el.duration};this.trigger(p.default.PLAYBACK_PROGRESS,r,e)}},x.prototype._typeFor=function(e){var t=x._mimeTypesForUrl(e,v,this.options.mimeType);return 0===t.length&&(t=x._mimeTypesForUrl(e,_,this.options.mimeType)),(t[0]||"").split(";")[0]},x.prototype._ready=function(){this._isReadyState||(this._isReadyState=!0,this.trigger(p.default.PLAYBACK_READY,this.name))},x.prototype._checkForClosedCaptions=function(){if(this.isHTML5Video&&!this._ccIsSetup){if(this.hasClosedCaptionsTracks){this.trigger(p.default.PLAYBACK_SUBTITLE_AVAILABLE);var e=this.closedCaptionsTrackId;this.closedCaptionsTrackId=e,this.handleTextTrackChange=this._handleTextTrackChange.bind(this),this.el.textTracks.addEventListener("change",this.handleTextTrackChange)}this._ccIsSetup=!0}},x.prototype._handleTextTrackChange=function(){var e=this.closedCaptionsTracks.find(function(e){return"showing"===e.track.mode})||{id:-1};this._ccTrackId!==e.id&&(this._ccTrackId=e.id,this.trigger(p.default.PLAYBACK_SUBTITLE_CHANGED,{id:e.id}))},x.prototype.render=function(){return this.options.playback.disableContextMenu&&this.$el.on("contextmenu",function(){return!1}),this._externalTracks&&0<this._externalTracks.length&&this.$el.html(this.template({tracks:this._externalTracks})),this._ready(),this},(0,t.default)(x,[{key:"isReady",get:function(){return this._isReadyState}},{key:"isHTML5Video",get:function(){return this.name===x.prototype.name}},{key:"closedCaptionsTracks",get:function(){var t=0;return(this.el.textTracks?(0,e.default)(this.el.textTracks):[]).filter(function(e){return"subtitles"===e.kind||"captions"===e.kind}).map(function(e){return{id:t++,name:e.label,track:e}})}},{key:"closedCaptionsTrackId",get:function(){return this._ccTrackId},set:function(t){if((0,a.isNumber)(t)){var e=this.closedCaptionsTracks,n=void 0;if(-1!==t){if(!(n=e.find(function(e){return e.id===t})))return;if("showing"===n.track.mode)return}e.filter(function(e){return"hidden"!==e.track.mode}).forEach(function(e){return e.track.mode="hidden"}),n&&(n.track.mode="showing"),this._ccTrackId=t,this.trigger(p.default.PLAYBACK_SUBTITLE_CHANGED,{id:t})}}},{key:"template",get:function(){return(0,m.default)(g.default)}}]),x);function x(){(0,s.default)(this,x);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,l.default)(this,b.call.apply(b,[this].concat(t)));r._destroyed=!1,r._loadStarted=!1,r._isBuffering=!1,r._playheadMoving=!1,r._playheadMovingTimer=null,r._stopped=!1,r._ccTrackId=-1,r._setupSrc(r.options.src),r.options.playback||(r.options.playback=r.options||{}),r.options.playback.disableContextMenu=r.options.playback.disableContextMenu||r.options.disableVideoTagContextMenu;var o=r.options.playback,i=o.preload||(u.default.isSafari?"auto":r.options.preload),a=void 0;return r.options.poster&&("string"==typeof r.options.poster?a=r.options.poster:"string"==typeof r.options.poster.url&&(a=r.options.poster.url)),f.default.extend(r.el,{muted:r.options.mute,defaultMuted:r.options.mute,loop:r.options.loop,poster:a,preload:i||"metadata",controls:(o.controls||r.options.useVideoTagDefaultControls)&&"controls",crossOrigin:o.crossOrigin,"x-webkit-playsinline":o.playInline}),o.playInline&&r.$el.attr({playsinline:"playsinline"}),o.crossOrigin&&r.$el.attr({crossorigin:o.crossOrigin}),r.settings={default:["seekbar"]},r.settings.left=["playpause","position","duration"],r.settings.right=["fullscreen","volume","hd-indicator"],o.externalTracks&&r._setupExternalTracks(o.externalTracks),r.options.autoPlay&&r.attemptAutoPlay(),r}(w.default=k)._mimeTypesForUrl=function(e,t,n){var r=(e.split("?")[0].match(/.*\.(.*)$/)||[])[1],o=n||r&&t[r.toLowerCase()]||[];return o.constructor===Array?o:[o]},k._canPlay=function(e,t,n,r){var o=k._mimeTypesForUrl(n,t,r),i=document.createElement(e);return!!o.filter(function(e){return!!i.canPlayType(e).replace(/no/,"")})[0]},k.canPlay=function(e,t){return k._canPlay("audio",_,e,t)||k._canPlay("video",v,e,t)},T.exports=w.default}).call(this,S("./node_modules/process/browser.js"))},"./src/playbacks/html5_video/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/html5_video/html5_video.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/html5_video/public/style.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/html5_video/public/style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/playbacks/html5_video/public/tracks.html":function(e,t){e.exports='<% for (var i = 0; i < tracks.length; i++) { %>\n  <track data-html5-video-track="<%= i %>" kind="<%= tracks[i].kind %>" label="<%= tracks[i].label %>" srclang="<%= tracks[i].lang %>" src="<%= tracks[i].src %>" />\n<% }; %>\n'},"./src/playbacks/html_img/html_img.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=c(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=c(n("./node_modules/babel-runtime/helpers/createClass.js")),a=c(n("./node_modules/babel-runtime/helpers/inherits.js")),s=c(n("./src/base/playback.js")),l=c(n("./src/base/events.js"));function c(e){return e&&e.__esModule?e:{default:e}}n("./src/playbacks/html_img/public/style.scss");var u,d=(u=s.default,(0,a.default)(p,u),p.prototype.getPlaybackType=function(){return s.default.NO_OP},(0,i.default)(p,[{key:"name",get:function(){return"html_img"}},{key:"tagName",get:function(){return"img"}},{key:"attributes",get:function(){return{"data-html-img":""}}},{key:"events",get:function(){return{load:"_onLoad",abort:"_onError",error:"_onError"}}}]),p.prototype.render=function(){return this.trigger(l.default.PLAYBACK_READY,this.name),this},p.prototype._onLoad=function(){this.trigger(l.default.PLAYBACK_ENDED,this.name)},p.prototype._onError=function(e){var t="error"===e.type?"load error":"loading aborted";this.trigger(l.default.PLAYBACK_ERROR,{message:t},this.name)},p);function p(e){(0,r.default)(this,p);var t=(0,o.default)(this,u.call(this,e));return t.el.src=e.src,t}(t.default=d).canPlay=function(e){return/\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\?.*)$/i.test(e)},e.exports=t.default},"./src/playbacks/html_img/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/html_img/html_img.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/html_img/public/style.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/html_img/public/style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/playbacks/no_op/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/playbacks/no_op/no_op.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/playbacks/no_op/no_op.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),i=p(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),r=p(n("./node_modules/babel-runtime/helpers/createClass.js")),a=p(n("./node_modules/babel-runtime/helpers/inherits.js")),s=n("./src/base/utils.js"),l=p(n("./src/base/playback.js")),c=p(n("./src/base/template.js")),u=p(n("./src/base/events.js")),d=p(n("./src/playbacks/no_op/public/error.html"));function p(e){return e&&e.__esModule?e:{default:e}}n("./src/playbacks/no_op/public/style.scss");var h,f=(h=l.default,(0,a.default)(m,h),(0,r.default)(m,[{key:"name",get:function(){return"no_op"}},{key:"template",get:function(){return(0,c.default)(d.default)}},{key:"attributes",get:function(){return{"data-no-op":""}}}]),m.prototype.render=function(){var e=this.options.playbackNotSupportedMessage||this.i18n.t("playback_not_supported");this.$el.html(this.template({message:e})),this.trigger(u.default.PLAYBACK_READY,this.name);var t=!(!this.options.poster||!this.options.poster.showForNoOp);return!this.options.autoPlay&&t||this._animate(),this},m.prototype._noise=function(){if(this._noiseFrameNum=(this._noiseFrameNum+1)%5,!this._noiseFrameNum){var t=this.context.createImageData(this.context.canvas.width,this.context.canvas.height),n=void 0;try{n=new Uint32Array(t.data.buffer)}catch(e){n=new Uint32Array(this.context.canvas.width*this.context.canvas.height*4);for(var r=t.data,o=0;o<r.length;o++)n[o]=r[o]}for(var e=n.length,i=6*Math.random()+4,a=0,s=0,l=0;l<e;)a<0&&(a=i*Math.random(),s=255*Math.pow(Math.random(),.4)<<24),a-=1,n[l++]=s;this.context.putImageData(t,0,0)}},m.prototype._loop=function(){var e=this;this._stop||(this._noise(),this._animationHandle=(0,s.requestAnimationFrame)(function(){return e._loop()}))},m.prototype.destroy=function(){this._animationHandle&&((0,s.cancelAnimationFrame)(this._animationHandle),this._stop=!0)},m.prototype._animate=function(){this.canvas=this.$el.find("canvas[data-no-op-canvas]")[0],this.context=this.canvas.getContext("2d"),this._loop()},m);function m(){(0,o.default)(this,m);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=(0,i.default)(this,h.call.apply(h,[this].concat(t)));return r._noiseFrameNum=-1,r}(t.default=f).canPlay=function(e){return!0},e.exports=t.default},"./src/playbacks/no_op/public/error.html":function(e,t){e.exports="<canvas data-no-op-canvas></canvas>\n<p data-no-op-msg><%=message%><p>\n"},"./src/playbacks/no_op/public/style.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/playbacks/no_op/public/style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/click_to_pause/click_to_pause.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=u(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=u(n("./node_modules/babel-runtime/helpers/createClass.js")),a=u(n("./node_modules/babel-runtime/helpers/inherits.js")),s=u(n("./src/base/container_plugin.js")),l=u(n("./src/base/events.js")),c=u(n("./src/base/playback.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d,p=(d=s.default,(0,a.default)(h,d),(0,i.default)(h,[{key:"name",get:function(){return"click_to_pause"}}]),h.prototype.bindEvents=function(){this.listenTo(this.container,l.default.CONTAINER_CLICK,this.click),this.listenTo(this.container,l.default.CONTAINER_SETTINGSUPDATE,this.settingsUpdate)},h.prototype.click=function(){this.container.getPlaybackType()===c.default.LIVE&&!this.container.isDvrEnabled()||(this.container.isPlaying()?this.container.pause():this.container.play())},h.prototype.settingsUpdate=function(){var e=this.container.getPlaybackType()!==c.default.LIVE||this.container.isDvrEnabled();if(e!==this.pointerEnabled){var t=e?"addClass":"removeClass";this.container.$el[t]("pointer-enabled"),this.pointerEnabled=e}},h);function h(e){return(0,r.default)(this,h),(0,o.default)(this,d.call(this,e))}t.default=p,e.exports=t.default},"./src/plugins/click_to_pause/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/click_to_pause/click_to_pause.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/closed_captions/closed_captions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=p(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=p(n("./node_modules/babel-runtime/helpers/createClass.js")),a=p(n("./node_modules/babel-runtime/helpers/inherits.js")),s=p(n("./src/base/ui_core_plugin.js")),l=p(n("./src/base/template.js")),c=p(n("./src/base/events.js")),u=n("./src/base/utils.js"),d=p(n("./src/plugins/closed_captions/public/closed_captions.html"));function p(e){return e&&e.__esModule?e:{default:e}}n("./src/plugins/closed_captions/public/closed_captions.scss");var h,f=(h=s.default,(0,a.default)(m,h),(0,i.default)(m,[{key:"name",get:function(){return"closed_captions"}},{key:"template",get:function(){return(0,l.default)(d.default)}},{key:"events",get:function(){return{"click [data-cc-button]":"toggleContextMenu","click [data-cc-select]":"onTrackSelect"}}},{key:"attributes",get:function(){return{class:"cc-controls","data-cc-controls":""}}}]),m.prototype.bindEvents=function(){this.listenTo(this.core,c.default.CORE_ACTIVE_CONTAINER_CHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,c.default.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.core.mediaControl,c.default.MEDIACONTROL_HIDE,this.hideContextMenu),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,c.default.CONTAINER_SUBTITLE_AVAILABLE,this.onSubtitleAvailable),this.listenTo(this.container,c.default.CONTAINER_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,c.default.CONTAINER_STOP,this.onContainerStop))},m.prototype.onContainerStop=function(){this.ccAvailable(!1)},m.prototype.containerChanged=function(){this.ccAvailable(!1),this.stopListening(),this.bindEvents()},m.prototype.onSubtitleAvailable=function(){this.renderCcButton(),this.ccAvailable(!0)},m.prototype.onSubtitleChanged=function(e){this.setCurrentContextMenuElement(e.id)},m.prototype.onTrackSelect=function(e){var t=parseInt(e.target.dataset.ccSelect,10);return this.container.closedCaptionsTrackId=t,this.hideContextMenu(),e.stopPropagation(),!1},m.prototype.ccAvailable=function(e){var t=e?"addClass":"removeClass";this.$el[t]("available")},m.prototype.toggleContextMenu=function(){this.$el.find("ul").toggle()},m.prototype.hideContextMenu=function(){this.$el.find("ul").hide()},m.prototype.contextMenuElement=function(e){return this.$el.find("ul a"+(isNaN(e)?"":'[data-cc-select="'+e+'"]')).parent()},m.prototype.setCurrentContextMenuElement=function(e){if(this._trackId!==e){this.contextMenuElement().removeClass("current"),this.contextMenuElement(e).addClass("current");var t=-1<e?"addClass":"removeClass";this.$ccButton[t]("enabled"),this._trackId=e}},m.prototype.renderCcButton=function(){for(var e=this.container?this.container.closedCaptionsTracks:[],t=0;t<e.length;t++)e[t].label=this._labelCb(e[t]);this.$el.html(this.template({ariaLabel:this._ariaLabel,disabledLabel:this.core.i18n.t("disabled"),title:this._title,tracks:e})),this.$ccButton=this.$el.find("button.cc-button[data-cc-button]"),this.$ccButton.append(u.SvgIcons.cc),this.$el.append(this.style)},m.prototype.render=function(){this.renderCcButton();var e=this.core.mediaControl.$el.find("button[data-fullscreen]");return e[0]?this.$el.insertAfter(e):this.core.mediaControl.$el.find(".media-control-right-panel[data-media-control]").prepend(this.$el),this},m);function m(e){(0,r.default)(this,m);var t=(0,o.default)(this,h.call(this,e)),n=e.options.closedCaptionsConfig;return t._title=n&&n.title?n.title:null,t._ariaLabel=n&&n.ariaLabel?n.ariaLabel:"cc-button",t._labelCb=n&&n.labelCallback&&"function"==typeof n.labelCallback?n.labelCallback:function(e){return e.name},t}t.default=f,e.exports=t.default},"./src/plugins/closed_captions/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/closed_captions/closed_captions.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/closed_captions/public/closed_captions.html":function(e,t){e.exports='<button type="button" class="cc-button media-control-button media-control-icon" data-cc-button aria-label="<%= ariaLabel %>"></button>\n<ul>\n  <% if (title) { %>\n  <li data-title><%= title %></li>\n  <% }; %>\n  <li><a href="#" data-cc-select="-1"><%= disabledLabel %></a></li>\n  <% for (var i = 0; i < tracks.length; i++) { %>\n    <li><a href="#" data-cc-select="<%= tracks[i].id %>"><%= tracks[i].label %></a></li>\n  <% }; %>\n</ul>\n'},"./src/plugins/closed_captions/public/closed_captions.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/closed_captions/public/closed_captions.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/dvr_controls/dvr_controls.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=p(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=p(n("./node_modules/babel-runtime/helpers/createClass.js")),a=p(n("./node_modules/babel-runtime/helpers/inherits.js")),s=p(n("./src/base/ui_core_plugin.js")),l=p(n("./src/base/template.js")),c=p(n("./src/base/playback.js")),u=p(n("./src/base/events.js")),d=p(n("./src/plugins/dvr_controls/public/index.html"));function p(e){return e&&e.__esModule?e:{default:e}}n("./src/plugins/dvr_controls/public/dvr_controls.scss");var h,f=(h=s.default,(0,a.default)(m,h),(0,i.default)(m,[{key:"template",get:function(){return(0,l.default)(d.default)}},{key:"name",get:function(){return"dvr_controls"}},{key:"events",get:function(){return{"click .live-button":"click"}}},{key:"attributes",get:function(){return{class:"dvr-controls","data-dvr-controls":""}}}]),m.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,u.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,u.default.MEDIACONTROL_RENDERED,this.settingsUpdate),this.listenTo(this.core,u.default.CORE_OPTIONS_CHANGE,this.render),this.core.getCurrentContainer()&&(this.listenToOnce(this.core.getCurrentContainer(),u.default.CONTAINER_TIMEUPDATE,this.render),this.listenTo(this.core.getCurrentContainer(),u.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.dvrChanged))},m.prototype.containerChanged=function(){this.stopListening(),this.bindEvents()},m.prototype.dvrChanged=function(e){this.core.getPlaybackType()===c.default.LIVE&&(this.settingsUpdate(),this.core.mediaControl.$el.addClass("live"),e?(this.core.mediaControl.$el.addClass("dvr"),this.core.mediaControl.$el.find(".media-control-indicator[data-position], .media-control-indicator[data-duration]").hide()):this.core.mediaControl.$el.removeClass("dvr"))},m.prototype.click=function(){var e=this.core.mediaControl,t=e.container;t.isPlaying()||t.play(),e.$el.hasClass("dvr")&&t.seek(t.getDuration())},m.prototype.settingsUpdate=function(){var e=this;this.stopListening(),this.core.mediaControl.$el.removeClass("live"),this.shouldRender()&&(this.render(),this.$el.click(function(){return e.click()})),this.bindEvents()},m.prototype.shouldRender=function(){return(void 0===this.core.options.useDvrControls||!!this.core.options.useDvrControls)&&this.core.getPlaybackType()===c.default.LIVE},m.prototype.render=function(){return this.$el.html(this.template({live:this.core.i18n.t("live"),backToLive:this.core.i18n.t("back_to_live")})),this.shouldRender()&&(this.core.mediaControl.$el.addClass("live"),this.core.mediaControl.$(".media-control-left-panel[data-media-control]").append(this.$el)),this},m);function m(e){(0,r.default)(this,m);var t=(0,o.default)(this,h.call(this,e));return t.settingsUpdate(),t}t.default=f,e.exports=t.default},"./src/plugins/dvr_controls/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/dvr_controls/dvr_controls.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/dvr_controls/public/dvr_controls.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/dvr_controls/public/dvr_controls.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/dvr_controls/public/index.html":function(e,t){e.exports='<div class="live-info"><%= live %></div>\n<button type="button" class="live-button" aria-label="<%= backToLive %>"><%= backToLive %></button>\n'},"./src/plugins/end_video.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=c(n("./node_modules/babel-runtime/helpers/createClass.js")),i=c(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=c(n("./node_modules/babel-runtime/helpers/inherits.js")),s=c(n("./src/base/events.js")),l=c(n("./src/base/core_plugin.js"));function c(e){return e&&e.__esModule?e:{default:e}}var u,d=(u=l.default,(0,a.default)(p,u),p.prototype.bindEvents=function(){this.listenTo(this.core,s.default.CORE_ACTIVE_CONTAINER_CHANGED,this.containerChanged);var e=this.core.activeContainer;e&&(this.listenTo(e,s.default.CONTAINER_ENDED,this.ended),this.listenTo(e,s.default.CONTAINER_STOP,this.ended))},p.prototype.containerChanged=function(){this.stopListening(),this.bindEvents()},p.prototype.ended=function(){(void 0===this.core.options.exitFullscreenOnEnd||this.core.options.exitFullscreenOnEnd)&&this.core.isFullscreen()&&this.core.toggleFullscreen()},(0,o.default)(p,[{key:"name",get:function(){return"end_video"}}]),p);function p(){return(0,r.default)(this,p),(0,i.default)(this,u.apply(this,arguments))}t.default=d,e.exports=t.default},"./src/plugins/error_screen/error_screen.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=h(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=h(n("./node_modules/babel-runtime/helpers/createClass.js")),a=h(n("./node_modules/babel-runtime/helpers/inherits.js")),s=h(n("./src/base/events.js")),l=h(n("./src/base/ui_core_plugin.js")),c=h(n("./src/base/template.js")),u=h(n("./src/components/error/index.js")),d=n("./src/base/utils.js"),p=h(n("./src/plugins/error_screen/public/error_screen.html"));function h(e){return e&&e.__esModule?e:{default:e}}n("./src/plugins/error_screen/public/error_screen.scss");var f,m=(f=l.default,(0,a.default)(g,f),(0,i.default)(g,[{key:"name",get:function(){return"error_screen"}},{key:"template",get:function(){return(0,c.default)(p.default)}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"attributes",get:function(){return{class:"player-error-screen","data-error-screen":""}}}]),g.prototype.bindEvents=function(){this.listenTo(this.core,s.default.ERROR,this.onError),this.listenTo(this.core,s.default.CORE_ACTIVE_CONTAINER_CHANGED,this.onContainerChanged)},g.prototype.bindReload=function(){this.reloadButton=this.$el.find(".player-error-screen__reload"),this.reloadButton&&this.reloadButton.on("click",this.reload.bind(this))},g.prototype.reload=function(){var e=this;this.listenToOnce(this.core,s.default.CORE_READY,function(){return e.container.play()}),this.core.load(this.options.sources,this.options.mimeType),this.unbindReload()},g.prototype.unbindReload=function(){this.reloadButton&&this.reloadButton.off("click")},g.prototype.onContainerChanged=function(){this.err=null,this.unbindReload(),this.hide()},g.prototype.onError=function(e){var t=0<arguments.length&&void 0!==e?e:{};t.level===u.default.Levels.FATAL&&(this.err=t,this.container.disableMediaControl(),this.container.stop(),this.show())},g.prototype.show=function(){this.render(),this.$el.show()},g.prototype.hide=function(){this.$el.hide()},g.prototype.render=function(){if(this.err)return this.$el.html(this.template({title:this.err.UI.title,message:this.err.UI.message,code:this.err.code,icon:this.err.UI.icon||"",reloadIcon:d.SvgIcons.reload})),this.core.$el.append(this.el),this.bindReload(),this},g);function g(e){var t;(0,r.default)(this,g);var n=(0,o.default)(this,f.call(this,e));return n.options.disableErrorScreen?(t=n.disable(),(0,o.default)(n,t)):n}t.default=m,e.exports=t.default},"./src/plugins/error_screen/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/error_screen/error_screen.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/error_screen/public/error_screen.html":function(e,t){e.exports='<div class="player-error-screen__content" data-error-screen>\n  <% if (icon) { %>\n  <div class="player-error-screen__icon" data-error-screen><%= icon %></div>\n  <% } %>\n  <div class="player-error-screen__title" data-error-screen><%= title %></div>\n  <div class="player-error-screen__message" data-error-screen><%= message %></div>\n  <div class="player-error-screen__code" data-error-screen>Error code: <%= code %></div>\n  <div class="player-error-screen__reload" data-error-screen><%= reloadIcon %></div>\n</div>\n'},"./src/plugins/error_screen/public/error_screen.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/error_screen/public/error_screen.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/favicon/favicon.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=d(n("./node_modules/babel-runtime/helpers/createClass.js")),a=d(n("./node_modules/babel-runtime/helpers/inherits.js")),s=d(n("./src/base/core_plugin.js")),l=d(n("./src/base/events.js")),c=d(n("./node_modules/clappr-zepto/zepto.js")),u=n("./src/base/utils.js");function d(e){return e&&e.__esModule?e:{default:e}}var p,h=(0,c.default)('link[rel="shortcut icon"]'),f=(p=s.default,(0,a.default)(m,p),(0,i.default)(m,[{key:"name",get:function(){return"favicon"}},{key:"oldIcon",get:function(){return h}}]),m.prototype.configure=function(){this.core.options.changeFavicon?this.enabled||(this.stopListening(this.core,l.default.CORE_OPTIONS_CHANGE),this.enable()):this.enabled&&(this.disable(),this.listenTo(this.core,l.default.CORE_OPTIONS_CHANGE,this.configure))},m.prototype.bindEvents=function(){this.listenTo(this.core,l.default.CORE_OPTIONS_CHANGE,this.configure),this.listenTo(this.core,l.default.CORE_ACTIVE_CONTAINER_CHANGED,this.containerChanged),this.core.activeContainer&&this.containerChanged()},m.prototype.containerChanged=function(){this._container&&this.stopListening(this._container),this._container=this.core.activeContainer,this.listenTo(this._container,l.default.CONTAINER_PLAY,this.setPlayIcon),this.listenTo(this._container,l.default.CONTAINER_PAUSE,this.setPauseIcon),this.listenTo(this._container,l.default.CONTAINER_STOP,this.resetIcon),this.listenTo(this._container,l.default.CONTAINER_ENDED,this.resetIcon),this.listenTo(this._container,l.default.CONTAINER_ERROR,this.resetIcon),this.resetIcon()},m.prototype.disable=function(){p.prototype.disable.call(this),this.resetIcon()},m.prototype.destroy=function(){p.prototype.destroy.call(this),this.resetIcon()},m.prototype.createIcon=function(e){var t=(0,c.default)("<canvas/>");t[0].width=16,t[0].height=16;var n=t[0].getContext("2d");n.fillStyle="#000";var r=(0,c.default)(e).find("path").attr("d"),o=new Path2D(r);n.fill(o);var i=(0,c.default)('<link rel="shortcut icon" type="image/png"/>');return i.attr("href",t[0].toDataURL("image/png")),i},m.prototype.setPlayIcon=function(){this.playIcon||(this.playIcon=this.createIcon(u.SvgIcons.play)),this.changeIcon(this.playIcon)},m.prototype.setPauseIcon=function(){this.pauseIcon||(this.pauseIcon=this.createIcon(u.SvgIcons.pause)),this.changeIcon(this.pauseIcon)},m.prototype.resetIcon=function(){(0,c.default)('link[rel="shortcut icon"]').remove(),(0,c.default)("head").append(this.oldIcon)},m.prototype.changeIcon=function(e){e&&((0,c.default)('link[rel="shortcut icon"]').remove(),(0,c.default)("head").append(e))},m);function m(e){(0,r.default)(this,m);var t=(0,o.default)(this,p.call(this,e));return t._container=null,t.configure(),t}t.default=f,e.exports=t.default},"./src/plugins/favicon/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/favicon/favicon.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/google_analytics/google_analytics.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=c(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=c(n("./node_modules/babel-runtime/helpers/createClass.js")),a=c(n("./node_modules/babel-runtime/helpers/inherits.js")),s=c(n("./src/base/container_plugin.js")),l=c(n("./src/base/events.js"));function c(e){return e&&e.__esModule?e:{default:e}}var u,d=(u=s.default,(0,a.default)(p,u),(0,i.default)(p,[{key:"name",get:function(){return"google_analytics"}}]),p.prototype.embedScript=function(){var e=this;if(window._gat)this.addEventListeners();else{var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","async"),t.setAttribute("src","//www.google-analytics.com/ga.js"),t.onload=function(){return e.addEventListeners()},document.body.appendChild(t)}},p.prototype.addEventListeners=function(){var t=this;this.container&&(this.listenTo(this.container,l.default.CONTAINER_READY,this.onReady),this.listenTo(this.container,l.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.default.CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,l.default.CONTAINER_ENDED,this.onEnded),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,l.default.CONTAINER_ERROR,this.onError),this.listenTo(this.container,l.default.CONTAINER_PLAYBACKSTATE,this.onPlaybackChanged),this.listenTo(this.container,l.default.CONTAINER_VOLUME,function(e){return t.onVolumeChanged(e)}),this.listenTo(this.container,l.default.CONTAINER_SEEK,function(e){return t.onSeek(e)}),this.listenTo(this.container,l.default.CONTAINER_FULL_SCREEN,this.onFullscreen),this.listenTo(this.container,l.default.CONTAINER_HIGHDEFINITIONUPDATE,this.onHD),this.listenTo(this.container,l.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.onDVR)),_gaq.push([this.trackerName+"_setAccount",this.account]),this.domainName&&_gaq.push([this.trackerName+"_setDomainName",this.domainName])},p.prototype.onReady=function(){this.push(["Video","Playback",this.container.playback.name])},p.prototype.onPlay=function(){this.push(["Video","Play",this.container.playback.src])},p.prototype.onStop=function(){this.push(["Video","Stop",this.container.playback.src])},p.prototype.onEnded=function(){this.push(["Video","Ended",this.container.playback.src])},p.prototype.onBuffering=function(){this.push(["Video","Buffering",this.container.playback.src])},p.prototype.onBufferFull=function(){this.push(["Video","Bufferfull",this.container.playback.src])},p.prototype.onError=function(){this.push(["Video","Error",this.container.playback.src])},p.prototype.onHD=function(e){var t=e?"ON":"OFF";t!==this.currentHDState&&(this.currentHDState=t,this.push(["Video","HD - "+t,this.container.playback.src]))},p.prototype.onPlaybackChanged=function(e){null!==e.type&&this.push(["Video","Playback Type - "+e.type,this.container.playback.src])},p.prototype.onDVR=function(e){var t=e?"ON":"OFF";this.push(["Interaction","DVR - "+t,this.container.playback.src])},p.prototype.onPause=function(){this.push(["Video","Pause",this.container.playback.src])},p.prototype.onSeek=function(){this.push(["Video","Seek",this.container.playback.src])},p.prototype.onVolumeChanged=function(){this.push(["Interaction","Volume",this.container.playback.src])},p.prototype.onFullscreen=function(){this.push(["Interaction","Fullscreen",this.container.playback.src])},p.prototype.push=function(e){var t=[this.trackerName+"_trackEvent"].concat(e);_gaq.push(t)},p);function p(e){(0,r.default)(this,p);var t=(0,o.default)(this,u.call(this,e));return t.container.options.gaAccount&&(t.account=t.container.options.gaAccount,t.trackerName=t.container.options.gaTrackerName?t.container.options.gaTrackerName+".":"Clappr.",t.domainName=t.container.options.gaDomainName,t.currentHDState=void 0,t.embedScript()),t}t.default=d,e.exports=t.default},"./src/plugins/google_analytics/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/google_analytics/google_analytics.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/log/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/log/log.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/log/log.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=(r=o)&&r.__esModule?r:{default:r},a=n("./src/vendor/index.js");var s="font-weight: bold; font-size: 13px;",l="color: #ff8000;"+s,c="color: #ff0000;"+s,u=["color: #0000ff;font-weight: bold; font-size: 13px;","color: #006600;font-weight: bold; font-size: 13px;",l,c,c],d=["debug","info","warn","error","disabled"],p=(h.prototype.debug=function(e){this.log(e,0,Array.prototype.slice.call(arguments,1))},h.prototype.info=function(e){this.log(e,1,Array.prototype.slice.call(arguments,1))},h.prototype.warn=function(e){this.log(e,2,Array.prototype.slice.call(arguments,1))},h.prototype.error=function(e){this.log(e,3,Array.prototype.slice.call(arguments,1))},h.prototype.onOff=function(){this.level===this.offLevel?this.level=this.previousLevel:(this.previousLevel=this.level,this.level=this.offLevel),window.console&&window.console.log&&window.console.log("%c[Clappr.Log] set log level to "+d[this.level],l)},h.prototype.level=function(e){this.level=e},h.prototype.log=function(e,t,n){if(!(0<=this.BLACKLIST.indexOf(n[0])||t<this.level)){n||(n=e,e=null);var r=u[t],o="";e&&(o="["+e+"]"),window.console&&window.console.log&&window.console.log.apply(console,["%c["+d[t]+"]"+o,r].concat(n))}},h);function h(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;(0,i.default)(this,h),this.kibo=new a.Kibo,this.kibo.down(["ctrl shift d"],function(){return e.onOff()}),this.BLACKLIST=["timeupdate","playback:timeupdate","playback:progress","container:hover","container:timeupdate","container:progress"],this.level=t,this.offLevel=n}(t.default=p).LEVEL_DEBUG=0,p.LEVEL_INFO=1,p.LEVEL_WARN=2,p.LEVEL_ERROR=3,p.getInstance=function(){return void 0===this._instance&&(this._instance=new this,this._instance.previousLevel=this._instance.level,this._instance.level=this._instance.offLevel),this._instance},p.setLevel=function(e){this.getInstance().level=e},p.debug=function(){this.getInstance().debug.apply(this.getInstance(),arguments)},p.info=function(){this.getInstance().info.apply(this.getInstance(),arguments)},p.warn=function(){this.getInstance().warn.apply(this.getInstance(),arguments)},p.error=function(){this.getInstance().error.apply(this.getInstance(),arguments)},e.exports=t.default},"./src/plugins/media_control/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/media_control/media_control.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/media_control/media_control.js":function(_,A,E){"use strict";(function(r){Object.defineProperty(A,"__esModule",{value:!0});var t=g(E("./node_modules/babel-runtime/core-js/json/stringify.js")),n=g(E("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=g(E("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),e=g(E("./node_modules/babel-runtime/helpers/createClass.js")),i=g(E("./node_modules/babel-runtime/helpers/inherits.js")),a=E("./src/base/utils.js"),s=E("./src/vendor/index.js"),l=g(E("./src/base/events.js")),c=g(E("./src/base/ui_core_plugin.js")),u=g(E("./src/components/browser/index.js")),d=g(E("./src/components/mediator.js")),p=g(E("./src/base/template.js")),h=g(E("./src/base/playback.js")),f=g(E("./node_modules/clappr-zepto/zepto.js"));E("./src/plugins/media_control/public/media-control.scss");var m=g(E("./src/plugins/media_control/public/media-control.html"));function g(e){return e&&e.__esModule?e:{default:e}}var y,v=(y=c.default,(0,i.default)(b,y),(0,e.default)(b,[{key:"name",get:function(){return"media_control"}},{key:"disabled",get:function(){var e=this.container&&this.container.getPlaybackType()===h.default.NO_OP;return this.userDisabled||e}},{key:"container",get:function(){return this.core&&this.core.activeContainer}},{key:"playback",get:function(){return this.core&&this.core.activePlayback}},{key:"attributes",get:function(){return{class:"media-control","data-media-control":""}}},{key:"events",get:function(){return{"click [data-play]":"play","click [data-pause]":"pause","click [data-playpause]":"togglePlayPause","click [data-stop]":"stop","click [data-playstop]":"togglePlayStop","click [data-fullscreen]":"toggleFullscreen","click .bar-container[data-seekbar]":"seek","click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mouseenter .drawer-container[data-volume]":"showVolumeBar","mouseleave .drawer-container[data-volume]":"hideVolumeBar","mousedown .bar-container[data-volume]":"startVolumeDrag","mousemove .bar-container[data-volume]":"mousemoveOnVolumeBar","mousedown .bar-scrubber[data-seekbar]":"startSeekDrag","mousemove .bar-container[data-seekbar]":"mousemoveOnSeekBar","mouseleave .bar-container[data-seekbar]":"mouseleaveOnSeekBar","mouseenter .media-control-layer[data-controls]":"setUserKeepVisible","mouseleave .media-control-layer[data-controls]":"resetUserKeepVisible"}}},{key:"template",get:function(){return(0,p.default)(m.default)}},{key:"volume",get:function(){return this.container&&this.container.isReady?this.container.volume:this.intendedVolume}},{key:"muted",get:function(){return 0===this.volume}}]),b.prototype.getExternalInterface=function(){var e=this;return{setVolume:this.setVolume,getVolume:function(){return e.volume}}},b.prototype.bindEvents=function(){var e=this;this.stopListening(),this.listenTo(this.core,l.default.CORE_ACTIVE_CONTAINER_CHANGED,this.onActiveContainerChanged),this.listenTo(this.core,l.default.CORE_MOUSE_MOVE,this.show),this.listenTo(this.core,l.default.CORE_MOUSE_LEAVE,function(){return e.hide(e.options.hideMediaControlDelay)}),this.listenTo(this.core,l.default.CORE_FULLSCREEN,this.show),this.listenTo(this.core,l.default.CORE_OPTIONS_CHANGE,this.configure),d.default.on(this.options.playerId+":"+l.default.PLAYER_RESIZE,this.playerResize,this),this.bindContainerEvents()},b.prototype.bindContainerEvents=function(){this.container&&(this.listenTo(this.container,l.default.CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,l.default.CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,l.default.CONTAINER_DBLCLICK,this.toggleFullscreen),this.listenTo(this.container,l.default.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,l.default.CONTAINER_PROGRESS,this.updateProgressBar),this.listenTo(this.container,l.default.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container,l.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.settingsUpdate),this.listenTo(this.container,l.default.CONTAINER_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.container,l.default.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,l.default.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,l.default.CONTAINER_ENDED,this.ended),this.listenTo(this.container,l.default.CONTAINER_VOLUME,this.onVolumeChanged),this.listenTo(this.container,l.default.CONTAINER_OPTIONS_CHANGE,this.setInitialVolume),"video"===this.container.playback.el.nodeName.toLowerCase()&&this.listenToOnce(this.container,l.default.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag))},b.prototype.disable=function(){this.userDisabled=!0,this.hide(),this.unbindKeyEvents(),this.$el.hide()},b.prototype.enable=function(){this.options.chromeless||(this.userDisabled=!1,this.bindKeyEvents(),this.show())},b.prototype.play=function(){this.container&&this.container.play()},b.prototype.pause=function(){this.container&&this.container.pause()},b.prototype.stop=function(){this.container&&this.container.stop()},b.prototype.setInitialVolume=function(){var e=this.persistConfig?a.Config.restore("volume"):100,t=this.container&&this.container.options||this.options;this.setVolume(t.mute?0:e,!0)},b.prototype.onVolumeChanged=function(){this.updateVolumeUI()},b.prototype.onLoadedMetadataOnVideoTag=function(){var e=this.playback&&this.playback.el;!a.Fullscreen.fullscreenEnabled()&&e.webkitSupportsFullscreen&&(this.fullScreenOnVideoTagSupported=!0,this.settingsUpdate())},b.prototype.updateVolumeUI=function(){if(this.rendered){this.$volumeBarContainer.find(".bar-fill-2").css({});var e=this.$volumeBarContainer.width(),t=this.$volumeBarBackground.width(),n=(e-t)/2,r=t*this.volume/100+n;this.$volumeBarFill.css({width:this.volume+"%"}),this.$volumeBarScrubber.css({left:r}),this.$volumeBarContainer.find(".segmented-bar-element").removeClass("fill");var o=Math.ceil(this.volume/10);this.$volumeBarContainer.find(".segmented-bar-element").slice(0,o).addClass("fill"),this.$volumeIcon.html(""),this.$volumeIcon.removeClass("muted"),this.muted?(this.$volumeIcon.append(a.SvgIcons.volumeMute),this.$volumeIcon.addClass("muted")):this.$volumeIcon.append(a.SvgIcons.volume),this.applyButtonStyle(this.$volumeIcon)}},b.prototype.changeTogglePlay=function(){this.$playPauseToggle.html(""),this.$playStopToggle.html(""),this.container&&this.container.isPlaying()?(this.$playPauseToggle.append(a.SvgIcons.pause),this.$playStopToggle.append(a.SvgIcons.stop),this.trigger(l.default.MEDIACONTROL_PLAYING)):(this.$playPauseToggle.append(a.SvgIcons.play),this.$playStopToggle.append(a.SvgIcons.play),this.trigger(l.default.MEDIACONTROL_NOTPLAYING),u.default.isMobile&&this.show()),this.applyButtonStyle(this.$playPauseToggle),this.applyButtonStyle(this.$playStopToggle)},b.prototype.mousemoveOnSeekBar=function(e){if(this.settings.seekEnabled){var t=e.pageX-this.$seekBarContainer.offset().left-this.$seekBarHover.width()/2;this.$seekBarHover.css({left:t})}this.trigger(l.default.MEDIACONTROL_MOUSEMOVE_SEEKBAR,e)},b.prototype.mouseleaveOnSeekBar=function(e){this.trigger(l.default.MEDIACONTROL_MOUSELEAVE_SEEKBAR,e)},b.prototype.onVolumeClick=function(e){this.setVolume(this.getVolumeFromUIEvent(e))},b.prototype.mousemoveOnVolumeBar=function(e){this.draggingVolumeBar&&this.setVolume(this.getVolumeFromUIEvent(e))},b.prototype.playerResize=function(e){this.$fullscreenToggle.html("");var t=this.core.isFullscreen()?a.SvgIcons.exitFullscreen:a.SvgIcons.fullscreen;this.$fullscreenToggle.append(t),this.applyButtonStyle(this.$fullscreenToggle),0!==this.$el.find(".media-control").length&&this.$el.removeClass("w320"),(e.width<=320||this.options.hideVolumeBar)&&this.$el.addClass("w320")},b.prototype.togglePlayPause=function(){return this.container.isPlaying()?this.container.pause():this.container.play(),!1},b.prototype.togglePlayStop=function(){this.container.isPlaying()?this.container.stop():this.container.play()},b.prototype.startSeekDrag=function(e){this.settings.seekEnabled&&(this.draggingSeekBar=!0,this.$el.addClass("dragging"),this.$seekBarLoaded.addClass("media-control-notransition"),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition"),e&&e.preventDefault())},b.prototype.startVolumeDrag=function(e){this.draggingVolumeBar=!0,this.$el.addClass("dragging"),e&&e.preventDefault()},b.prototype.stopDrag=function(e){this.draggingSeekBar&&this.seek(e),this.$el.removeClass("dragging"),this.$seekBarLoaded.removeClass("media-control-notransition"),this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition dragging"),this.draggingSeekBar=!1,this.draggingVolumeBar=!1},b.prototype.updateDrag=function(e){if(this.draggingSeekBar){e.preventDefault();var t=(e.pageX-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100;t=Math.min(100,Math.max(t,0)),this.setSeekPercentage(t)}else this.draggingVolumeBar&&(e.preventDefault(),this.setVolume(this.getVolumeFromUIEvent(e)))},b.prototype.getVolumeFromUIEvent=function(e){return(e.pageX-this.$volumeBarContainer.offset().left)/this.$volumeBarContainer.width()*100},b.prototype.toggleMute=function(){if(this.muted)return this.setVolume(this._mutedVolume||100),void(this._mutedVolume=null);this._mutedVolume=this.volume,this.setVolume(0)},b.prototype.setVolume=function(e,t){var n=this,r=1<arguments.length&&void 0!==t&&t;function o(){n.container&&n.container.isReady?n.container.setVolume(e):n.listenToOnce(n.container,l.default.CONTAINER_READY,function(){n.container.setVolume(e)})}e=Math.min(100,Math.max(e,0)),this.intendedVolume=e,this.persistConfig&&!r&&a.Config.persist("volume",e),this.container?o():this.listenToOnce(this,l.default.MEDIACONTROL_CONTAINERCHANGED,function(){return o()})},b.prototype.toggleFullscreen=function(){this.trigger(l.default.MEDIACONTROL_FULLSCREEN,this.name),this.container.fullscreen(),this.core.toggleFullscreen(),this.resetUserKeepVisible()},b.prototype.onActiveContainerChanged=function(){this.fullScreenOnVideoTagSupported=null,d.default.off(this.options.playerId+":"+l.default.PLAYER_RESIZE,this.playerResize,this),this.bindEvents(),this.setInitialVolume(),this.changeTogglePlay(),this.bindContainerEvents(),this.settingsUpdate(),this.container&&this.container.trigger(l.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.container.isDvrInUse()),this.container&&this.container.mediaControlDisabled&&this.disable(),this.trigger(l.default.MEDIACONTROL_CONTAINERCHANGED)},b.prototype.showVolumeBar=function(){this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.$volumeBarContainer.removeClass("volume-bar-hide")},b.prototype.hideVolumeBar=function(e){var t=this,n=0<arguments.length&&void 0!==e?e:400;this.$volumeBarContainer&&(this.draggingVolumeBar?this.hideVolumeId=setTimeout(function(){return t.hideVolumeBar()},n):(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.hideVolumeId=setTimeout(function(){return t.$volumeBarContainer.addClass("volume-bar-hide")},n)))},b.prototype.ended=function(){this.changeTogglePlay()},b.prototype.updateProgressBar=function(e){var t=e.start/e.total*100,n=e.current/e.total*100;this.$seekBarLoaded.css({left:t+"%",width:n-t+"%"})},b.prototype.onTimeUpdate=function(e){if(!this.draggingSeekBar){var t=e.current<0?e.total:e.current;this.currentPositionValue=t,this.currentDurationValue=e.total,this.renderSeekBar()}},b.prototype.renderSeekBar=function(){if(null!==this.currentPositionValue&&null!==this.currentDurationValue){this.currentSeekBarPercentage=100,this.container&&(this.container.getPlaybackType()!==h.default.LIVE||this.container.isDvrInUse())&&(this.currentSeekBarPercentage=this.currentPositionValue/this.currentDurationValue*100),this.setSeekPercentage(this.currentSeekBarPercentage);var e=(0,a.formatTime)(this.currentPositionValue),t=(0,a.formatTime)(this.currentDurationValue);e!==this.displayedPosition&&(this.$position.text(e),this.displayedPosition=e),t!==this.displayedDuration&&(this.$duration.text(t),this.displayedDuration=t)}},b.prototype.seek=function(e){if(this.settings.seekEnabled){var t=(e.pageX-this.$seekBarContainer.offset().left)/this.$seekBarContainer.width()*100;return t=Math.min(100,Math.max(t,0)),this.container&&this.container.seekPercentage(t),this.setSeekPercentage(t),!1}},b.prototype.setKeepVisible=function(){this.keepVisible=!0},b.prototype.resetKeepVisible=function(){this.keepVisible=!1},b.prototype.setUserKeepVisible=function(){this.userKeepVisible=!0},b.prototype.resetUserKeepVisible=function(){this.userKeepVisible=!1},b.prototype.isVisible=function(){return!this.$el.hasClass("media-control-hide")},b.prototype.show=function(e){var t=this;if(!this.disabled){var n=e&&e.clientX!==this.lastMouseX&&e.clientY!==this.lastMouseY;e&&!n&&!navigator.userAgent.match(/firefox/i)||(clearTimeout(this.hideId),this.$el.show(),this.trigger(l.default.MEDIACONTROL_SHOW,this.name),this.container&&this.container.trigger(l.default.CONTAINER_MEDIACONTROL_SHOW,this.name),this.$el.removeClass("media-control-hide"),this.hideId=setTimeout(function(){return t.hide()},2e3),e&&(this.lastMouseX=e.clientX,this.lastMouseY=e.clientY)),this.updateCursorStyle(!0)}},b.prototype.hide=function(e){var t=this,n=0<arguments.length&&void 0!==e?e:0;if(this.isVisible()){var r=n||2e3;if(clearTimeout(this.hideId),this.disabled||!1!==this.options.hideMediaControl){var o=this.userKeepVisible||this.keepVisible,i=this.draggingSeekBar||this.draggingVolumeBar;!this.disabled&&(n||o||i)?this.hideId=setTimeout(function(){return t.hide()},r):(this.trigger(l.default.MEDIACONTROL_HIDE,this.name),this.container&&this.container.trigger(l.default.CONTAINER_MEDIACONTROL_HIDE,this.name),this.$el.addClass("media-control-hide"),this.hideVolumeBar(0),this.updateCursorStyle(!1))}}},b.prototype.updateCursorStyle=function(e){e?this.core.$el.removeClass("nocursor"):this.core.isFullscreen()&&this.core.$el.addClass("nocursor")},b.prototype.settingsUpdate=function(){var e=this.getSettings();!e||this.fullScreenOnVideoTagSupported||a.Fullscreen.fullscreenEnabled()||(e.default&&(0,a.removeArrayItem)(e.default,"fullscreen"),e.left&&(0,a.removeArrayItem)(e.left,"fullscreen"),e.right&&(0,a.removeArrayItem)(e.right,"fullscreen")),(0,t.default)(this.settings)!==(0,t.default)(e)&&(this.settings=e,this.render())},b.prototype.getSettings=function(){return f.default.extend(!0,{},this.container&&this.container.settings)},b.prototype.highDefinitionUpdate=function(e){var t=(this.isHD=e)?"addClass":"removeClass";this.$hdIndicator[t]("enabled")},b.prototype.createCachedElements=function(){var e=this.$el.find(".media-control-layer");this.$duration=e.find(".media-control-indicator[data-duration]"),this.$fullscreenToggle=e.find("button.media-control-button[data-fullscreen]"),this.$playPauseToggle=e.find("button.media-control-button[data-playpause]"),this.$playStopToggle=e.find("button.media-control-button[data-playstop]"),this.$position=e.find(".media-control-indicator[data-position]"),this.$seekBarContainer=e.find(".bar-container[data-seekbar]"),this.$seekBarHover=e.find(".bar-hover[data-seekbar]"),this.$seekBarLoaded=e.find(".bar-fill-1[data-seekbar]"),this.$seekBarPosition=e.find(".bar-fill-2[data-seekbar]"),this.$seekBarScrubber=e.find(".bar-scrubber[data-seekbar]"),this.$volumeBarContainer=e.find(".bar-container[data-volume]"),this.$volumeContainer=e.find(".drawer-container[data-volume]"),this.$volumeIcon=e.find(".drawer-icon[data-volume]"),this.$volumeBarBackground=this.$el.find(".bar-background[data-volume]"),this.$volumeBarFill=this.$el.find(".bar-fill-1[data-volume]"),this.$volumeBarScrubber=this.$el.find(".bar-scrubber[data-volume]"),this.$hdIndicator=this.$el.find("button.media-control-button[data-hd-indicator]"),this.resetIndicators(),this.initializeIcons()},b.prototype.resetIndicators=function(){this.displayedPosition=this.$position.text(),this.displayedDuration=this.$duration.text()},b.prototype.initializeIcons=function(){var e=this.$el.find(".media-control-layer");e.find("button.media-control-button[data-play]").append(a.SvgIcons.play),e.find("button.media-control-button[data-pause]").append(a.SvgIcons.pause),e.find("button.media-control-button[data-stop]").append(a.SvgIcons.stop),this.$playPauseToggle.append(a.SvgIcons.play),this.$playStopToggle.append(a.SvgIcons.play),this.$volumeIcon.append(a.SvgIcons.volume),this.$fullscreenToggle.append(a.SvgIcons.fullscreen),this.$hdIndicator.append(a.SvgIcons.hd)},b.prototype.setSeekPercentage=function(e){e=Math.max(Math.min(e,100),0),this.displayedSeekBarPercentage!==e&&(this.displayedSeekBarPercentage=e,this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition"),this.$seekBarPosition.css({width:e+"%"}),this.$seekBarScrubber.css({left:e+"%"}))},b.prototype.seekRelative=function(e){if(this.settings.seekEnabled){var t=this.container.getCurrentTime(),n=this.container.getDuration(),r=Math.min(Math.max(t+e,0),n);r=Math.min(100*r/n,100),this.container.seekPercentage(r)}},b.prototype.bindKeyAndShow=function(e,t){var n=this;this.kibo.down(e,function(){return n.show(),t()})},b.prototype.bindKeyEvents=function(){var t=this;u.default.isMobile||this.options.disableKeyboardShortcuts||(this.unbindKeyEvents(),this.kibo=new s.Kibo(this.options.focusElement||this.options.parentElement),this.bindKeyAndShow("space",function(){return t.togglePlayPause()}),this.bindKeyAndShow("left",function(){return t.seekRelative(-5)}),this.bindKeyAndShow("right",function(){return t.seekRelative(5)}),this.bindKeyAndShow("shift left",function(){return t.seekRelative(-10)}),this.bindKeyAndShow("shift right",function(){return t.seekRelative(10)}),this.bindKeyAndShow("shift ctrl left",function(){return t.seekRelative(-15)}),this.bindKeyAndShow("shift ctrl right",function(){return t.seekRelative(15)}),["1","2","3","4","5","6","7","8","9","0"].forEach(function(e){t.bindKeyAndShow(e,function(){t.settings.seekEnabled&&t.container&&t.container.seekPercentage(10*e)})}))},b.prototype.unbindKeyEvents=function(){this.kibo&&(this.kibo.off("space"),this.kibo.off("left"),this.kibo.off("right"),this.kibo.off("shift left"),this.kibo.off("shift right"),this.kibo.off("shift ctrl left"),this.kibo.off("shift ctrl right"),this.kibo.off(["1","2","3","4","5","6","7","8","9","0"]))},b.prototype.parseColors=function(){if(this.options.mediacontrol){this.buttonsColor=this.options.mediacontrol.buttons;var e=this.options.mediacontrol.seekbar;this.$el.find(".bar-fill-2[data-seekbar]").css("background-color",e),this.$el.find(".media-control-icon svg path").css("fill",this.buttonsColor),this.$el.find(".segmented-bar-element[data-volume]").css("boxShadow","inset 2px 0 0 "+this.buttonsColor)}},b.prototype.applyButtonStyle=function(e){this.buttonsColor&&e&&(0,f.default)(e).find("svg path").css("fill",this.buttonsColor)},b.prototype.destroy=function(){(0,f.default)(document).unbind("mouseup",this.stopDragHandler),(0,f.default)(document).unbind("mousemove",this.updateDragHandler),this.unbindKeyEvents(),this.stopListening(),y.prototype.destroy.call(this)},b.prototype.configure=function(e){this.options.chromeless||e.source||e.sources?this.disable():this.enable(),this.trigger(l.default.MEDIACONTROL_OPTIONS_CHANGE)},b.prototype.render=function(){var e=this,t=this.options.hideMediaControlDelay||2e3;this.settings&&this.$el.html(this.template({settings:this.settings})),this.createCachedElements(),this.$playPauseToggle.addClass("paused"),this.$playStopToggle.addClass("stopped"),this.changeTogglePlay(),this.container&&(this.hideId=setTimeout(function(){return e.hide()},t),this.disabled&&this.hide()),u.default.isSafari&&u.default.isMobile&&(u.default.version<10?this.$volumeContainer.css("display","none"):this.$volumeBarContainer.css("display","none")),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition");var n=0;return this.displayedSeekBarPercentage&&(n=this.displayedSeekBarPercentage),this.displayedSeekBarPercentage=null,this.setSeekPercentage(n),r.nextTick(function(){e.settings.seekEnabled||e.$seekBarContainer.addClass("seek-disabled"),u.default.isMobile||e.options.disableKeyboardShortcuts||e.bindKeyEvents(),e.playerResize({width:e.options.width,height:e.options.height}),e.hideVolumeBar(0)}),this.parseColors(),this.highDefinitionUpdate(this.isHD),this.core.$el.append(this.el),this.rendered=!0,this.updateVolumeUI(),this.trigger(l.default.MEDIACONTROL_RENDERED),this},b);function b(e){(0,n.default)(this,b);var t=(0,o.default)(this,y.call(this,e));return t.persistConfig=t.options.persistConfig,t.currentPositionValue=null,t.currentDurationValue=null,t.keepVisible=!1,t.fullScreenOnVideoTagSupported=null,t.setInitialVolume(),t.settings={left:["play","stop","pause"],right:["volume"],default:["position","seekbar","duration"]},t.kibo=new s.Kibo(t.options.focusElement),t.bindKeyEvents(),t.container?f.default.isEmptyObject(t.container.settings)||(t.settings=f.default.extend({},t.container.settings)):t.settings={},t.userDisabled=!1,(t.container&&t.container.mediaControlDisabled||t.options.chromeless)&&t.disable(),t.stopDragHandler=function(e){return t.stopDrag(e)},t.updateDragHandler=function(e){return t.updateDrag(e)},(0,f.default)(document).bind("mouseup",t.stopDragHandler),(0,f.default)(document).bind("mousemove",t.updateDragHandler),t}(A.default=v).extend=function(e){return(0,a.extend)(v,e)},_.exports=A.default}).call(this,E("./node_modules/process/browser.js"))},"./src/plugins/media_control/public/closed-hand.cur":function(e,t){e.exports="<%=baseUrl%>/a8c874b93b3d848f39a71260c57e3863.cur"},"./src/plugins/media_control/public/media-control.html":function(e,t){e.exports='<div class="media-control-background" data-background></div>\n<div class="media-control-layer" data-controls>\n  <%  var renderBar = function(name) { %>\n      <div class="bar-container" data-<%= name %>>\n        <div class="bar-background" data-<%= name %>>\n          <div class="bar-fill-1" data-<%= name %>></div>\n          <div class="bar-fill-2" data-<%= name %>></div>\n          <div class="bar-hover" data-<%= name %>></div>\n        </div>\n        <div class="bar-scrubber" data-<%= name %>>\n          <div class="bar-scrubber-icon" data-<%= name %>></div>\n        </div>\n      </div>\n  <%  }; %>\n  <%  var renderSegmentedBar = function(name, segments) {\n      segments = segments || 10; %>\n    <div class="bar-container" data-<%= name %>>\n    <% for (var i = 0; i < segments; i++) { %>\n      <div class="segmented-bar-element" data-<%= name %>></div>\n    <% } %>\n    </div>\n  <% }; %>\n  <% var renderDrawer = function(name, renderContent) { %>\n      <div class="drawer-container" data-<%= name %>>\n        <div class="drawer-icon-container" data-<%= name %>>\n          <div class="drawer-icon media-control-icon" data-<%= name %>></div>\n          <span class="drawer-text" data-<%= name %>></span>\n        </div>\n        <% renderContent(name); %>\n      </div>\n  <% }; %>\n  <% var renderIndicator = function(name) { %>\n      <div class="media-control-indicator" data-<%= name %>></div>\n  <% }; %>\n  <% var renderButton = function(name) { %>\n    <button type="button" class="media-control-button media-control-icon" data-<%= name %> aria-label="<%= name %>"></button>\n  <% }; %>\n  <%  var templates = {\n        bar: renderBar,\n        segmentedBar: renderSegmentedBar,\n      };\n      var render = function(settingsList) {\n        settingsList.forEach(function(setting) {\n          if(setting === "seekbar") {\n            renderBar(setting);\n          } else if (setting === "volume") {\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\n          } else if (setting === "duration" || setting === "position") {\n            renderIndicator(setting);\n          } else {\n            renderButton(setting);\n          }\n        });\n      }; %>\n  <% if (settings.default && settings.default.length) { %>\n  <div class="media-control-center-panel" data-media-control>\n    <% render(settings.default); %>\n  </div>\n  <% } %>\n  <% if (settings.left && settings.left.length) { %>\n  <div class="media-control-left-panel" data-media-control>\n    <% render(settings.left); %>\n  </div>\n  <% } %>\n  <% if (settings.right && settings.right.length) { %>\n  <div class="media-control-right-panel" data-media-control>\n    <% render(settings.right); %>\n  </div>\n  <% } %>\n</div>\n'},"./src/plugins/media_control/public/media-control.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/media_control/public/media-control.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/poster/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/poster/poster.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/poster/poster.js":function(g,y,v){"use strict";(function(n){Object.defineProperty(y,"__esModule",{value:!0});var r=p(v("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=p(v("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),e=p(v("./node_modules/babel-runtime/helpers/createClass.js")),t=p(v("./node_modules/babel-runtime/helpers/inherits.js")),i=p(v("./src/base/ui_container_plugin.js")),a=p(v("./src/base/events.js")),s=p(v("./src/base/template.js")),l=p(v("./src/base/playback.js")),c=p(v("./src/components/error/error.js")),u=p(v("./src/plugins/poster/public/poster.html")),d=v("./src/base/utils.js");function p(e){return e&&e.__esModule?e:{default:e}}v("./src/plugins/poster/public/poster.scss");var h,f=(h=i.default,(0,t.default)(m,h),(0,e.default)(m,[{key:"name",get:function(){return"poster"}},{key:"template",get:function(){return(0,s.default)(u.default)}},{key:"shouldRender",get:function(){var e=!(!this.options.poster||!this.options.poster.showForNoOp);return"html_img"!==this.container.playback.name&&(this.container.playback.getPlaybackType()!==l.default.NO_OP||e)}},{key:"attributes",get:function(){return{class:"player-poster","data-poster":""}}},{key:"events",get:function(){return{click:"clicked"}}},{key:"showOnVideoEnd",get:function(){return!this.options.poster||this.options.poster.showOnVideoEnd||void 0===this.options.poster.showOnVideoEnd}}]),m.prototype.bindEvents=function(){this.listenTo(this.container,a.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,a.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,a.default.CONTAINER_STATE_BUFFERING,this.update),this.listenTo(this.container,a.default.CONTAINER_STATE_BUFFERFULL,this.update),this.listenTo(this.container,a.default.CONTAINER_OPTIONS_CHANGE,this.render),this.listenTo(this.container,a.default.CONTAINER_ERROR,this.onError),this.showOnVideoEnd&&this.listenTo(this.container,a.default.CONTAINER_ENDED,this.onStop)},m.prototype.onError=function(e){this.hasFatalError=e.level===c.default.Levels.FATAL,this.hasFatalError&&(this.hasStartedPlaying=!1,this.playRequested=!1,this.showPlayButton())},m.prototype.onPlay=function(){this.hasStartedPlaying=!0,this.update()},m.prototype.onStop=function(){this.hasStartedPlaying=!1,this.playRequested=!1,this.update()},m.prototype.updatePlayButton=function(e){!e||this.options.chromeless&&!this.options.allowUserInteraction?this.hidePlayButton():this.showPlayButton()},m.prototype.showPlayButton=function(){this.hasFatalError&&!this.options.disableErrorScreen||(this.$playButton.show(),this.$el.addClass("clickable"))},m.prototype.hidePlayButton=function(){this.$playButton.hide(),this.$el.removeClass("clickable")},m.prototype.clicked=function(){if(!this.hasStartedPlaying)return this.options.chromeless&&!this.options.allowUserInteraction||(this.playRequested=!0,this.update(),this.container.play()),!1},m.prototype.shouldHideOnPlay=function(){return!this.container.playback.isAudioOnly},m.prototype.update=function(){if(this.shouldRender){var e=!this.playRequested&&!this.hasStartedPlaying&&!this.container.buffering;this.updatePlayButton(e),this.updatePoster()}},m.prototype.updatePoster=function(){this.hasStartedPlaying?this.hidePoster():this.showPoster()},m.prototype.showPoster=function(){this.container.disableMediaControl(),this.$el.show()},m.prototype.hidePoster=function(){this.container.enableMediaControl(),this.shouldHideOnPlay()&&this.$el.hide()},m.prototype.render=function(){if(this.shouldRender){if(this.$el.html(this.template()),this.options.poster&&void 0===this.options.poster.custom){var e=this.options.poster.url||this.options.poster;this.$el.css({"background-image":"url("+e+")"})}else this.options.poster&&this.$el.css({background:this.options.poster.custom});this.container.$el.append(this.el),this.$playWrapper=this.$el.find(".play-wrapper"),this.$playWrapper.append(d.SvgIcons.play),this.$playButton=this.$playWrapper.find("svg"),this.$playButton.addClass("poster-icon"),this.$playButton.attr("data-poster","");var t=this.options.mediacontrol&&this.options.mediacontrol.buttons;return t&&this.$el.find("svg path").css("fill",t),this.options.mediacontrol&&this.options.mediacontrol.buttons&&(t=this.options.mediacontrol.buttons,this.$playButton.css("color",t)),this.update(),this}},m);function m(e){(0,r.default)(this,m);var t=(0,o.default)(this,h.call(this,e));return t.hasStartedPlaying=!1,t.playRequested=!1,t.render(),n.nextTick(function(){return t.update()}),t}y.default=f,g.exports=y.default}).call(this,v("./node_modules/process/browser.js"))},"./src/plugins/poster/public/poster.html":function(e,t){e.exports='<div class="play-wrapper" data-poster></div>\n'},"./src/plugins/poster/public/poster.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/poster/public/poster.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/seek_time/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/seek_time/seek_time.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/seek_time/public/seek_time.html":function(e,t){e.exports="<span data-seek-time></span>\n<span data-duration></span>\n"},"./src/plugins/seek_time/public/seek_time.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/seek_time/public/seek_time.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/seek_time/seek_time.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=h(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=h(n("./node_modules/babel-runtime/helpers/createClass.js")),a=h(n("./node_modules/babel-runtime/helpers/inherits.js")),s=n("./src/base/utils.js"),l=h(n("./src/base/ui_core_plugin.js")),c=h(n("./src/base/template.js")),u=h(n("./src/base/events.js")),d=h(n("./src/base/playback.js")),p=h(n("./src/plugins/seek_time/public/seek_time.html"));function h(e){return e&&e.__esModule?e:{default:e}}n("./src/plugins/seek_time/public/seek_time.scss");var f,m=(f=l.default,(0,a.default)(g,f),(0,i.default)(g,[{key:"name",get:function(){return"seek_time"}},{key:"template",get:function(){return(0,c.default)(p.default)}},{key:"attributes",get:function(){return{class:"seek-time","data-seek-time":""}}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlContainer",get:function(){return this.mediaControl.container}},{key:"isLiveStreamWithDvr",get:function(){return this.mediaControlContainer&&this.mediaControlContainer.getPlaybackType()===d.default.LIVE&&this.mediaControlContainer.isDvrEnabled()}},{key:"durationShown",get:function(){return this.isLiveStreamWithDvr&&!this.actualLiveTime}},{key:"useActualLiveTime",get:function(){return this.actualLiveTime&&this.isLiveStreamWithDvr}}]),g.prototype.bindEvents=function(){this.listenTo(this.mediaControl,u.default.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.mediaControl,u.default.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.showTime),this.listenTo(this.mediaControl,u.default.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.hideTime),this.listenTo(this.mediaControl,u.default.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged),this.mediaControlContainer&&(this.listenTo(this.mediaControlContainer,u.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.update),this.listenTo(this.mediaControlContainer,u.default.CONTAINER_TIMEUPDATE,this.updateDuration))},g.prototype.onContainerChanged=function(){this.stopListening(),this.bindEvents()},g.prototype.updateDuration=function(e){this.duration=e.total,this.firstFragDateTime=e.firstFragDateTime,this.update()},g.prototype.showTime=function(e){this.hoveringOverSeekBar=!0,this.calculateHoverPosition(e),this.update()},g.prototype.hideTime=function(){this.hoveringOverSeekBar=!1,this.update()},g.prototype.calculateHoverPosition=function(e){var t=e.pageX-this.mediaControl.$seekBarContainer.offset().left;this.hoverPosition=Math.min(1,Math.max(t/this.mediaControl.$seekBarContainer.width(),0))},g.prototype.getSeekTime=function(){var e=void 0,t=void 0,n=void 0,r=void 0;return this.useActualLiveTime?(e=(t=this.firstFragDateTime?(r=new Date(this.firstFragDateTime),(n=new Date(this.firstFragDateTime)).setHours(0,0,0,0),(r.getTime()-n.getTime())/1e3+this.duration):(n=new Date((new Date).getTime()-this.actualLiveServerTimeDiff),((r=new Date(n))-n.setHours(0,0,0,0))/1e3))-this.duration+this.hoverPosition*this.duration)<0&&(e+=86400):e=this.hoverPosition*this.duration,{seekTime:e,secondsSinceMidnight:t}},g.prototype.update=function(){if(this.rendered)if(this.shouldBeVisible()){var e=this.getSeekTime(),t=(0,s.formatTime)(e.seekTime,this.useActualLiveTime);if(t!==this.displayedSeekTime&&(this.$seekTimeEl.text(t),this.displayedSeekTime=t),this.durationShown){this.$durationEl.show();var n=(0,s.formatTime)(this.actualLiveTime?e.secondsSinceMidnight:this.duration,this.actualLiveTime);n!==this.displayedDuration&&(this.$durationEl.text(n),this.displayedDuration=n)}else this.$durationEl.hide();this.$el.show();var r=this.mediaControl.$seekBarContainer.width(),o=this.$el.width(),i=this.hoverPosition*r;i-=o/2,i=Math.max(0,Math.min(i,r-o)),this.$el.css("left",i)}else this.$el.hide(),this.$el.css("left","-100%")},g.prototype.shouldBeVisible=function(){return this.mediaControlContainer&&this.mediaControlContainer.settings.seekEnabled&&this.hoveringOverSeekBar&&null!==this.hoverPosition&&null!==this.duration},g.prototype.render=function(){this.rendered=!0,this.displayedDuration=null,this.displayedSeekTime=null,this.$el.html(this.template()),this.$el.hide(),this.mediaControl.$el.append(this.el),this.$seekTimeEl=this.$el.find("[data-seek-time]"),this.$durationEl=this.$el.find("[data-duration]"),this.$durationEl.hide(),this.update()},g);function g(e){(0,r.default)(this,g);var t=(0,o.default)(this,f.call(this,e));return t.hoveringOverSeekBar=!1,t.hoverPosition=null,t.duration=null,t.firstFragDateTime=null,t.actualLiveTime=!!t.mediaControl.options.actualLiveTime,t.actualLiveTime&&(t.mediaControl.options.actualLiveServerTime?t.actualLiveServerTimeDiff=(new Date).getTime()-new Date(t.mediaControl.options.actualLiveServerTime).getTime():t.actualLiveServerTimeDiff=0),t}t.default=m,e.exports=t.default},"./src/plugins/sources.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=c(n("./node_modules/babel-runtime/helpers/createClass.js")),i=c(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),a=c(n("./node_modules/babel-runtime/helpers/inherits.js")),s=c(n("./src/base/core_plugin.js")),l=c(n("./src/base/events.js"));function c(e){return e&&e.__esModule?e:{default:e}}var u,d=(u=s.default,(0,a.default)(p,u),p.prototype.bindEvents=function(){this.listenTo(this.core,l.default.CORE_CONTAINERS_CREATED,this.onContainersCreated)},p.prototype.onContainersCreated=function(){var t=this.core.containers.filter(function(e){return"no_op"!==e.playback.name})[0]||this.core.containers[0];t&&this.core.containers.forEach(function(e){e!==t&&e.destroy()})},(0,o.default)(p,[{key:"name",get:function(){return"sources"}}]),p);function p(){return(0,r.default)(this,p),(0,i.default)(this,u.apply(this,arguments))}t.default=d,e.exports=t.default},"./src/plugins/spinner_three_bounce/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/spinner_three_bounce/spinner_three_bounce.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/spinner_three_bounce/public/spinner.html":function(e,t){e.exports="<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\n"},"./src/plugins/spinner_three_bounce/public/spinner.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/spinner_three_bounce/public/spinner.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/spinner_three_bounce/spinner_three_bounce.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=d(n("./node_modules/babel-runtime/helpers/createClass.js")),a=d(n("./node_modules/babel-runtime/helpers/inherits.js")),s=d(n("./src/base/ui_container_plugin.js")),l=d(n("./src/base/events.js")),c=d(n("./src/base/template.js")),u=d(n("./src/plugins/spinner_three_bounce/public/spinner.html"));function d(e){return e&&e.__esModule?e:{default:e}}n("./src/plugins/spinner_three_bounce/public/spinner.scss");var p,h=(p=s.default,(0,a.default)(f,p),(0,i.default)(f,[{key:"name",get:function(){return"spinner"}},{key:"attributes",get:function(){return{"data-spinner":"",class:"spinner-three-bounce"}}}]),f.prototype.onBuffering=function(){this.show()},f.prototype.onBufferFull=function(){this.hide()},f.prototype.onStop=function(){this.hide()},f.prototype.show=function(){var e=this;null===this.showTimeout&&(this.showTimeout=setTimeout(function(){return e.$el.show()},300))},f.prototype.hide=function(){null!==this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null),this.$el.hide()},f.prototype.render=function(){return this.$el.html(this.template()),this.container.$el.append(this.$el),this.$el.hide(),this.container.buffering&&this.onBuffering(),this},f);function f(e){(0,r.default)(this,f);var t=(0,o.default)(this,p.call(this,e));return t.template=(0,c.default)(u.default),t.showTimeout=null,t.listenTo(t.container,l.default.CONTAINER_STATE_BUFFERING,t.onBuffering),t.listenTo(t.container,l.default.CONTAINER_STATE_BUFFERFULL,t.onBufferFull),t.listenTo(t.container,l.default.CONTAINER_STOP,t.onStop),t.listenTo(t.container,l.default.CONTAINER_ENDED,t.onStop),t.listenTo(t.container,l.default.CONTAINER_ERROR,t.onStop),t.render(),t}t.default=h,e.exports=t.default},"./src/plugins/stats/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/stats/stats.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/stats/stats.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=u(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=u(n("./node_modules/babel-runtime/helpers/createClass.js")),a=u(n("./node_modules/babel-runtime/helpers/inherits.js")),s=u(n("./src/base/container_plugin.js")),l=u(n("./src/base/events.js")),c=u(n("./node_modules/clappr-zepto/zepto.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d,p=(d=s.default,(0,a.default)(h,d),(0,i.default)(h,[{key:"name",get:function(){return"stats"}}]),h.prototype.bindEvents=function(){this.listenTo(this.container.playback,l.default.PLAYBACK_PLAY,this.onPlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.default.CONTAINER_ENDED,this.onStop),this.listenTo(this.container,l.default.CONTAINER_DESTROYED,this.onStop),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,l.default.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,l.default.CONTAINER_STATS_ADD,this.onStatsAdd),this.listenTo(this.container,l.default.CONTAINER_BITRATE,this.onStatsAdd),this.listenTo(this.container.playback,l.default.PLAYBACK_STATS_ADD,this.onStatsAdd)},h.prototype.setInitialAttrs=function(){this.firstPlay=!0,this.startupTime=0,this.rebufferingTime=0,this.watchingTime=0,this.rebuffers=0,this.externalMetrics={}},h.prototype.onPlay=function(){this.state="PLAYING",this.watchingTimeInit=Date.now(),this.intervalId||(this.intervalId=setInterval(this.report.bind(this),this.reportInterval))},h.prototype.onStop=function(){clearInterval(this.intervalId),this.report(),this.intervalId=void 0,this.state="STOPPED"},h.prototype.onBuffering=function(){this.firstPlay?this.startupTimeInit=Date.now():this.rebufferingTimeInit=Date.now(),this.state="BUFFERING",this.rebuffers++},h.prototype.onBufferFull=function(){this.firstPlay&&this.startupTimeInit?(this.firstPlay=!1,this.startupTime=Date.now()-this.startupTimeInit,this.watchingTimeInit=Date.now()):this.rebufferingTimeInit&&(this.rebufferingTime+=this.getRebufferingTime()),this.rebufferingTimeInit=void 0,this.state="PLAYING"},h.prototype.getRebufferingTime=function(){return Date.now()-this.rebufferingTimeInit},h.prototype.getWatchingTime=function(){return Date.now()-this.watchingTimeInit-this.rebufferingTime},h.prototype.isRebuffering=function(){return!!this.rebufferingTimeInit},h.prototype.onStatsAdd=function(e){c.default.extend(this.externalMetrics,e)},h.prototype.getStats=function(){var e={startupTime:this.startupTime,rebuffers:this.rebuffers,rebufferingTime:this.isRebuffering()?this.rebufferingTime+this.getRebufferingTime():this.rebufferingTime,watchingTime:this.isRebuffering()?this.getWatchingTime()-this.getRebufferingTime():this.getWatchingTime()};return c.default.extend(e,this.externalMetrics),e},h.prototype.report=function(){this.container.statsReport(this.getStats())},h);function h(e){(0,r.default)(this,h);var t=(0,o.default)(this,d.call(this,e));return t.setInitialAttrs(),t.reportInterval=t.options.reportInterval||5e3,t.state="IDLE",t}t.default=p,e.exports=t.default},"./src/plugins/strings.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=u(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=u(n("./node_modules/babel-runtime/helpers/createClass.js")),a=u(n("./node_modules/babel-runtime/helpers/inherits.js")),s=n("./src/base/utils.js"),l=u(n("./node_modules/clappr-zepto/zepto.js")),c=u(n("./src/base/core_plugin.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d,p=(d=c.default,(0,a.default)(h,d),(0,i.default)(h,[{key:"name",get:function(){return"strings"}}]),h.prototype.t=function(e){var t=this._language(),n=this._messages.en;return(t&&this._messages[t]||n)[e]||n[e]||e},h.prototype._language=function(){return this.core.options.language||(0,s.getBrowserLanguage)()},h.prototype._initializeMessages=function(){this._messages=l.default.extend(!0,{en:{live:"live",back_to_live:"back to live",disabled:"Disabled",playback_not_supported:"Your browser does not support the playback of this video. Please try using a different browser.",default_error_title:"Could not play video.",default_error_message:"There was a problem trying to load the video."},pt:{live:"ao vivo",back_to_live:"voltar para o ao vivo",disabled:"Desativado",playback_not_supported:"Seu navegador no supporta a reproduo deste video. Por favor, tente usar um navegador diferente.",default_error_title:"No foi possvel reproduzir o vdeo.",default_error_message:"Ocorreu um problema ao tentar carregar o vdeo."},es:{live:"vivo",back_to_live:"volver en vivo",disabled:"Discapacitado",playback_not_supported:"Su navegador no soporta la reproduccin de un video. Por favor, trate de usar un navegador diferente."},ru:{live:" ",back_to_live:"  ",disabled:"",playback_not_supported:"      . ,   ."},fr:{live:"en direct",back_to_live:"retour au direct",disabled:"Dsactiv",playback_not_supported:"Votre navigateur ne supporte pas la lecture de cette vido. Merci de tenter sur un autre navigateur.",default_error_title:"Impossible de lire la vido.",default_error_message:"Un problme est survenu lors du chargement de la vido."},tr:{live:"canl",back_to_live:"canl yayna dn",disabled:"Engelli",playback_not_supported:"Taraycnz bu videoyu oynatma desteine sahip deil. Ltfen farkl bir tarayc ile deneyin."},et:{live:"Otselekanne",back_to_live:"Tagasi otselekande juurde",disabled:"Keelatud",playback_not_supported:"Teie brauser ei toeta selle video taasesitust. Proovige kasutada muud brauserit."},ar:{live:"",back_to_live:"  ",disabled:"",playback_not_supported:"       .    .",default_error_title:"   .",default_error_message:"    ."}},this.core.options.strings||{}),this._messages["pt-BR"]=this._messages.pt,this._messages["en-US"]=this._messages.en,this._messages["es-419"]=this._messages.es,this._messages["fr-FR"]=this._messages.fr,this._messages["tr-TR"]=this._messages.tr,this._messages["et-EE"]=this._messages.et,this._messages["ar-IQ"]=this._messages.ar},h);function h(e){(0,r.default)(this,h);var t=(0,o.default)(this,d.call(this,e));return t._initializeMessages(),t}t.default=p,e.exports=t.default},"./src/plugins/watermark/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/plugins/watermark/watermark.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},"./src/plugins/watermark/public/watermark.html":function(e,t){e.exports='<div class="clappr-watermark" data-watermark data-watermark-<%=position %>>\n<% if(typeof imageLink !== \'undefined\') { %>\n<a target=_blank href="<%= imageLink %>">\n<% } %>\n<img src="<%= imageUrl %>">\n<% if(typeof imageLink !== \'undefined\') { %>\n</a>\n<% } %>\n</div>\n'},"./src/plugins/watermark/public/watermark.scss":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/lib/index.js!./node_modules/sass-loader/lib/loader.js?includePaths[]=/Users/mdg/Source/clappr/src/base/scss!./src/plugins/watermark/public/watermark.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/plugins/watermark/watermark.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("./node_modules/babel-runtime/helpers/classCallCheck.js")),o=d(n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js")),i=d(n("./node_modules/babel-runtime/helpers/createClass.js")),a=d(n("./node_modules/babel-runtime/helpers/inherits.js")),s=d(n("./src/base/ui_container_plugin.js")),l=d(n("./src/base/events.js")),c=d(n("./src/base/template.js")),u=d(n("./src/plugins/watermark/public/watermark.html"));function d(e){return e&&e.__esModule?e:{default:e}}n("./src/plugins/watermark/public/watermark.scss");var p,h=(p=s.default,(0,a.default)(f,p),(0,i.default)(f,[{key:"name",get:function(){return"watermark"}},{key:"template",get:function(){return(0,c.default)(u.default)}}]),f.prototype.bindEvents=function(){this.listenTo(this.container,l.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,l.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.default.CONTAINER_OPTIONS_CHANGE,this.configure)},f.prototype.configure=function(){this.position=this.options.position||"bottom-right",this.options.watermark?(this.imageUrl=this.options.watermark,this.imageLink=this.options.watermarkLink,this.render()):this.$el.remove()},f.prototype.onPlay=function(){this.hidden||this.$el.show()},f.prototype.onStop=function(){this.$el.hide()},f.prototype.render=function(){this.$el.hide();var e={position:this.position,imageUrl:this.imageUrl,imageLink:this.imageLink};return this.$el.html(this.template(e)),this.container.$el.append(this.$el),this},f);function f(e){(0,r.default)(this,f);var t=(0,o.default)(this,p.call(this,e));return t.configure(),t}t.default=h,e.exports=t.default},"./src/vendor/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/vendor/kibo.js"),i=(r=o)&&r.__esModule?r:{default:r};t.default={Kibo:i.default},e.exports=t.default},"./src/vendor/kibo.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function s(e){this.element=e||window.document,this.initialize()}s.KEY_NAMES_BY_CODE={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"caps_lock",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},s.KEY_CODES_BY_NAME={},function(){for(var e in s.KEY_NAMES_BY_CODE)Object.prototype.hasOwnProperty.call(s.KEY_NAMES_BY_CODE,e)&&(s.KEY_CODES_BY_NAME[s.KEY_NAMES_BY_CODE[e]]=+e)}(),s.MODIFIERS=["shift","ctrl","alt"],s.registerEvent=document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:document.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0,s.unregisterEvent=document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:document.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0,s.stringContains=function(e,t){return-1!==e.indexOf(t)},s.neatString=function(e){return e.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},s.capitalize=function(e){return e.toLowerCase().replace(/^./,function(e){return e.toUpperCase()})},s.isString=function(e){return s.stringContains(Object.prototype.toString.call(e),"String")},s.arrayIncludes=Array.prototype.indexOf?function(e,t){return-1!==e.indexOf(t)}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},s.extractModifiers=function(e){var t,n;for(t=[],n=0;n<s.MODIFIERS.length;n++)s.stringContains(e,s.MODIFIERS[n])&&t.push(s.MODIFIERS[n]);return t},s.extractKey=function(e){var t,n;for(t=s.neatString(e).split(" "),n=0;n<t.length;n++)if(!s.arrayIncludes(s.MODIFIERS,t[n]))return t[n]},s.modifiersAndKey=function(e){var t,n;return s.stringContains(e,"any")?s.neatString(e).split(" ").slice(0,2).join(" "):(t=s.extractModifiers(e),(n=s.extractKey(e))&&!s.arrayIncludes(s.MODIFIERS,n)&&t.push(n),t.join(" "))},s.keyName=function(e){return s.KEY_NAMES_BY_CODE[e+""]},s.keyCode=function(e){return+s.KEY_CODES_BY_NAME[e]},s.prototype.initialize=function(){var e,t=this;for(this.lastKeyCode=-1,this.lastModifiers={},e=0;e<s.MODIFIERS.length;e++)this.lastModifiers[s.MODIFIERS[e]]=!1;this.keysDown={any:[]},this.keysUp={any:[]},this.downHandler=this.handler("down"),this.upHandler=this.handler("up"),s.registerEvent(this.element,"keydown",this.downHandler),s.registerEvent(this.element,"keyup",this.upHandler),s.registerEvent(window,"unload",function e(){s.unregisterEvent(t.element,"keydown",t.downHandler),s.unregisterEvent(t.element,"keyup",t.upHandler),s.unregisterEvent(window,"unload",e)})},s.prototype.handler=function(o){var i=this;return function(e){var t,n,r;for(e=e||window.event,i.lastKeyCode=e.keyCode,t=0;t<s.MODIFIERS.length;t++)i.lastModifiers[s.MODIFIERS[t]]=e[s.MODIFIERS[t]+"Key"];for(s.arrayIncludes(s.MODIFIERS,s.keyName(i.lastKeyCode))&&(i.lastModifiers[s.keyName(i.lastKeyCode)]=!0),n=i["keys"+s.capitalize(o)],t=0;t<n.any.length;t++)!1===n.any[t](e)&&e.preventDefault&&e.preventDefault();if(n[r=i.lastModifiersAndKey()])for(t=0;t<n[r].length;t++)!1===n[r][t](e)&&e.preventDefault&&e.preventDefault()}},s.prototype.registerKeys=function(e,t,n){var r,o,i=this["keys"+s.capitalize(e)];for(s.isString(t)&&(t=[t]),r=0;r<t.length;r++)o=t[r],i[o=s.modifiersAndKey(o+"")]?i[o].push(n):i[o]=[n];return this},s.prototype.unregisterKeys=function(e,t,n){var r,o,i,a=this["keys"+s.capitalize(e)];for(s.isString(t)&&(t=[t]),r=0;r<t.length;r++)if(i=t[r],i=s.modifiersAndKey(i+""),null===n)delete a[i];else if(a[i])for(o=0;o<a[i].length;o++)if(String(a[i][o])===String(n)){a[i].splice(o,1);break}return this},s.prototype.off=function(e){return this.unregisterKeys("down",e,null)},s.prototype.delegate=function(e,t,n){return null!==n||void 0!==n?this.registerKeys(e,t,n):this.unregisterKeys(e,t,n)},s.prototype.down=function(e,t){return this.delegate("down",e,t)},s.prototype.up=function(e,t){return this.delegate("up",e,t)},s.prototype.lastKey=function(e){return e?this.lastModifiers[e]:s.keyName(this.lastKeyCode)},s.prototype.lastModifiersAndKey=function(){var e,t;for(e=[],t=0;t<s.MODIFIERS.length;t++)this.lastKey(s.MODIFIERS[t])&&e.push(s.MODIFIERS[t]);return s.arrayIncludes(e,this.lastKey())||e.push(this.lastKey()),e.join(" ")},t.default=s,e.exports=t.default}},gg.c=fg,gg.d=function(e,t,n){gg.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},gg.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},gg.t=function(t,e){if(1&e&&(t=gg(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(gg.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)gg.d(n,r,function(e){return t[e]}.bind(null,r));return n},gg.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return gg.d(t,"a",t),t},gg.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},gg.p="dist/",gg(gg.s="./src/main.js");function gg(e){if(fg[e])return fg[e].exports;var t=fg[e]={i:e,l:!1,exports:{}};return eg[e].call(t.exports,t,t.exports,gg),t.l=!0,t.exports}var eg,fg},$f.exports=dg()},function(e,t,n){"use strict";var r=n(1);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=["bvxe7mo9gomf9gyelsea"],a={_shared:{version:"3.13.28",gaTrackerName:"__boxcastGA",gaTrackerCode:"UA-15394876-4",defaultSocialShareThumb:"https://dashboard.boxcast.com/img/boxcast_social_play_square.png",playlistPageSize:5,peer5Key:"3txz0hqtn5bmk4qkgktk",googleMapsAPIKey:"AIzaSyCrs_AAbiu1dAJDyE73l6-uZh5TPo3de7c",stripeElementsOptions:{hidePostalCode:!0}},localhost:{apiRoot:"http://localhost:3000",assetBase:"http://localhost:8080/build",metricsUrl:"http://localhost:8080/dev/null",iframeUrl:"http://localhost:8000/embed.html#",ticketPurchaseUrl:"http://localhost:8000/channel",stripeKey:"n/a",previewSeconds:10,previewBufferSize:5,purchasedBufferSize:5,allowNonSSLCheckout:!1,socialShareUrlPrefix:"https://dev.boxcast.tv",geoServiceUrl:"https://geo.dev.boxcast.com/json/",chromecastReceiverAppID:"C0565D00",blockedAccountIDs:i},test:{apiRoot:"https://api.dev.boxcast.com",assetBase:"http://localhost:8080/build",metricsUrl:"http://localhost:8080/dev/null",iframeUrl:"https://dev.boxcast.tv/embed.html#",ticketPurchaseUrl:"http://localhost:8000/channel",stripeKey:"n/a",previewSeconds:10,previewBufferSize:5,purchasedBufferSize:5,allowNonSSLCheckout:!1,socialShareUrlPrefix:"https://dev.boxcast.tv",geoServiceUrl:"https://geo.dev.boxcast.com/json/",chromecastReceiverAppID:"313DB1A5",blockedAccountIDs:i},dev:{apiRoot:"https://api.dev.boxcast.com",assetBase:"https://js.dev.boxcast.com/latest",metricsUrl:"https://metrics.dev.boxcast.com/player/interaction",iframeUrl:"https://dev.boxcast.tv/embed.html#",ticketPurchaseUrl:"https://dev.boxcast.tv/channel",stripeKey:"pk_test_jJXNd6tHTMtwyQWWHE4lGQvJ",previewSeconds:10,previewBufferSize:25,purchasedBufferSize:50,allowNonSSLCheckout:!0,socialShareUrlPrefix:"https://dev.boxcast.tv",geoServiceUrl:"https://geo.dev.boxcast.com/json/",chromecastReceiverAppID:"313DB1A5",blockedAccountIDs:i},prod:{apiRoot:"https://api.boxcast.com",assetBase:"https://js.boxcast.com/".concat("3.13.28"),metricsUrl:"https://metrics.boxcast.com/player/interaction",iframeUrl:"https://boxcast.tv/embed.html#",ticketPurchaseUrl:"https://boxcast.tv/channel",stripeKey:"pk_live_UJ0NcpFDJTsAbVzzYkcohioj",previewSeconds:90,previewBufferSize:25,purchasedBufferSize:50,allowNonSSLCheckout:!1,socialShareUrlPrefix:"https://boxcast.tv",geoServiceUrl:"https://geo.boxcast.com/json/",chromecastReceiverAppID:"6FCDEF76",blockedAccountIDs:i}};function s(e){return e&&void 0!==a[e]?r.Util.mergeDict(a._shared,a[e]):r.Util.mergeDict(a._shared,a.prod)}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dict={},this._seeded=!1}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"get",value:function(e){return this._seeded||this.seed(null),this.dict[e]}},{key:"seed",value:function(e){(e=e||{}).env||(e.env=this.dict.env),this.dict=r.Util.mergeDict(s(e.env),e),this._seeded=!0}},{key:"add",value:function(e,t){this._seeded||this.seed(null),this.dict[e]=t}},{key:"factory",value:function(e){var t=s(e);return function(e){return t[e]}}}]),e}();t.a=new l},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){(function(Q,x,c){e.exports=function i(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof _dereq_&&_dereq_;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,s,l)}return s[n].exports}for(var u="function"==typeof _dereq_&&_dereq_,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new r(e),n=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),n}var r=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l}function o(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function i(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var l=e("./schedule"),c=e("./queue"),u=e("./util");r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(Q.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),Q.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},r.prototype.settlePromises=u.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=o,r.prototype.invoke=i,a),r.prototype._drainQueue=function(e){for(;0<e.length();){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(i,a,s,l){var c=!1,n=function(e,t){this._reject(t)},u=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(n,n,null,this,e)},d=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},p=function(e,t){t.promiseRejectionQueued||this._reject(e)};i.prototype.bind=function(e){c||(c=!0,i.prototype._propagateFrom=l.propagateFromFunction(),i.prototype._boundValue=l.boundValueFunction());var t=s(e),n=new i(a);n._propagateFrom(this,1);var r=this._target();if(n._setBoundTo(t),t instanceof i){var o={promiseRejectionQueued:!1,promise:n,target:r,bindingPromise:t};r._then(a,u,void 0,n,o),t._then(d,p,void 0,n,o),n._setOnCancel(t)}else n._resolveCallback(r);return n},i.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},i.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},i.bind=function(e,t){return i.resolve(t).bind(e)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var o=e("./promise")();o.noConflict=function(){try{Promise===o&&(Promise=r)}catch(e){}return o},t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var o=r(null),i=r(null);o[" size"]=i[" size"]=0}t.exports=function(o){function n(e){var t=this.pop(),n=function(e,t){var n;if(null!=e&&(n=e[t]),"function"==typeof n)return n;var r="Object "+s.classString(e)+" has no method '"+s.toString(t)+"'";throw new o.TypeError(r)}(e,t);return n.apply(e,this)}function i(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var s=e("./util"),l=s.canEvaluate;s.isIdentifier,o.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(n,void 0,void 0,t,void 0)},o.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=a;else if(l){var r=(void 0)(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(l,e,t){"use strict";e.exports=function(e,t,n,r){var o=l("./util"),i=o.tryCatch,a=o.errorObj,s=e._async;e.prototype.break=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=i(e).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),s.throwLater(r.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(d){var p=e("./util"),h=e("./es5").keys,f=p.tryCatch,m=p.errorObj;return function(l,c,u){return function(e){var t=u._boundValue();e:for(var n=0;n<l.length;++n){var r=l[n];if(r===Error||null!=r&&r.prototype instanceof Error){if(e instanceof r)return f(c).call(t,e)}else if("function"==typeof r){var o=f(r).call(t,e);if(o===m)return o;if(o)return f(c).call(t,e)}else if(p.isObject(e)){for(var i=h(r),a=0;a<i.length;++a){var s=i[a];if(r[s]!=e[s])continue e}return f(c).call(t,e)}}return d}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(i){function a(){this._trace=new a.CapturedTrace(s())}function s(){var e=n.length-1;return 0<=e?n[e]:void 0}var l=!1,n=[];return i.prototype._promiseCreated=function(){},i.prototype._pushContext=function(){},i.prototype._popContext=function(){return null},i._peekContext=i.prototype._peekContext=function(){},a.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},a.prototype._popContext=function(){if(void 0===this._trace)return null;var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t},a.CapturedTrace=null,a.create=function(){return l?new a:void 0},a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var e=i.prototype._pushContext,t=i.prototype._popContext,n=i._peekContext,r=i.prototype._peekContext,o=i.prototype._promiseCreated;a.deactivateLongStackTraces=function(){i.prototype._pushContext=e,i.prototype._popContext=t,i._peekContext=n,i.prototype._peekContext=r,i.prototype._promiseCreated=o,l=!1},l=!0,i.prototype._pushContext=a.prototype._pushContext,i.prototype._popContext=a.prototype._popContext,i._peekContext=i.prototype._peekContext=s,i.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},a}},{}],9:[function(X,e,t){"use strict";e.exports=function(a,n){function e(e,t){return{promise:t}}function r(){return!1}function o(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+C.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function i(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?C.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function l(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(e,t){if(0!=(1&t)){var n=(this._cancellationParent=e)._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function t(){var e=this._boundTo;return void 0!==e&&e instanceof a?e.isFulfilled()?e.value():void 0:e}function d(){this._trace=new A(this._peekContext())}function p(e,t){if(P(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=m(e);C.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),C.notEnumerableProp(e,"__stackCleaned__",!0)}}}function h(e,t,n){if(q.warnings){var r,o=new S(e);if(t)n._attachExtraTrace(o);else if(q.longStackTraces&&(r=a._peekContext()))r.attachExtraTrace(o);else{var i=m(o);o.stack=i.message+"\n"+i.stack.join("\n")}K("warning",o)||g(o,"",!0)}}function f(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],o="    (No stack trace)"===r||L.test(r),i=o&&W(r);o&&!i&&(D&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function m(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&0<t.length?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||L.test(r))break}return 0<n&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:f(t)}}function g(e,t,n){if("undefined"!=typeof console){var r;if(C.isObject(e)){var o=e.stack;r=t+I(o,e)}else r=t+String(e);"function"==typeof x?x(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function y(e,t,n,r){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){w.throwLater(e)}"unhandledRejection"===e?K(e,n,r)||o||g(n,"Unhandled rejection "):K(e,r)}function v(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():C.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var n=JSON.stringify(e);t=n}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function b(){return"function"==typeof $}function _(e){var t=e.match(Y);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}function A(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);$(this,A),32<t&&this.uncycle()}var E,k,x,T=a._getDomain,w=a._async,S=X("./errors").Warning,C=X("./util"),P=C.canAttachTrace,j=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,O=/\((?:timers\.js):\d+:\d+\)/,R=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,L=null,I=null,D=!1,M=!(0==C.env("BLUEBIRD_DEBUG")||!C.env("BLUEBIRD_DEBUG")&&"development"!==C.env("NODE_ENV")),N=!(0==C.env("BLUEBIRD_WARNINGS")||!M&&!C.env("BLUEBIRD_WARNINGS")),F=!(0==C.env("BLUEBIRD_LONG_STACK_TRACES")||!M&&!C.env("BLUEBIRD_LONG_STACK_TRACES")),B=0!=C.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(N||!!C.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},a.prototype._notifyUnhandledRejectionIsHandled=function(){y("rejectionHandled",E,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),y("unhandledRejection",k,e,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},a.prototype._warn=function(e,t,n){return h(e,t,n||this)},a.onPossiblyUnhandledRejection=function(e){var t=T();k="function"==typeof e?null===t?e:C.domainBind(t,e):void 0},a.onUnhandledRejectionHandled=function(e){var t=T();E="function"==typeof e?null===t?e:C.domainBind(t,e):void 0};var U=function(){};a.longStackTraces=function(){if(w.haveItemsQueued()&&!q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!q.longStackTraces&&b()){var e=a.prototype._captureStackTrace,t=a.prototype._attachExtraTrace;q.longStackTraces=!0,U=function(){if(w.haveItemsQueued()&&!q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");a.prototype._captureStackTrace=e,a.prototype._attachExtraTrace=t,n.deactivateLongStackTraces(),w.enableTrampoline(),q.longStackTraces=!1},a.prototype._captureStackTrace=d,a.prototype._attachExtraTrace=p,n.activateLongStackTraces(),w.disableTrampolineIfNecessary()}},a.hasLongStackTraces=function(){return q.longStackTraces&&b()};var H=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return C.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!C.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return C.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!C.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),C.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!C.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),V=C.isNode?function(){return Q.emit.apply(Q,arguments)}:C.global?function(e){var t="on"+e.toLowerCase(),n=C.global[t];return!!n&&(n.apply(C.global,[].slice.call(arguments,1)),!0)}:function(){return!1},G={promiseCreated:e,promiseFulfilled:e,promiseRejected:e,promiseResolved:e,promiseCancelled:e,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:e},K=function(e){var t=!1;try{t=V.apply(null,arguments)}catch(e){w.throwLater(e),t=!0}var n=!1;try{n=H(e,G[e].apply(null,arguments))}catch(e){w.throwLater(e),n=!0}return n||t};a.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?a.longStackTraces():!e.longStackTraces&&a.hasLongStackTraces()&&U()),"warnings"in e){var t=e.warnings;q.warnings=!!t,B=q.warnings,C.isObject(t)&&"wForgottenReturn"in t&&(B=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!q.cancellation){if(w.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=c,a.prototype._propagateFrom=u,a.prototype._onCancel=s,a.prototype._setOnCancel=l,a.prototype._attachCancellationCallback=i,a.prototype._execute=o,z=u,q.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!q.monitoring?(q.monitoring=!0,a.prototype._fireEvent=K):!e.monitoring&&q.monitoring&&(q.monitoring=!1,a.prototype._fireEvent=r)),a},a.prototype._fireEvent=r,a.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(e){},a.prototype._attachCancellationCallback=function(e){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(e,t){};var z=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},W=function(){return!1},Y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;C.inherits(A,Error),(n.CapturedTrace=A).prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,o=this;void 0!==o;++r)t.push(o),o=o._parent;for(var r=(e=this._length=r)-1;0<=r;--r){var i=t[r].stack;void 0===n[i]&&(n[i]=r)}for(var r=0;r<e;++r){var a=t[r].stack,s=n[a];if(void 0!==s&&s!==r){0<s&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var l=0<r?t[r-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=r-2;0<=u;--u)t[u]._length=c,c++;return}}}},A.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=m(e),n=t.message,r=[t.stack],o=this;void 0!==o;)r.push(f(o.stack.split("\n"))),o=o._parent;(function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],o=t.length-1,i=t[o],a=-1,s=r.length-1;0<=s;--s)if(r[s]===i){a=s;break}for(s=a;0<=s;--s){var l=r[s];if(t[o]!==l)break;t.pop(),o--}t=r}})(r),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(r),C.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,r)),C.notEnumerableProp(e,"__stackCleaned__",!0)}};var $=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():v(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,L=e,I=t;var n=Error.captureStackTrace;return W=function(e){return j.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,o=new Error;if("string"==typeof o.stack&&0<=o.stack.split("\n")[0].indexOf("stackDetection@"))return L=/@/,I=t,D=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in o||!r||"number"!=typeof Error.stackTraceLimit?(I=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?v(t):t.toString()},null):(L=e,I=t,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(x=function(e){console.warn(e)},C.isNode&&Q.stderr.isTTY?x=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:C.isNode||"string"!=typeof(new Error).stack||(x=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var q={warnings:N,longStackTraces:!1,cancellation:!1,monitoring:!1};return F&&a.longStackTraces(),{longStackTraces:function(){return q.longStackTraces},warnings:function(){return q.warnings},cancellation:function(){return q.cancellation},monitoring:function(){return q.monitoring},propagateFromFunction:function(){return z},boundValueFunction:function(){return t},checkForgottenReturns:function(e,t,n,r,o){if(void 0===e&&null!==t&&B){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var i="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=f(s),c=l.length-1;0<=c;--c){var u=l[c];if(!O.test(u)){var d=u.match(R);d&&(i="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(0<l.length){var p=l[0];for(c=0;c<s.length;++c)if(s[c]===p){0<c&&(a="\n"+s[c-1]);break}}}var h="a promise was created in a "+n+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,t)}},setBounds:function(e,t){if(b()){for(var n,r,o=e.stack.split("\n"),i=t.stack.split("\n"),a=-1,s=-1,l=0;l<o.length;++l)if(c=_(o[l])){n=c.fileName,a=c.line;break}for(l=0;l<i.length;++l){var c;if(c=_(i[l])){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||s<=a||(W=function(e){if(j.test(e))return!0;var t=_(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:h,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),h(n)},CapturedTrace:A,fireDomEvent:H,fireGlobalEvent:V}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(n){function r(){return this.value}function o(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(e){return e instanceof n&&e.suppressUnhandledRejections(),this._then(r,void 0,void 0,{value:e},void 0)},n.prototype.throw=n.prototype.thenThrow=function(e){return this._then(o,void 0,void 0,{reason:e},void 0)},n.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,o,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},n.prototype.catchReturn=function(e){if(arguments.length<=1)return e instanceof n&&e.suppressUnhandledRejections(),this._then(void 0,r,void 0,{value:e},void 0);var t=arguments[1];return t instanceof n&&t.suppressUnhandledRejections(),this.caught(e,function(){return t})}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,n){function r(){return t(this)}var o=e.reduce,t=e.all;e.prototype.each=function(e){return o(this,e,n,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return o(this,e,n,n)},e.each=function(e,t){return o(e,t,n,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,t){return o(e,t,n,n)}}},{}],12:[function(e,t,n){"use strict";function r(t,n){function r(e){return this instanceof r?(d(this,"message","string"==typeof e?e:n),d(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new r(e)}return u(r,Error),r}function o(e){return this instanceof o?(d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new o(e)}var i,a,s=e("./es5"),l=s.freeze,c=e("./util"),u=c.inherits,d=c.notEnumerableProp,p=r("Warning","warning"),h=r("CancellationError","cancellation error"),f=r("TimeoutError","timeout error"),m=r("AggregateError","aggregate error");try{i=TypeError,a=RangeError}catch(e){i=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(m.prototype[g[y]]=Array.prototype[g[y]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var v=0;m.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",o=r.split("\n"),i=0;i<o.length;++i)o[i]=e+o[i];r=o.join("\n"),t+=r+"\n"}return v--,t},u(o,Error);var b=Error.__BluebirdErrorTypes__;b||(b=l({CancellationError:h,TimeoutError:f,OperationalError:o,RejectionError:o,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:i,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var o={}.hasOwnProperty,i={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===i.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,r){var o=e.map;e.prototype.filter=function(e,t){return o(this,e,t,r)},e.filter=function(e,t,n){return o(e,t,n,r)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(s,a,l){function o(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function c(e){this.finallyHandler=e}function u(e,t){return null!=e.cancelPromise&&(1<arguments.length?e.cancelPromise._reject(t):e.cancelPromise._cancel(),!(e.cancelPromise=null))}function d(){return h.call(this,this.promise._target()._settledValue())}function p(e){return u(this,e)?void 0:(g.e=e,g)}function h(e){var t=this.promise,n=this.handler;if(!this.called){this.called=!0;var r=this.isFinallyHandler()?n.call(t._boundValue()):n.call(t._boundValue(),e);if(r===l)return r;if(void 0!==r){t._setReturnedNonUndefined();var o=a(r,t);if(o instanceof s){if(null!=this.cancelPromise){if(o._isCancelled()){var i=new m("late cancellation observer");return t._attachExtraTrace(i),g.e=i,g}o.isPending()&&o._attachCancellationCallback(new c(this))}return o._then(d,p,void 0,this,void 0)}}}return t.isRejected()?(u(this),g.e=e,g):(u(this),e)}var f=e("./util"),m=s.CancellationError,g=f.errorObj,y=e("./catch_filter")(l);return o.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){u(this.finallyHandler)},s.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new o(this,t,e),void 0)},s.prototype.lastly=s.prototype.finally=function(e){return this._passThrough(e,0,h,h)},s.prototype.tap=function(e){return this._passThrough(e,1,h)},s.prototype.tapCatch=function(e){var t=arguments.length;if(1===t)return this._passThrough(e,1,void 0,h);var n,r=new Array(t-1),o=0;for(n=0;n<t-1;++n){var i=arguments[n];if(!f.isObject(i))return s.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+f.classString(i)));r[o++]=i}r.length=o;var a=arguments[n];return this._passThrough(y(r,a,this),1,void 0,h)},o}},{"./catch_filter":7,"./util":36}],16:[function(o,e,t){"use strict";e.exports=function(s,r,l,c,e,u){function d(e,t,n,r){if(u.cancellation()){var o=new s(l),i=this._finallyPromise=new s(l);this._promise=o.lastly(function(){return i}),o._captureStackTrace(),o._setOnCancel(this)}else{var a=this._promise=new s(l);a._captureStackTrace()}this._stack=r,this._generatorFunction=e,this._receiver=t,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(m):m,this._yieldedPromise=null,this._cancellationPhase=!1}var t=o("./errors"),p=t.TypeError,n=o("./util"),h=n.errorObj,f=n.tryCatch,m=[];n.inherits(d,e),d.prototype._isResolved=function(){return null===this._promise},d.prototype._cleanup=function(){this._promise=this._generator=null,u.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},d.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,t=void 0!==this._generator.return;if(t)this._promise._pushContext(),e=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=f(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},d.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=f(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=f(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},d.prototype._continue=function(e){var t=this._promise;if(e===h)return this._cleanup(),this._cancellationPhase?t.cancel():t._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?t.cancel():t._resolveCallback(n);var r=c(n,this._promise);if(r instanceof s||null!==(r=function(e,t,n){for(var r=0;r<t.length;++r){n._pushContext();var o=f(t[r])(e);if(n._popContext(),o===h){n._pushContext();var i=s.reject(h.e);return n._popContext(),i}var a=c(o,n);if(a instanceof s)return a}return null}(r,this._yieldHandlers,this._promise))){var o=(r=r._target())._bitField;0==(50397184&o)?(this._yieldedPromise=r)._proxy(this,null):0!=(33554432&o)?s._async.invoke(this._promiseFulfilled,this,r._value()):0!=(16777216&o)?s._async.invoke(this._promiseRejected,this,r._reason()):this._promiseCancelled()}else this._promiseRejected(new p("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},s.coroutine=function(r,e){if("function"!=typeof r)throw new p("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var o=Object(e).yieldHandler,i=d,a=(new Error).stack;return function(){var e=r.apply(this,arguments),t=new i(void 0,void 0,o,a),n=t.promise();return t._generator=e,t._promiseFulfilled(void 0),n}},s.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new p("expecting a function but got "+n.classString(e));m.push(e)},s.spawn=function(e){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var t=new d(e,this),n=t.promise();return t._run(s.spawn),n}}},{"./errors":12,"./util":36}],17:[function(s,e,t){"use strict";e.exports=function(e,o,t,n,r,i){var a=s("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var e,t=arguments.length-1;0<t&&"function"==typeof arguments[t]&&(e=arguments[t]);var n=[].slice.call(arguments);e&&n.pop();var r=new o(n).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(f,e,i,m,a,g){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var o=l();this._callback=null===o?t:c.domainBind(o,t),this._preservedValues=r===a?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],u.invoke(this._asyncInit,this,void 0)}function o(e,t,n,r){if("function"!=typeof t)return i("expecting a function but got "+c.classString(t));var o=0;if(void 0!==n){if("object"!=typeof n||null===n)return f.reject(new TypeError("options argument must be an object but it is "+c.classString(n)));if("number"!=typeof n.concurrency)return f.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(n.concurrency)));o=n.concurrency}return o="number"==typeof o&&isFinite(o)&&1<=o?o:0,new s(e,t,o,r).promise()}var l=f._getDomain,c=t("./util"),y=c.tryCatch,v=c.errorObj,u=f._async;c.inherits(s,e),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,t){var n=this._values,r=this.length(),o=this._preservedValues,i=this._limit;if(t<0){if(n[t=-1*t-1]=e,1<=i&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=i&&this._inFlight>=i)return n[t]=e,this._queue.push(t),!1;null!==o&&(o[t]=e);var a=this._promise,s=this._callback,l=a._boundValue();a._pushContext();var c=y(s).call(l,e,t,r),u=a._popContext();if(g.checkForgottenReturns(c,u,null!==o?"Promise.filter":"Promise.map",a),c===v)return this._reject(c.e),!0;var d=m(c,this._promise);if(d instanceof f){var p=(d=d._target())._bitField;if(0==(50397184&p))return 1<=i&&this._inFlight++,(n[t]=d)._proxy(this,-1*(t+1)),!1;if(0==(33554432&p))return 0!=(16777216&p)?this._reject(d._reason()):this._cancel(),!0;c=d._value()}n[t]=c}var h=++this._totalResolved;return r<=h&&(null!==o?this._filter(n,o):this._resolve(n),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;0<e.length&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),o=0,i=0;i<n;++i)e[i]&&(r[o++]=t[i]);r.length=o,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},f.prototype.map=function(e,t){return o(this,e,t,null)},f.map=function(e,t,n,r){return o(e,t,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(a,s,e,l,c){var u=t("./util"),d=u.tryCatch;a.method=function(r){if("function"!=typeof r)throw new a.TypeError("expecting a function but got "+u.classString(r));return function(){var e=new a(s);e._captureStackTrace(),e._pushContext();var t=d(r).apply(this,arguments),n=e._popContext();return c.checkForgottenReturns(t,n,"Promise.method",e),e._resolveFromSyncValue(t),e}},a.attempt=a.try=function(e){if("function"!=typeof e)return l("expecting a function but got "+u.classString(e));var t,n=new a(s);if(n._captureStackTrace(),n._pushContext(),1<arguments.length){c.deprecated("calling Promise.try with more than 1 argument");var r=arguments[1],o=arguments[2];t=u.isArray(r)?d(e).apply(o,r):d(e).call(o,r)}else t=d(e)();var i=n._popContext();return c.checkForgottenReturns(t,i,"Promise.try",n),n._resolveFromSyncValue(t),n},a.prototype._resolveFromSyncValue=function(e){e===u.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function a(e){var t;if(function(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}(e)){(t=new l(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=c.keys(e),r=0;r<n.length;++r){var o=n[r];u.test(o)||(t[o]=e[o])}return t}return i.markAsOriginatingFromRejection(e),e}var i=e("./util"),s=i.maybeWrapAsError,r=e("./errors"),l=r.OperationalError,c=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=function(o,i){return function(e,t){if(null!==o){if(e){var n=a(s(e));o._attachExtraTrace(n),o._reject(n)}else if(i){var r=[].slice.call(arguments,1);o._fulfill(r)}else o._fulfill(t);o=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function r(e,t){if(!a.isArray(e))return o.call(this,e,t);var n=l(t).apply(this._boundValue(),[null].concat(e));n===c&&s.throwLater(n.e)}function o(e,t){var n=this._boundValue(),r=void 0===e?l(t).call(n,null):l(t).call(n,null,e);r===c&&s.throwLater(r.e)}function i(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var r=l(t).call(this._boundValue(),e);r===c&&s.throwLater(r.e)}var a=t("./util"),s=e._async,l=a.tryCatch,c=a.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var n=o;void 0!==t&&Object(t).spread&&(n=r),this._then(n,i,void 0,this,e)}return this}}},{"./util":36}],22:[function(j,O,e){"use strict";O.exports=function(){function s(){}function h(e){e!==v&&function(e,t){if(null==e||e.constructor!==h)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new d("expecting a function but got "+m.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function t(e){this.promise._resolveCallback(e)}function n(e){this.promise._rejectCallback(e,!1)}function e(e){var t=new h(v);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var f,l=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},c=function(){return new h.PromiseInspection(this._target())},a=function(e){return h.reject(new d(e))},u={},m=j("./util");f=m.isNode?function(){var e=Q.domain;return void 0===e&&(e=null),e}:function(){return null},m.notEnumerableProp(h,"_getDomain",f);var r=j("./es5"),o=j("./async"),g=new o;r.defineProperty(h,"_async",{value:g});var i=j("./errors"),d=h.TypeError=i.TypeError;h.RangeError=i.RangeError;var y=h.CancellationError=i.CancellationError;h.TimeoutError=i.TimeoutError,h.OperationalError=i.OperationalError,h.RejectionError=i.OperationalError,h.AggregateError=i.AggregateError;var v=function(){},p={},b={},_=j("./thenables")(h,v),A=j("./promise_array")(h,v,_,a,s),E=j("./context")(h),k=E.create,x=j("./debuggability")(h,E),T=(x.CapturedTrace,j("./finally")(h,_,b)),w=j("./catch_filter")(b),S=j("./nodeback"),C=m.errorObj,P=m.tryCatch;return h.prototype.toString=function(){return"[object Promise]"},h.prototype.caught=h.prototype.catch=function(e){var t=arguments.length;if(1<t){var n,r=new Array(t-1),o=0;for(n=0;n<t-1;++n){var i=arguments[n];if(!m.isObject(i))return a("Catch statement predicate: expecting an object but got "+m.classString(i));r[o++]=i}return r.length=o,e=arguments[n],this.then(void 0,w(r,e,this))}return this.then(void 0,e)},h.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)},h.prototype.then=function(e,t){if(x.warnings()&&0<arguments.length&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+m.classString(e);1<arguments.length&&(n+=", "+m.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},h.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},h.prototype.spread=function(e){return"function"!=typeof e?a("expecting a function but got "+m.classString(e)):this.all()._then(e,void 0,void 0,p,void 0)},h.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},h.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new A(this).promise()},h.prototype.error=function(e){return this.caught(m.originatesFromRejection,e)},h.getNewLibraryCopy=O.exports,h.is=function(e){return e instanceof h},h.fromNode=h.fromCallback=function(e){var t=new h(v);t._captureStackTrace();var n=1<arguments.length&&!!Object(arguments[1]).multiArgs,r=P(e)(S(t,n));return r===C&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},h.all=function(e){return new A(e).promise()},h.resolve=h.fulfilled=h.cast=function(e){var t=_(e);return t instanceof h||((t=new h(v))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},h.reject=h.rejected=function(e){var t=new h(v);return t._captureStackTrace(),t._rejectCallback(e,!0),t},h.setScheduler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+m.classString(e));return g.setScheduler(e)},h.prototype._then=function(e,t,n,r,o){var i=void 0!==o,a=i?o:new h(v),s=this._target(),l=s._bitField;i||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():s===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var c=f();if(0!=(50397184&l)){var u,d,p=s._settlePromiseCtx;0!=(33554432&l)?(d=s._rejectionHandler0,u=e):0!=(16777216&l)?(d=s._fulfillmentHandler0,u=t,s._unsetRejectionIsUnhandled()):(p=s._settlePromiseLateCancellationObserver,d=new y("late cancellation observer"),s._attachExtraTrace(d),u=t),g.invoke(p,s,{handler:null===c?u:"function"==typeof u&&m.domainBind(c,u),promise:a,receiver:r,value:d})}else s._addCallbacks(e,t,a,r,c);return a},h.prototype._length=function(){return 65535&this._bitField},h.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},h.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},h.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},h.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},h.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},h.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},h.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},h.prototype._isFinal=function(){return 0<(4194304&this._bitField)},h.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},h.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},h.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},h.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},h.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];return t===u?void 0:void 0===t&&this._isBound()?this._boundValue():t},h.prototype._promiseAt=function(e){return this[4*e-4+2]},h.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},h.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},h.prototype._boundValue=function(){},h.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,o=e._receiverAt(0);void 0===o&&(o=u),this._addCallbacks(t,n,r,o,null)},h.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),o=e._promiseAt(t),i=e._receiverAt(t);void 0===i&&(i=u),this._addCallbacks(n,r,o,i,null)},h.prototype._addCallbacks=function(e,t,n,r,o){var i=this._length();if(65531<=i&&(i=0,this._setLength(0)),0===i)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===o?e:m.domainBind(o,e)),"function"==typeof t&&(this._rejectionHandler0=null===o?t:m.domainBind(o,t));else{var a=4*i-4;this[2+a]=n,this[3+a]=r,"function"==typeof e&&(this[0+a]=null===o?e:m.domainBind(o,e)),"function"==typeof t&&(this[1+a]=null===o?t:m.domainBind(o,t))}return this._setLength(i+1),i},h.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},h.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=_(e,this);if(!(n instanceof h))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var o=r._bitField;if(0==(50397184&o)){var i=this._length();0<i&&r._migrateCallback0(this);for(var a=1;a<i;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var s=new y("late cancellation observer");r._attachExtraTrace(s),this._reject(s)}}},h.prototype._rejectCallback=function(e,t,n){var r=m.ensureErrorObject(e),o=r===e;if(!o&&!n&&x.warnings()){var i="a promise was rejected with a non-error: "+m.classString(e);this._warn(i,!0)}this._attachExtraTrace(r,!!t&&o),this._reject(e)},h.prototype._resolveFromExecutor=function(e){if(e!==v){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},h.prototype._settlePromiseFromHandler=function(e,t,n,r){var o=r._bitField;if(0==(65536&o)){var i;r._pushContext(),t===p?n&&"number"==typeof n.length?i=P(e).apply(this._boundValue(),n):(i=C).e=new d("cannot .spread() a non-array: "+m.classString(n)):i=P(e).call(t,n);var a=r._popContext();0==(65536&(o=r._bitField))&&(i===b?r._reject(n):i===C?r._rejectCallback(i.e,!1):(x.checkForgottenReturns(i,a,"",r,this),r._resolveCallback(i)))}},h.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},h.prototype._followee=function(){return this._rejectionHandler0},h.prototype._setFollowee=function(e){this._rejectionHandler0=e},h.prototype._settlePromise=function(e,t,n,r){var o=e instanceof h,i=this._bitField,a=0!=(134217728&i);0!=(65536&i)?(o&&e._invokeInternalOnCancel(),n instanceof T&&n.isFinallyHandler()?(n.cancelPromise=e,P(t).call(n,r)===C&&e._reject(C.e)):t===c?e._fulfill(c.call(n)):n instanceof s?n._promiseCancelled(e):o||e instanceof A?e._cancel():n.cancel()):"function"==typeof t?o?(a&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,r,e)):t.call(n,r,e):n instanceof s?n._isResolved()||(0!=(33554432&i)?n._promiseFulfilled(r,e):n._promiseRejected(r,e)):o&&(a&&e._setAsyncGuaranteed(),0!=(33554432&i)?e._fulfill(r):e._reject(r))},h.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,o=e.value;"function"==typeof t?n instanceof h?this._settlePromiseFromHandler(t,r,o,n):t.call(r,o,n):n instanceof h&&n._reject(o)},h.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},h.prototype._settlePromise0=function(e,t,n){var r=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,o,t)},h.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[2+t]=this[3+t]=this[0+t]=this[1+t]=void 0},h.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,0<(65535&t)&&(0!=(134217728&t)?this._settlePromises():g.settlePromises(this))}},h.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?g.fatalError(e,m.isNode):void(0<(65535&t)?g.settlePromises(this):this._ensurePossibleRejectionHandled())},h.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,t)}},h.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),o=this._promiseAt(n),i=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(o,r,i,t)}},h.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(0<t){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},h.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},h.defer=h.pending=function(){x.deprecated("Promise.defer","new Promise");var e=new h(v);return{promise:e,resolve:t,reject:n}},m.notEnumerableProp(h,"_makeSelfResolutionError",l),j("./method")(h,v,_,a,x),j("./bind")(h,v,_,x),j("./cancel")(h,A,a,x),j("./direct_resolve")(h),j("./synchronous_inspection")(h),j("./join")(h,A,_,v,g,f),(h.Promise=h).version="3.5.1",j("./map.js")(h,A,a,_,v,x),j("./call_get.js")(h),j("./using.js")(h,a,_,k,v,x),j("./timers.js")(h,v,x),j("./generators.js")(h,a,v,_,s,x),j("./nodeify.js")(h),j("./promisify.js")(h,v),j("./props.js")(h,A,_,a),j("./race.js")(h,v,_,a),j("./reduce.js")(h,A,a,_,v,x),j("./settle.js")(h,A,x),j("./some.js")(h,A,a),j("./filter.js")(h,v),j("./each.js")(h,v),j("./any.js")(h),m.toFastProperties(h),m.toFastProperties(h.prototype),e({a:1}),e({b:2}),e({c:3}),e(1),e(function(){}),e(void 0),e(!1),e(new h(v)),x.setBounds(o.firstLineError,m.lastLineError),h}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(r,e,t){"use strict";e.exports=function(s,n,l,a,e){function t(e){var t=this._promise=new s(n);e instanceof s&&t._propagateFrom(e,3),t._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=r("./util");return c.isArray,c.inherits(t,e),t.prototype.length=function(){return this._length},t.prototype.promise=function(){return this._promise},t.prototype._init=function e(t,n){var r=l(this._values,this._promise);if(r instanceof s){var o=(r=r._target())._bitField;if(this._values=r,0==(50397184&o))return this._promise._setAsyncGuaranteed(),r._then(e,this._reject,void 0,this,n);if(0==(33554432&o))return 0!=(16777216&o)?this._reject(r._reason()):this._cancel();r=r._value()}if(null!==(r=c.asArray(r)))return 0===r.length?void(-5===n?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(n))):void this._iterate(r);var i=a("expecting an array or an iterable object but got "+c.classString(r)).reason();this._promise._rejectCallback(i,!1)},t.prototype._iterate=function(e){var t=this.getActualLength(e.length);this._length=t,this._values=this.shouldCopyValues()?new Array(t):this._values;for(var n=this._promise,r=!1,o=null,i=0;i<t;++i){var a=l(e[i],n);o=a instanceof s?(a=a._target())._bitField:null,r?null!==o&&a.suppressUnhandledRejections():null!==o?0==(50397184&o)?(a._proxy(this,i),this._values[i]=a):r=0!=(33554432&o)?this._promiseFulfilled(a._value(),i):0!=(16777216&o)?this._promiseRejected(a._reason(),i):this._promiseCancelled(i):r=this._promiseFulfilled(a,i)}r||n._setAsyncGuaranteed()},t.prototype._isResolved=function(){return null===this._values},t.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},t.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},t.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},t.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},t.prototype._promiseCancelled=function(){return this._cancel(),!0},t.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},t.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof s)e.cancel();else for(var t=0;t<e.length;++t)e[t]instanceof s&&e[t].cancel()}},t.prototype.shouldCopyValues=function(){return!0},t.prototype.getActualLength=function(e){return e},t}},{"./util":36}],24:[function(n,e,t){"use strict";e.exports=function(c,u){function i(e){return!t.test(e)}function f(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function h(e,t,n,r){for(var o=g.inheritedDataKeys(e),i=[],a=0;a<o.length;++a){var s=o[a],l=e[s],c=r===A||A(s,l,e);"function"!=typeof l||f(l)||(u=e,d=s,p=t,(h=g.getDataPropertyOrDefault(u,d+p,_))&&f(h))||!r(s,l,e,c)||i.push(s,l)}var u,d,p,h;return function(e,t,n){for(var r=0;r<e.length;r+=2){var o=e[r];if(n.test(o))for(var i=o.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===i)throw new b("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(i,t,n),i}function d(e,t,n,r,o){for(var i=new RegExp(E(t)+"$"),a=h(e,t,i,n),s=0,l=a.length;s<l;s+=2){var c=a[s],u=a[s+1],d=c+t;if(r===k)e[d]=k(c,m,c,u,t,o);else{var p=r(u,function(){return k(c,m,c,u,t,o)});g.notEnumerableProp(p,"__isPromisified__",!0),e[d]=p}}return g.toFastProperties(e),e}var m={},g=n("./util"),p=n("./nodeback"),y=g.withAppended,v=g.maybeWrapAsError,e=g.canEvaluate,b=n("./errors").TypeError,_={__isPromisified__:!0},t=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),A=function(e){return g.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},E=function(e){return e.replace(/([$])/,"\\$")},k=e?void 0:function(o,i,e,t,n,a){function r(){var e=i;i===m&&(e=this);var t=new c(u);t._captureStackTrace();var n="string"==typeof l&&this!==s?this[l]:o,r=p(t,a);try{n.apply(e,y(arguments,r))}catch(e){t._rejectCallback(v(e),!0,!0)}return t._isFateSealed()||t._setAsyncGuaranteed(),t}var s=function(){return this}(),l=o;return"string"==typeof l&&(o=t),g.notEnumerableProp(r,"__isPromisified__",!0),r};c.promisify=function(e,t){if("function"!=typeof e)throw new b("expecting a function but got "+g.classString(e));if(f(e))return e;var n=void 0===(t=Object(t)).context?m:t.context,r=!!t.multiArgs,o=function(e,t,n){return k(e,t,void 0,e,null,n)}(e,n,r);return g.copyDescriptors(e,o,i),o},c.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new b("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var o=t.filter;"function"!=typeof o&&(o=A);var i=t.promisifier;if("function"!=typeof i&&(i=k),!g.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=g.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&g.isClass(l)&&(d(l.prototype,r,o,i,n),d(l,r,o,i,n))}return d(e,r,o,i,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(d,e,t){"use strict";e.exports=function(r,e,o,i){function a(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=u(e),n=!0;else{var r=c.keys(e),o=r.length;t=new Array(2*o);for(var i=0;i<o;++i){var a=r[i];t[i]=e[a],t[i+o]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function t(e){var t,n=o(e);return l(n)?(t=n instanceof r?n._then(r.props,void 0,void 0,void 0,void 0):new a(n).promise(),n instanceof r&&t._propagateFrom(n,2),t):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,n=d("./util"),l=n.isObject,c=d("./es5");"function"==typeof Map&&(s=Map);var u=function(){function n(e,t){this[r]=e,this[r+o]=t,r++}var r=0,o=0;return function(e){o=e.size,r=0;var t=new Array(2*e.size);return e.forEach(n,t),t}}();n.inherits(a,e),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=function(e){for(var t=new s,n=e.length/2|0,r=0;r<n;++r){var o=e[n+r],i=e[r];t.set(o,i)}return t}(this._values);else{r={};for(var o=this.length(),i=0,a=this.length();i<a;++i)r[this._values[i+o]]=this._values[i]}return this._resolve(r),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(e){return e>>1},r.prototype.props=function(){return t(this)},r.props=function(e){return t(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var o=this._front+r-3;this._checkCapacity(r);var i=this._capacity-1;this[0+o&i]=e,this[1+o&i]=t,this[2+o&i]=n,this._length=r},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length,o=n+r&t-1;!function(e,t,n,r,o){for(var i=0;i<o;++i)n[i+r]=e[i+t],e[i+t]=void 0}(this,0,this,t,o)},t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(c,u,d,p){function n(e,t){var n=d(e);if(n instanceof c)return f(n);if(null===(e=h.asArray(e)))return p("expecting an array or an iterable object but got "+h.classString(e));var r=new c(u);void 0!==t&&r._propagateFrom(t,3);for(var o=r._fulfill,i=r._reject,a=0,s=e.length;a<s;++a){var l=e[a];(void 0!==l||a in e)&&c.cast(l)._then(o,i,void 0,r,null)}return r}var h=e("./util"),f=function(t){return t.then(function(e){return n(e,t)})};c.race=function(e){return n(e,void 0)},c.prototype.race=function(){return n(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(a,e,i,n,s,l){function c(e,t,n,r){this.constructor$(e);var o=p();this._fn=null===o?t:h.domainBind(o,t),void 0!==n&&(n=a.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=r===s?Array(this._length):0===r?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function o(e,t,n,r){if("function"!=typeof t)return i("expecting a function but got "+h.classString(t));var o=new c(e,t,n,r);return o.promise()}function d(e){this.accum=e,this.array._gotAccum(e);var t=n(this.value,this.array._promise);return t instanceof a?(this.array._currentCancellable=t)._then(r,void 0,void 0,this,void 0):r.call(this,t)}function r(e){var t,n=this.array,r=n._promise,o=f(n._fn);r._pushContext(),(t=void 0!==n._eachValues?o.call(r._boundValue(),e,this.index,this.length):o.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof a&&(n._currentCancellable=t);var i=r._popContext();return l.checkForgottenReturns(t,i,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),t}var p=a._getDomain,h=t("./util"),f=h.tryCatch;h.inherits(c,e),c.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==s&&this._eachValues.push(e)},c.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},c.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel()))},c.prototype._iterate=function(e){var t,n,r=(this._values=e).length;if(n=void 0!==this._initialValue?(t=this._initialValue,0):(t=a.resolve(e[0]),1),!(this._currentCancellable=t).isRejected())for(;n<r;++n){var o={accum:null,value:e[n],index:n,length:r,array:this};t=t._then(d,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(t=t._then(this._eachComplete,void 0,void 0,this,void 0)),t._then(u,u,void 0,t,this)},a.prototype.reduce=function(e,t){return o(this,e,t,null)},a.reduce=function(e,t,n,r){return o(e,t,n,r)}}},{"./util":36}],29:[function(e,t,n){"use strict";var r,o=e("./util"),i=o.getNativePromise();if(o.isNode&&"undefined"==typeof MutationObserver){var a=x.setImmediate,s=Q.nextTick;r=o.isRecentNode?function(e){a.call(x,e)}:function(e){s.call(Q,e)}}else if("function"==typeof i&&"function"==typeof i.resolve){var l=i.resolve();r=function(e){l.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==c?function(e){c(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var n=document.createElement("div"),r={attributes:!0},o=!1,i=document.createElement("div"),e=new MutationObserver(function(){n.classList.toggle("foo"),o=!1});return e.observe(i,r),function(e){var t=new MutationObserver(function(){t.disconnect(),e()});t.observe(n,r),o||(o=!0,i.classList.toggle("foo"))}}();t.exports=r},{"./util":36}],30:[function(a,e,t){"use strict";e.exports=function(e,t,n){function r(e){this.constructor$(e)}var o=e.PromiseInspection,i=a("./util");i.inherits(r,t),r.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return n.deprecated(".settle()",".reflect()"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(u,e,t){"use strict";e.exports=function(e,t,o){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function n(e,t){if((0|t)!==t||t<0)return o("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),r=n.promise();return n.setHowMany(t),n.init(),r}var r=u("./util"),a=u("./errors").RangeError,s=u("./errors").AggregateError,l=r.isArray,c={};r.inherits(i,t),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new s,t=this.length();t<this._values.length;++t)this._values[t]!==c&&e.push(this._values[t]);return 0<e.length?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return n(e,t)},e.prototype.some=function(e){return n(this,e)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return i.call(this._target())},e.prototype.isFulfilled=function(){return o.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(c,u){function o(e){try{return e.then}catch(e){return p.e=e,p}}function i(e){try{return t.call(e,"_promise0")}catch(e){return!1}}function a(e,t,n){function r(e){i&&(i._resolveCallback(e),i=null)}function o(e){i&&(i._rejectCallback(e,s,!0),i=null)}var i=new c(u),a=i;n&&n._pushContext(),i._captureStackTrace(),n&&n._popContext();var s=!0,l=d.tryCatch(t).call(e,r,o);return s=!1,i&&l===p&&(i._rejectCallback(l.e,!0,!0),i=null),a}var d=e("./util"),p=d.errorObj,s=d.isObject,t={}.hasOwnProperty;return function(e,t){if(s(e)){if(e instanceof c)return e;var n=o(e);if(n===p){t&&t._pushContext();var r=c.reject(n.e);return t&&t._popContext(),r}if("function"==typeof n)return i(e)?(r=new c(u),e._then(r._fulfill,r._reject,void 0,r,null),r):a(e,n,t)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(o,i,a){function s(e){this.handle=e}function l(e){return clearTimeout(this.handle),e}function c(e){throw clearTimeout(this.handle),e}var u=e("./util"),d=o.TimeoutError;s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var p=function(e){return t(+this).thenReturn(e)},t=o.delay=function(e,t){var n,r;return void 0!==t?(n=o.resolve(t)._then(p,null,null,e,void 0),a.cancellation()&&t instanceof o&&n._setOnCancel(t)):(n=new o(i),r=setTimeout(function(){n._fulfill()},+e),a.cancellation()&&n._setOnCancel(new s(r)),n._captureStackTrace()),n._setAsyncGuaranteed(),n};o.prototype.delay=function(e){return t(e,this)},o.prototype.timeout=function(e,t){e=+e;var n,r,o=new s(setTimeout(function(){n.isPending()&&function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new d("operation timed out"):new d(t),u.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()}(n,t,r)},e));return a.cancellation()?(r=this.then(),(n=r._then(l,c,void 0,o,void 0))._setOnCancel(o)):n=this._then(l,c,void 0,o,void 0),n}}},{"./util":36}],35:[function(a,e,t){"use strict";e.exports=function(p,h,f,t,e,m){function c(e){setTimeout(function(){throw e},0)}function g(o,i){var a=0,s=o.length,l=new p(e);return function e(){if(s<=a)return l._fulfill();var t,n,r=(t=o[a++],(n=f(t))!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&n._setDisposable(t._getDisposer()),n);if(r instanceof p&&r._isDisposable()){try{r=f(r._getDisposer().tryDispose(i),o.promise)}catch(e){return c(e)}if(r instanceof p)return r._then(e,c,null,null,null)}e()}(),l}function y(e,t,n){this._data=e,this._promise=t,this._context=n}function n(e,t,n){this.constructor$(e,t,n)}function v(e){return y.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function b(e){this.length=e,this.promise=null,this[e-1]=null}var _=a("./util"),r=a("./errors").TypeError,o=a("./util").inherits,A=_.errorObj,E=_.tryCatch,i={};y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():i},y.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==i?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},y.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},o(n,y),n.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},b.prototype._resultCancelled=function(){for(var e=this.length,t=0;t<e;++t){var n=this[t];n instanceof p&&n.cancel()}},p.using=function(){var e=arguments.length;if(e<2)return h("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return h("expecting a function but got "+_.classString(i));var t,a=!0;2===e&&Array.isArray(arguments[0])?(e=(t=arguments[0]).length,a=!1):(t=arguments,e--);for(var n=new b(e),r=0;r<e;++r){var o=t[r];if(y.isDisposer(o)){var s=o;(o=o.promise())._setDisposable(s)}else{var l=f(o);l instanceof p&&(o=l._then(v,null,null,{resources:n,index:r},void 0))}n[r]=o}for(var c=new Array(n.length),r=0;r<c.length;++r)c[r]=p.resolve(n[r]).reflect();var u=p.all(c).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return A.e=n.error(),A;if(!n.isFulfilled())return void u.cancel();e[t]=n.value()}d._pushContext(),i=E(i);var r=a?i.apply(void 0,e):i(e),o=d._popContext();return m.checkForgottenReturns(r,o,"Promise.using",d),r}),d=u.lastly(function(){var e=new p.PromiseInspection(u);return g(n,e)});return(n.promise=d)._setOnCancel(n),d},p.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},p.prototype._isDisposable=function(){return 0<(131072&this._bitField)},p.prototype._getDisposer=function(){return this._disposer},p.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},p.prototype.disposer=function(e){if("function"==typeof e)return new n(e,this,t());throw new r}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";function r(){try{var e=u;return u=null,e.apply(this,arguments)}catch(e){return h.e=e,h}}function o(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function i(e,t,n){if(o(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return d.defineProperty(e,t,r),e}function a(e){try{return e+""}catch(e){return"[no string representation]"}}function s(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function l(e){return s(e)&&d.propertyIsWritable(e,"stack")}function c(e){return{}.toString.call(e)}var u,d=e("./es5"),p="undefined"==typeof navigator,h={e:{}},f="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==x?x:void 0!==this?this:null,m=function(){var o=[Array.prototype,Object.prototype,Function.prototype],s=function(e){for(var t=0;t<o.length;++t)if(o[t]===e)return!0;return!1};if(d.isES5){var l=Object.getOwnPropertyNames;return function(e){for(var t=[],n=Object.create(null);null!=e&&!s(e);){var r;try{r=l(e)}catch(e){return t}for(var o=0;o<r.length;++o){var i=r[o];if(!n[i]){n[i]=!0;var a=Object.getOwnPropertyDescriptor(e,i);null!=a&&null==a.get&&null==a.set&&t.push(i)}}e=d.getPrototypeOf(e)}return t}}var i={}.hasOwnProperty;return function(e){if(s(e))return[];var t=[];e:for(var n in e)if(i.call(e,n))t.push(n);else{for(var r=0;r<o.length;++r)if(i.call(o[r],n))continue e;t.push(n)}return t}}(),g=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i,v="stack"in new Error?function(e){return l(e)?e:new Error(a(e))}:function(e){if(l(e))return e;try{throw new Error(a(e))}catch(e){return e}},b=function(e){return d.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var _="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};b=function(e){return d.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?_(e):null}}var A=void 0!==Q&&"[object process]"===c(Q).toLowerCase(),E=void 0!==Q&&void 0!==Q.env,k={isClass:function(e){try{if("function"==typeof e){var t=d.names(e.prototype),n=d.isES5&&1<t.length,r=0<t.length&&!(1===t.length&&"constructor"===t[0]),o=g.test(e+"")&&0<d.names(e).length;if(n||r||o)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return y.test(e)},inheritedDataKeys:m,getDataPropertyOrDefault:function(e,t,n){if(!d.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(e){throw e},isArray:d.isArray,asArray:b,notEnumerableProp:i,isPrimitive:o,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:s,canEvaluate:p,errorObj:h,tryCatch:function(e){return u=e,r},inherits:function(t,n){function e(){for(var e in this.constructor=t,(this.constructor$=n).prototype)r.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}var r={}.hasOwnProperty;return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(e,t){var n,r=e.length,o=new Array(r+1);for(n=0;n<r;++n)o[n]=e[n];return o[n]=t,o},maybeWrapAsError:function(e){return o(e)?new Error(a(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var r=new Array(e),o=0;o<e;++o)r[o]=t+o+n;return r},toString:a,canAttachTrace:l,ensureErrorObject:v,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{i(e,"isOperational",!0)}catch(e){}},classString:c,copyDescriptors:function(e,t,n){for(var r=d.names(e),o=0;o<r.length;++o){var i=r[o];if(n(i))try{d.defineProperty(t,i,d.getDescriptor(e,i))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:A,hasEnvVariables:E,env:function(e){return E?Q.env[e]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};k.isRecentNode=k.isNode&&function(){var e=Q.versions.node.split(".").map(Number);return 0===e[0]&&10<e[1]||0<e[0]}(),k.isNode&&k.toFastProperties(Q);try{throw new Error}catch(e){k.lastLineError=e}t.exports=k},{"./es5":13}]},{},[4])(4),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(33),n(40),n(209).setImmediate)},function(e,t,n){"use strict";var r=n(15);e.exports=r},function(e,t,n){var r=n(70);r.connect=n(203),r.connectFilter=n(204),r.ListenerMixin=n(73),r.listenTo=n(205),r.listenToMany=n(206),n(207),e.exports=r},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,n){"use strict";
    /*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))c.call(n,a)&&(o[a]=n[a]);if(l){r=l(n);for(var s=0;s<r.length;s++)u.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o}},function(e,t,n){"use strict";var s=n(8),r=n(29),o=n(82),l=(n(4),r.ID_ATTRIBUTE_NAME),c=o,i="__reactInternalInstance$"+Math.random().toString(36).slice(2);function u(e){for(var t;t=e._renderedComponent;)e=t;return e}function d(e,t){var n=u(e);(n._hostNode=t)[i]=n}function a(e,t){if(!(e._flags&c.hasCachedChildNodes)){var n=e._renderedChildren,r=t.firstChild;e:for(var o in n)if(n.hasOwnProperty(o)){var i=n[o],a=u(i)._domID;if(0!==a){for(;null!==r;r=r.nextSibling)if(1===r.nodeType&&r.getAttribute(l)===String(a)||8===r.nodeType&&r.nodeValue===" react-text: "+a+" "||8===r.nodeType&&r.nodeValue===" react-empty: "+a+" "){d(i,r);continue e}s("32",a)}}e._flags|=c.hasCachedChildNodes}}function p(e){if(e[i])return e[i];for(var t,n,r=[];!e[i];){if(r.push(e),!e.parentNode)return null;e=e.parentNode}for(;e&&(n=e[i]);e=r.pop())t=n,r.length&&a(n,e);return t}var h={getClosestInstanceFromNode:p,getInstanceFromNode:function(e){var t=p(e);return null!=t&&t._hostNode===e?t:null},getNodeFromInstance:function(e){if(void 0===e._hostNode&&s("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||s("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode},precacheChildNodes:a,precacheNode:d,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[i],e._hostNode=null)}};e.exports=h},function(e,t,n){"use strict";n.r(t),n.d(t,"tagsForBroadcast",function(){return r}),n.d(t,"timeframe",function(){return a}),n.d(t,"duration",function(){return s}),n.d(t,"ensureHttpOnProtocolRelativeUrl",function(){return l});var o=n(13);function r(e){var t=[],n=a(e);if("future"==n?t.push({label:"Timeframe",value:"Coming Soon"}):"current"==n&&t.push({label:"Timeframe",value:"LIVE",className:"boxcast-tag-live-now"}),e.transcoder_profile){var r=e.transcoder_profile.replace("plc","p").replace(/:.*/,"");"audio"==r&&(r="Audio Only"),t.push({label:"Resolution",value:r})}return t}var i=3e5;function a(e){if(!e||!e.starts_at)return null;var t=o.a.diff(o.a.parse(e.starts_at)),n=o.a.diff(o.a.parse(e.stops_at));return t<=0&&(!n||0<=n)?"current":0<t?"future":Math.abs(n)<i?"recently-ended":"past"}function s(e){var t=o.a.parse(e.starts_at).getTime(),n=o.a.parse(e.stops_at).getTime(),r=Math.round((n-t)/1e3);return 86400<r?"":o.a.durationFormatted(r)}function l(e){return e.startsWith("//")&&(e="http:"+e),e}},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3),i=n(47);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=0,l=!1,o=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(o,null,[{key:"now",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,n=new Date;return t&&n.setTime(n.getTime()+s),n}},{key:"updateCompensationFromServerTime",value:function(e){var t=o.diff(o.parse(e),!1);1e4<Math.abs(t-s)&&o._checkAndSetClockCompensation(t)}},{key:"diff",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t;return e?e.getTime()-o.now(n).getTime():null}},{key:"parse",value:function(e){return new Date(e)}},{key:"format",value:function(e,t){var n=!(1<arguments.length&&void 0!==t)||t,r=1+e.getMonth(),o=e.getDate(),i="".concat(e.getFullYear()).substr(-2);return n?"".concat(r,"/").concat(o,"/").concat(i," ").concat(d(e)):"".concat(r,"/").concat(o,"/").concat(i)}},{key:"formatTime",value:function(e){return d(e)}},{key:"formatShort",value:function(e){var t=1+e.getMonth(),n=e.getDate(),r=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(r," ").concat(d(e)," ").concat(p(e))}},{key:"formatFull",value:function(e){var t=c[e.getDay()],n=u[e.getMonth()],r=i.a.ordinalize(e.getDate()),o=e.getFullYear();return"".concat(t,", ").concat(n," ").concat(r,", ").concat(o," at ").concat(d(e)," ").concat(p(e))}},{key:"formattedToSeconds",value:function(e){for(var t=e.split(":"),n=0,r=0,o=t.length-1;0<=o;--o)n+=parseInt(t[o],10)*Math.pow(60,r++);return isNaN(n)?0:n}},{key:"formatRelative",value:function(e){if(e){var t=new Date,n=(e.getTime()-this.now().getTime())/1e3,r=function(e){return"in ".concat(e)};return n<0&&(n=-n,r=function(e){return"".concat(e," ago")}),n<30?r("less than a minute"):n<90?r("1 minute"):n<3570?r("".concat(Math.round(n/60)," minutes")):n<86370&&t.getDate()==e.getDate()?"today":n<172770&&t.getDate()==e.getDate()-1?"tomorrow":o.format(e,!1)}}},{key:"durationFormatted",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:"hh:mm:ss",r=e/60||0,o=parseInt(e%60|0,10);60==o&&(o=59);var i=parseInt(r%60|0,10);60==i&&(i=59);var a=r/60|0;return"hh:mm:ss"==n?(o<10&&(o="0".concat(o)),i<10&&(i="0".concat(i)),a?"".concat(a,":").concat(i,":").concat(o):"".concat(i,":").concat(o)):a?"".concat(a,"h ").concat(i,"m ").concat(o,"s"):90<e?"".concat(i,"m ").concat(o,"s"):"".concat(e," sec")}},{key:"_checkAndSetClockCompensation",value:function(e){if(!l){var t=new Headers;t.append("pragma","no-cache"),t.append("cache-control","no-cache");var n="".concat(r.a.dict.apiRoot,"?reason=clock-compensation&diffMS=").concat(e,"&cb=").concat(Math.random());fetch(n,{headers:t}).then(function(e){if(!e.ok)return console.warn("Failed to get API root:",e),e;var t=e.headers.get("Date");if(!t)return e;var n=o.diff(o.parse(t),!1);return 1e4<Math.abs(n-s)&&(s=n),l=!0,e}).catch(function(e){console.warn("Failed to get API root:",e)})}}}]),o}(),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),u="January February March April May June July August September October November December".split(" ");function d(e){var t=e.getHours()%12||12,n="0".concat(e.getMinutes()).substr(-2),r=e.getHours()<12?"am":"pm";return"".concat(t,":").concat(n).concat(r)}function p(e){var t=e.toString(),n=t.match(/\([^\)]+\)/);return(n=n&&n[0].match(/[A-Z]/g))?n.join(""):(n=t.match(/([A-Z]{3,4})(\W*\d{4})?/))?"GMT"===n[1]?n[0]:n[1]:"Local"}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";e.exports={debugTool:null}},function(e,p,h){(function(c,u){var d;(function(){"use strict";var e={function:!0,object:!0},L=e[typeof window]&&window||this,t=e[typeof p]&&p,n=e[typeof c]&&c&&!c.nodeType&&c,r=t&&n&&"object"==typeof u&&u;!r||r.global!==r&&r.window!==r&&r.self!==r||(L=r);var i=Math.pow(2,53)-1,I=/\bOpera/,o=Object.prototype,a=o.hasOwnProperty,D=o.toString;function s(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function M(e){return e=H(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:s(e)}function N(e,t){for(var n in e)a.call(e,n)&&t(e[n],n,e)}function F(e){return null==e?s(e):D.call(e).slice(8,-1)}function B(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function U(n,r){var o=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&-1<r&&r<=i)for(;++n<r;)t(e[n],n,e);else N(e,t)}(n,function(e,t){o=r(o,e,t,n)}),o}function H(e){return String(e).replace(/^ +| +$/g,"")}var l=function e(r){var t=L,n=r&&"object"==typeof r&&"String"!=F(r);n&&(t=r,r=null);var o=t.navigator||{},i=o.userAgent||"";r=r||i;var a,s,l=n?!!o.likeChrome:/\bChrome\b/.test(r)&&!/internal|\n/i.test(D.toString()),c="Object",u=n?c:"ScriptBridgingProxyObject",d=n?c:"Environment",p=n&&t.java?"JavaPackage":F(t.java),h=n?c:"RuntimeObject",f=/\bJava/.test(p)&&t.java,m=f&&F(t.environment)==d,g=f?"a":"",y=f?"b":"",v=t.document||{},b=t.operamini||t.opera,_=I.test(_=n&&b?b["[[Class]]"]:F(b))?_:b=null,A=r,E=[],k=null,x=r==i,T=x&&b&&"function"==typeof b.version&&b.version(),w=U([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||B(t))+"\\b","i").exec(r)&&(t.label||t)}),S=U(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||B(t))+"\\b","i").exec(r)&&(t.label||t)}),C=O([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),P=U({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,n){return e||(t[C]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(C)]||RegExp("\\b"+B(n)+"(?:\\b|\\w*\\d)","i").exec(r))&&n}),j=U(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n=t.pattern||B(t);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(r))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=M(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,t.label||t)),e});function O(e){return U(e,function(e,t){var n=t.pattern||B(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(r)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(r)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(r))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=M(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(w=w&&[w],P&&!C&&(C=O([P])),(a=/\bGoogle TV\b/.exec(C))&&(C=a[0]),/\bSimulator\b/i.test(r)&&(C=(C?C+" ":"")+"Simulator"),"Opera Mini"==S&&/\bOPiOS\b/.test(r)&&E.push("running in Turbo/Uncompressed mode"),"IE"==S&&/\blike iPhone OS\b/.test(r)?(P=(a=e(r.replace(/like iPhone OS/,""))).manufacturer,C=a.product):/^iP/.test(C)?(S=S||"Safari",j="iOS"+((a=/ OS ([\d_]+)/i.exec(r))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=S||/buntu/i.test(j)?P&&"Google"!=P&&(/Chrome/.test(S)&&!/\bMobile Safari\b/i.test(r)||/\bVita\b/.test(C))||/\bAndroid\b/.test(j)&&/^Chrome/.test(S)&&/\bVersion\//i.test(r)?(S="Android Browser",j=/\bAndroid\b/.test(j)?j:"Android"):"Silk"==S?(/\bMobi/i.test(r)||(j="Android",E.unshift("desktop mode")),/Accelerated *= *true/i.test(r)&&E.unshift("accelerated")):"PaleMoon"==S&&(a=/\bFirefox\/([\d.]+)\b/.exec(r))?E.push("identifying as Firefox "+a[1]):"Firefox"==S&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(r))?(j=j||"Firefox OS",C=C||a[1]):!S||(a=!/\bMinefield\b/i.test(r)&&/\b(?:Firefox|Safari)\b/.exec(S))?(S&&!C&&/[\/,]|^[^(]+?\)/.test(r.slice(r.indexOf(a+"/")+8))&&(S=null),(a=C||P||j)&&(C||P||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(j))&&(S=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(j)?j:a)+" Browser")):"Electron"==S&&(a=(/\bChrome\/([\d.]+)\b/.exec(r)||0)[1])&&E.push("Chromium "+a):j="Kubuntu",T=T||U(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",B(S),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(r)||0)[1]||null}),(a=("iCab"==w&&3<parseFloat(T)?"WebKit":/\bOpera\b/.test(S)&&(/\bOPR\b/.test(r)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(r)&&!/^(?:Trident|EdgeHTML)$/.test(w)&&"WebKit"||!w&&/\bMSIE\b/i.test(r)&&("Mac OS"==j?"Tasman":"Trident")||"WebKit"==w&&/\bPlayStation\b(?! Vita\b)/i.test(S)&&"NetFront")&&(w=[a]),"IE"==S&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(r)||0)[1])?(S+=" Mobile",j="Windows Phone "+(/\+$/.test(a)?a:a+".x"),E.unshift("desktop mode")):/\bWPDesktop\b/i.test(r)?(S="IE Mobile",j="Windows Phone 8.x",E.unshift("desktop mode"),T=T||(/\brv:([\d.]+)/.exec(r)||0)[1]):"IE"!=S&&"Trident"==w&&(a=/\brv:([\d.]+)/.exec(r))&&(S&&E.push("identifying as "+S+(T?" "+T:"")),S="IE",T=a[1]),x){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(t,"global"))if(f&&(A=(a=f.lang.System).getProperty("os.arch"),j=j||a.getProperty("os.name")+" "+a.getProperty("os.version")),m){try{T=t.require("ringo/engine").version.join("."),S="RingoJS"}catch(e){(a=t.system)&&a.global.system==t.system&&(S="Narwhal",j=j||a[0].os||null)}S=S||"Rhino"}else"object"==typeof t.process&&!t.process.browser&&(a=t.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(E.push("Node "+a.versions.node),S="Electron",T=a.versions.electron):"string"==typeof a.versions.nw&&(E.push("Chromium "+T,"Node "+a.versions.node),S="NW.js",T=a.versions.nw)),S||(S="Node.js",A=a.arch,j=a.platform,T=(T=/[\d.]+/.exec(a.version))?T[0]:null));else F(a=t.runtime)==u?(S="Adobe AIR",j=a.flash.system.Capabilities.os):F(a=t.phantom)==h?(S="PhantomJS",T=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof v.documentMode&&(a=/\bTrident\/(\d+)/i.exec(r))?(T=[T,v.documentMode],(a=+a[1]+4)!=T[1]&&(E.push("IE "+T[1]+" mode"),w&&(w[1]=""),T[1]=a),T="IE"==S?String(T[1].toFixed(1)):T[0]):"number"==typeof v.documentMode&&/^(?:Chrome|Firefox)\b/.test(S)&&(E.push("masking as "+S+" "+T),S="IE",T="11.0",w=["Trident"],j="Windows");j=j&&M(j)}if(T&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(T)||/(?:alpha|beta)(?: ?\d)?/i.exec(r+";"+(x&&o.appMinorVersion))||/\bMinefield\b/i.test(r)&&"a")&&(k=/b/i.test(a)?"beta":"alpha",T=T.replace(RegExp(a+"\\+?$"),"")+("beta"==k?y:g)+(/\d+\+?/.exec(a)||"")),"Fennec"==S||"Firefox"==S&&/\b(?:Android|Firefox OS)\b/.test(j))S="Firefox Mobile";else if("Maxthon"==S&&T)T=T.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(C))"Xbox 360"==C&&(j=null),"Xbox 360"==C&&/\bIEMobile\b/.test(r)&&E.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(S)&&(!S||C||/Browser|Mobi/.test(S))||"Windows CE"!=j&&!/Mobi/i.test(r))if("IE"==S&&x)try{null===t.external&&E.unshift("platform preview")}catch(e){E.unshift("embedded")}else(/\bBlackBerry\b/.test(C)||/\bBB10\b/.test(r))&&(a=(RegExp(C.replace(/ +/g," *")+"/([.\\d]+)","i").exec(r)||0)[1]||T)?(j=((a=[a,/BB10/.test(r)])[1]?(C=null,P="BlackBerry"):"Device Software")+" "+a[0],T=null):this!=N&&"Wii"!=C&&(x&&b||/Opera/.test(S)&&/\b(?:MSIE|Firefox)\b/i.test(r)||"Firefox"==S&&/\bOS X (?:\d+\.){2,}/.test(j)||"IE"==S&&(j&&!/^Win/.test(j)&&5.5<T||/\bWindows XP\b/.test(j)&&8<T||8==T&&!/\bTrident\b/.test(r)))&&!I.test(a=e.call(N,r.replace(I,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),I.test(S)?(/\bIE\b/.test(a)&&"Mac OS"==j&&(j=null),a="identify"+a):(a="mask"+a,S=_?M(_.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(j=null),x||(T=null)),w=["Presto"],E.push(a));else S+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(r)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==S&&"+"==a[1].slice(-1)?(S="WebKit Nightly",k="alpha",T=a[1].slice(0,-1)):T!=a[1]&&T!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(r)||0)[1])||(T=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(r)||0)[1],537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"WebKit"==w&&(w=["Blink"]),a=x&&(l||a[1])?(w&&(w[1]="like Chrome"),a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=w?"27":"28")):(w&&(w[1]="like Safari"),(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),w&&(w[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==S&&(!T||45<parseInt(T))&&(T=a)),"Opera"==S&&(a=/\bzbov|zvav$/.exec(j))?(S+=" ",E.unshift("desktop mode"),"zvav"==a?(S+="Mini",T=null):S+="Mobile",j=j.replace(RegExp(" *"+a+"$"),"")):"Safari"==S&&/\bChrome\b/.exec(w&&w[1])&&(E.unshift("desktop mode"),S="Chrome Mobile",T=null,j=/\bOS X\b/.test(j)?(P="Apple","iOS 4.3+"):null),T&&0==T.indexOf(a=/[\d.]+$/.exec(j))&&-1<r.indexOf("/"+a+"-")&&(j=H(j.replace(a,""))),w&&!/\b(?:Avant|Nook)\b/.test(S)&&(/Browser|Lunascape|Maxthon/.test(S)||"Safari"!=S&&/^iOS/.test(j)&&/\bSafari\b/.test(w[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(S)&&w[1])&&(a=w[w.length-1])&&E.push(a),E.length&&(E=["("+E.join("; ")+")"]),P&&C&&C.indexOf(P)<0&&E.push("on "+P),C&&E.push((/^on /.test(E[E.length-1])?"":"on ")+C),j&&(a=/ ([\d.+]+)$/.exec(j),s=a&&"/"==j.charAt(j.length-a[0].length-1),j={architecture:32,family:a&&!s?j.replace(a[0],""):j,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!s?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(j&&(j.architecture=64,j.family=j.family.replace(RegExp(" *"+a),"")),S&&(/\bWOW64\b/i.test(r)||x&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(r))&&E.unshift("32-bit")):j&&/^OS X/.test(j.family)&&"Chrome"==S&&39<=parseFloat(T)&&(j.architecture=64),r=r||null;var R={};return R.description=r,R.layout=w&&w[0],R.manufacturer=P,R.name=S,R.prerelease=k,R.product=C,R.ua=r,R.version=S&&T,R.os=j||{architecture:null,family:null,version:null,toString:function(){return"null"}},R.parse=e,R.toString=function(){return this.description||""},R.version&&E.unshift(T),R.name&&E.unshift(S),j&&S&&(j!=String(j).split(" ")[0]||j!=S.split(" ")[0]&&!C)&&E.push(C?"("+j+")":"on "+j),E.length&&(R.description=E.join(" ")),R}();L.platform=l,void 0===(d=function(){return l}.call(p,h,p,c))||(c.exports=d)}).call(this)}).call(this,h(211)(e),h(40))},function(e,t,n){"use strict";var l=n(8),r=n(9),o=n(86),i=n(23),c=n(87),u=n(30),a=n(42),d=(n(4),[]),p=0,s=o.getPooled(),h=!1,f=null;function m(){A.ReactReconcileTransaction&&f||l("123")}var g=[{initialize:function(){this.dirtyComponentsLength=d.length},close:function(){this.dirtyComponentsLength!==d.length?(d.splice(0,this.dirtyComponentsLength),_()):d.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function y(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=o.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!0)}function v(e,t){return e._mountOrder-t._mountOrder}function b(e){var t=e.dirtyComponentsLength;t!==d.length&&l("124",t,d.length),d.sort(v),p++;for(var n=0;n<t;n++){var r,o=d[n],i=o._pendingCallbacks;if(o._pendingCallbacks=null,c.logTopLevelRenders){var a=o;o._currentElement.type.isReactTopLevelWrapper&&(a=o._renderedComponent),r="React update: "+a.getName(),console.time(r)}if(u.performUpdateIfNecessary(o,e.reconcileTransaction,p),r&&console.timeEnd(r),i)for(var s=0;s<i.length;s++)e.callbackQueue.enqueue(i[s],o.getPublicInstance())}}r(y.prototype,a,{getTransactionWrappers:function(){return g},destructor:function(){this.dirtyComponentsLength=null,o.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return a.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),i.addPoolingTo(y);var _=function(){for(;d.length||h;){if(d.length){var e=y.getPooled();e.perform(b,null,e),y.release(e)}if(h){h=!1;var t=s;s=o.getPooled(),t.notifyAll(),o.release(t)}}};var A={ReactReconcileTransaction:null,batchedUpdates:function(e,t,n,r,o,i){return m(),f.batchedUpdates(e,t,n,r,o,i)},enqueueUpdate:function e(t){m(),f.isBatchingUpdates?(d.push(t),null==t._updateBatchNumber&&(t._updateBatchNumber=p+1)):f.batchedUpdates(e,t)},flushBatchedUpdates:_,injection:{injectReconcileTransaction:function(e){e||l("126"),A.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||l("127"),"function"!=typeof e.batchedUpdates&&l("128"),"boolean"!=typeof e.isBatchingUpdates&&l("129"),f=e}},asap:function(e,t){f.isBatchingUpdates||l("125"),s.enqueue(e,t),h=!0}};e.exports=A},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e){var t=void 0===e?"undefined":r(e);return"function"===t||"object"===t&&!!e}n.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.callbackName=function(e,t){return(t=t||"on")+n.capitalize(e)},n.isObject=l,n.extend=function(e){if(!l(e))return e;for(var t,n,r,o=1,i=arguments.length;o<i;o++){t=arguments[o],n=Object.keys(t);for(var a=0;a<n.length;a++)if(r=n[a],Object.getOwnPropertyDescriptor&&Object.defineProperty){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s)}else e[r]=t[r]}return e},n.isFunction=function(e){return"function"==typeof e},n.nextTick=function(e){setTimeout(e,0)},n.object=function(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n},n.isArguments=function(e){return"object"===(void 0===e?"undefined":r(e))&&"callee"in e&&"number"==typeof e.length},n.throwIf=function(e,t){if(e)throw Error(t||e)},n.EventEmitter=t(199)},function(e,t,n){"use strict";var r=n(9),o=n(117),i=n(50),a=n(119),s=n(120),l=n(121),c=n(28),u=n(122),d=n(124),p=n(80),h=(n(6),c.createElement),f=c.createFactory,m=c.cloneElement,g=r,y={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:i,PureComponent:a,createElement:h,cloneElement:m,isValidElement:c.isValidElement,PropTypes:u,createClass:s.createClass,createFactory:f,createMixin:function(e){return e},DOM:l,version:d,__spread:g};e.exports=y},function(e,t,n){"use strict";e.exports={current:null}},function(e,t,n){"use strict";var o=n(9),i=n(23),l=n(15),r=(n(6),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),a={type:null,target:null,currentTarget:l.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function s(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){0;var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=s?l.thatReturnsTrue:l.thatReturnsFalse,this.isPropagationStopped=l.thatReturnsFalse,this}o(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=l.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=l.thatReturnsTrue)},persist:function(){this.isPersistent=l.thatReturnsTrue},isPersistent:l.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<r.length;n++)this[r[n]]=null}}),s.Interface=a,s.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;o(r,e.prototype),e.prototype=r,(e.prototype.constructor=e).Interface=o({},this.Interface,t),e.augmentClass=this.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(s,i.fourArgumentPooler),e.exports=s},function(e,t,n){"use strict";function r(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}function o(e){e instanceof this||i("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)}var i=n(8),a=(n(4),r),s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:r,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)},fiveArgumentPooler:function(e,t,n,r,o){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,r,o),i}return new this(e,t,n,r,o)}};e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinStrict=t.joinConcat=t.joinLeading=t.joinTrailing=t.fetchInitialState=t.stopListeningToAll=t.stopListeningTo=t.listenTo=t.validateListening=t.listenToMany=t.hasListener=void 0;var l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(19)),r=n(107);function c(e){for(var t,n=0,r={};n<(e.children||[]).length;++n)e[t=e.children[n]]&&(r[t]=e[t]);return r}t.hasListener=function(e){for(var t,n,r,o=0;o<(this.subscriptions||[]).length;++o)for(r=[].concat(this.subscriptions[o].listenable),t=0;t<r.length;t++)if((n=r[t])===e||n.hasListener&&n.hasListener(e))return!0;return!1},t.listenToMany=function(e){var t=function e(t){var n={};for(var r in t){var o=t[r],i=e(c(o));for(var a in n[r]=o,i){var s=i[a];n[r+l.capitalize(a)]=s}}return n}(e);for(var n in t){var r=l.callbackName(n),o=this[r]?r:this[n]?n:void 0;o&&this.listenTo(t[n],o,this[r+"Default"]||this[o+"Default"]||o)}},t.validateListening=function(e){return e===this?"Listener is not able to listen to itself":l.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},t.listenTo=function(e,t,n){var r,o,i=this.subscriptions=this.subscriptions||[];return l.throwIf(this.validateListening(e)),this.fetchInitialState(e,n),r=e.listen(this[t]||t,this),o={stop:function(){var e=i.indexOf(o);l.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),i.splice(e,1),r()},listenable:e},i.push(o),o},t.stopListeningTo=function(e){for(var t,n=0,r=this.subscriptions||[];n<r.length;n++)if((t=r[n]).listenable===e)return t.stop(),l.throwIf(-1!==r.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},t.stopListeningToAll=function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),l.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},t.fetchInitialState=function(e,t){t=t&&this[t]||t;var n=this;if(l.isFunction(t)&&l.isFunction(e.getInitialState)){var r=e.getInitialState();r&&l.isFunction(r.then)?r.then(function(){t.apply(n,arguments)}):t.call(this,r)}},t.joinTrailing=(0,r.instanceJoinCreator)("last"),t.joinLeading=(0,r.instanceJoinCreator)("first"),t.joinConcat=(0,r.instanceJoinCreator)("all"),t.joinStrict=(0,r.instanceJoinCreator)("strict")},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r,a=n(1);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,null,[{key:"factory",value:function(i){return i=i||{},function(e){var t=i[e]||c[e];if(void 0===t)return null;for(var n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return a.Util.stringFormat.apply(a.Util,[t].concat(r))}}}]),e}(),l="Please Wait.",c=(o(r={related_title:"Related Videos",purchase_ticket_button:"Purchase Ticket ({0})",purchase_channel_ticket_button:"Purchase Channel Ticket ({0})",purchase_ticket_success_subtitle:"You are watching this broadcast with ticket #{0}. Your email contains the link to watch again in the future. Enjoy!",purchase_channel_ticket_success_subtitle:"You are watching this channel with ticket #{0}. Your email contains the link to watch again in the future. Enjoy!",watching_preview_title:"You Are Watching A Free Preview",watching_free_variant_title:"You Are Watching A Free Low Quality Broadcast",broadcast_ended_title:"Thank You For Watching!",broadcast_ended_watch_again_description:"Click to watch again",start_stop_description_current:"Broadcast started {0} (ending {1})",start_stop_description_future:"Scheduled to broadcast {0} - {1}",start_stop_description_past:"Broadcasted {0} - {1}",ticket_zip_code_match:"Card will be validated to match billing zip code {0}",donation_button_label:"Donate",donation_complete:"Thank you for your generous donation.",cue_title:"Video Index",documents_title:"Documents",stripe_not_loaded:"A JavaScript library required for checkout could not be loaded. Please refresh this page and try again.  If the problem persists, you may have an antivirus program or browser extension interfering and might want to switch to Google Chrome.",payment_modal_donate_button_text:"Process Donation (${0})",payment_modal_ticket_button_text:"Pay Now (${0})",payment_modal_donate_disclaimer_text:"* Credit card processing fees for the donation are {0}%.",payment_modal_ticket_disclaimer_text:"This ticket grants you the right to one simultaneous view. Note that abuse of the ticket is tracked and monitored.",payment_modal_donate_email_text:"You will be emailed a receipt after the payment is processed.",payment_modal_ticket_email_text:"You will be emailed a link to come back and watch later or from a different device.",payment_modal_donate_complete:"Thank you for your generous donation.",payment_modal_ticket_complete:"Thank you for your ticket purchase.  You can now continue watching the broadcast.",payment_modal_donate_item_name:"Online Donation",player_upcoming_title:"{4}",player_upcoming_subtitle:"Broadcast starts {0} at {1}.",player_preparing_title:"{4}",player_preparing_subtitle:"Broadcast starts {0} at {1}.",player_prepared_title:"{4}"},"player_preparing_subtitle","Broadcast starts {0} at {1}."),o(r,"player_live_title","{4}"),o(r,"player_live_subtitle","".concat(l," The Broadcast Will Start Momentarily")),o(r,"player_catching_up_title","{4}"),o(r,"player_catching_up_subtitle","".concat(l," The Stream Has Not Started")),o(r,"player_offline_title","{4}"),o(r,"player_offline_subtitle","".concat(l," The Broadcaster Has Not Started Streaming")),o(r,"player_busy_title","{4}"),o(r,"player_busy_subtitle","".concat(l," The Broadcaster Has Not Started Streaming")),o(r,"player_no_video_input_title","{4}"),o(r,"player_no_video_input_subtitle","".concat(l," The Broadcaster Has Not Started Streaming")),o(r,"player_updating_firmware_title","{4}"),o(r,"player_updating_firmware_subtitle","".concat(l," The Broadcaster Has Not Started Streaming")),o(r,"player_processing_recording_title","".concat(l," The Recording Will Be Available Shortly")),o(r,"player_processing_recording_subtitle"," "),o(r,"player_processing_highlight_title","".concat(l," The Highlight Will Be Available Shortly")),o(r,"player_processing_highlight_subtitle"," "),o(r,"player_recorded_title"," "),o(r,"player_audio_only","This Broadcast is Audio Only"),o(r,"player_not_recorded_title","No Recording Was Found For This Broadcast"),o(r,"player_not_recorded_subtitle"," "),o(r,"player_missed_title","This Broadcast Did Not Air"),o(r,"player_live_only_title","This Broadcast Was Only Available Live"),o(r,"player_live_only_subtitle","The recording is not available."),o(r,"player_expired_title","This Broadcast Has Expired And Is No Longer Available"),o(r,"player_purged_title","This Broadcast Is No Longer Available"),o(r,"player_no_stream_title","The Stream Has Been Disrupted"),o(r,"player_no_stream_subtitle","It will resume automatically when the disruption is resolved."),o(r,"player_client_disconnected_title","Error Loading Broadcast"),o(r,"player_genericreason_title","The Broadcast Is Unavailable"),o(r,"player_genericreason_subtitle","Reason: {3}"),o(r,"player_unavailable_due_to_inactive_account_title","This Broadcast is Unavailable"),o(r,"player_unavailable_title","This Broadcast is Unavailable Due to Media Rights Restrictions"),o(r,"player_ticket_title","This Broadcast Requires a Ticket"),o(r,"player_unauthorized_title","You Are Not Authorized to Watch This Broadcast"),o(r,"player_ticket_via_redirect_title","This Broadcast Requires a Ticket"),o(r,"player_donate_via_redirect_title","You Have Been Redirected Here to Complete Your Donation"),o(r,"payment_ticket_title","Purchase a Ticket to Watch This Broadcast"),o(r,"payment_subscription_title","Purchase a Subscription to Watch This Broadcast"),o(r,"payment_flex_title","Purchase an Upgrade to High Quality"),o(r,"payment_ticker_subtitle","Click to purchase a ticket and continue watching"),o(r,"payment_ticker_flex_subtitle","Click to purchase an upgrade to high quality"),o(r,"player_not_found_title","The Broadcast Is Unavailable"),o(r,"player_not_found_subtitle"," "),o(r,"player_gone_title","The Broadcast Is No Longer Available"),o(r,"player_gone_subtitle"," "),o(r,"player_error_code_1_subtitle","The request for video was stopped by your device."),o(r,"player_error_code_2_subtitle","A network error occurred. Your internet connection may have been lost."),o(r,"player_error_code_3_subtitle","The video failed to be decoded by your device."),o(r,"player_error_code_4_subtitle","This video type is not supported by your device."),o(r,"player_error_code_buffering_too_long_title","Sorry for the Interruption"),o(r,"player_error_code_buffering_too_long_subtitle","The video has been buffering too long. Try reloading the page."),o(r,"player_error_code_buffering_too_long_stalled_subtitle","The stream has stalled. Please wait for the broadcaster to reconnect."),o(r,"player_error_unknown_title","There Was an Unexpected Player Error"),o(r,"player_error_unknown_subtitle","We're not quite sure what went wrong, but you can try reloading the page. ({0} code {1})"),o(r,"geoblock_loading_title","".concat(l," Checking Your Location")),o(r,"geoblock_loading_subtitle","This is a region-restricted broadcast, so we must confirm your location."),o(r,"geoblock_restricted_title","This Broadcast Is Not Available In Your Area"),o(r,"geoblock_restricted_subtitle","This is a region-restricted broadcast and cannot be played in your detected location."),o(r,"password_required_title","A Password is Required to Unlock This Broadcast"),o(r,"password_invalid_title","Invalid Password. Please Try Again (passwords are case-sensitive)."),r)},function(e,t,n){e.exports=n(214)},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,n){"use strict";var p=n(9),h=n(21),f=(n(6),n(74),Object.prototype.hasOwnProperty),s=n(75),m={key:!0,ref:!0,__self:!0,__source:!0};function g(e){return void 0!==e.ref}function y(e){return void 0!==e.key}function v(e,t,n,r,o,i,a){return{$$typeof:s,type:e,key:t,ref:n,props:a,_owner:i}}v.createElement=function(e,t,n){var r,o={},i=null,a=null;if(null!=t)for(r in g(t)&&(a=t.ref),y(t)&&(i=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)f.call(t,r)&&!m.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1==s)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];0,o.children=l}if(e&&e.defaultProps){var u=e.defaultProps;for(r in u)void 0===o[r]&&(o[r]=u[r])}return v(e,i,a,0,0,h.current,o)},v.createFactory=function(e){var t=v.createElement.bind(null,e);return t.type=e,t},v.cloneAndReplaceKey=function(e,t){return v(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},v.cloneElement=function(e,t,n){var r,o,i=p({},e.props),a=e.key,s=e.ref,l=(e._self,e._source,e._owner);if(null!=t)for(r in g(t)&&(s=t.ref,l=h.current),y(t)&&(a=""+t.key),e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)f.call(t,r)&&!m.hasOwnProperty(r)&&(void 0===t[r]&&void 0!==o?i[r]=o[r]:i[r]=t[r]);var c=arguments.length-2;if(1==c)i.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return v(e.type,a,s,0,0,l,i)},v.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},e.exports=v},function(e,t,n){"use strict";var p=n(8);n(4);function h(e,t){return(e&t)===t}var f={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=f,n=e.Properties||{},r=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{},i=e.DOMPropertyNames||{},a=e.DOMMutationMethods||{};for(var s in e.isCustomAttribute&&m._isCustomAttributeFunctions.push(e.isCustomAttribute),n){m.properties.hasOwnProperty(s)&&p("48",s);var l=s.toLowerCase(),c=n[s],u={attributeName:l,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:h(c,t.MUST_USE_PROPERTY),hasBooleanValue:h(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:h(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:h(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:h(c,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue<=1||p("50",s),o.hasOwnProperty(s)){var d=o[s];u.attributeName=d}r.hasOwnProperty(s)&&(u.attributeNamespace=r[s]),i.hasOwnProperty(s)&&(u.propertyName=i[s]),a.hasOwnProperty(s)&&(u.mutationMethod=a[s]),m.properties[s]=u}}},r=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:r,ATTRIBUTE_NAME_CHAR:r+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<m._isCustomAttributeFunctions.length;t++){if((0,m._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:f};e.exports=m},function(e,t,n){"use strict";var a=n(132);n(16),n(6);function s(){a.attachRefs(this,this._currentElement)}var r={mountComponent:function(e,t,n,r,o,i){var a=e.mountComponent(t,n,r,o,i);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(s,e),a},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){a.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,r){var o=e._currentElement;if(t!==o||r!==e._context){0;var i=a.shouldUpdateRefs(o,t);i&&a.detachRefs(e,o),e.receiveComponent(t,n,r),i&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(s,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}};e.exports=r},function(e,t,n){"use strict";var r=n(59),o=n(44),i=n(60),a=n(90),s="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent);function l(e){if(s){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)c(t,n[r],null);else null!=e.html?o(t,e.html):null!=e.text&&a(t,e.text)}}var c=i(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===r.html)?(l(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),l(t))});function u(){return this.node.nodeName}function d(e){return{node:e,children:[],html:null,text:null,toString:u}}d.insertTreeBefore=c,d.replaceChildWithTree=function(e,t){e.parentNode.replaceChild(t.node,e),l(t)},d.queueChild=function(e,t){s?e.children.push(t):e.node.appendChild(t.node)},d.queueHTML=function(e,t){s?e.html=t:o(e.node,t)},d.queueText=function(e,t){s?e.text=t:a(e.node,t)},e.exports=d},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(n){var a=[];return a.toString=function(){return this.map(function(e){var t=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},function(e,t,r){var n,o,i,l={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=(i={},function(e,t){if("function"==typeof e)return e();if(void 0===i[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}i[e]=n}return i[e]}),s=null,u=0,d=[],p=r(223);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=l[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(b(r.parts[i],t))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(b(r.parts[i],t));l[r.id]={id:r.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,n);n.insertBefore(t,o)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);0<=t&&d.splice(t,1)}function y(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return v(t,e.attrs),m(e,t),t}function v(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=u++;n=s=s||y(e),r=E.bind(null,n,a,!1),o=E.bind(null,n,a,!0)}else o=t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(e),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=c()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=f(e,a);return h(s,a),function(e){for(var t=[],n=0;n<s.length;n++){var r=s[n];(o=l[r.id]).refs--,t.push(o)}e&&h(f(e,a),a);for(n=0;n<t.length;n++){var o;if(0===(o=t[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete l[o.id]}}}};var _,A=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function E(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=A(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(38),o=n(53),i=n(83),a=n(84),s=(n(6),r.getListener);function l(e,t,n){var r=function(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return s(e,r)}(e,n,t);r&&(n._dispatchListeners=i(n._dispatchListeners,r),n._dispatchInstances=i(n._dispatchInstances,e))}function c(e){e&&e.dispatchConfig.phasedRegistrationNames&&o.traverseTwoPhase(e._targetInst,l,e)}function u(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?o.getParentInstance(t):null;o.traverseTwoPhase(n,l,e)}}function d(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=s(e,r);o&&(n._dispatchListeners=i(n._dispatchListeners,o),n._dispatchInstances=i(n._dispatchInstances,e))}}function p(e){e&&e.dispatchConfig.registrationName&&d(e._targetInst,0,e)}var h={accumulateTwoPhaseDispatches:function(e){a(e,c)},accumulateTwoPhaseDispatchesSkipTarget:function(e){a(e,u)},accumulateDirectDispatches:function(e){a(e,p)},accumulateEnterLeaveDispatches:function(e,t,n,r){o.traverseEnterLeave(n,r,d,e,t)}};e.exports=h},function(e,t,n){"use strict";function r(e,t){e&&(l.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))}function o(e){return r(e,!0)}function i(e){return r(e,!1)}function a(e){return"."+e._rootNodeID}var s=n(8),c=n(52),l=n(53),u=n(54),d=n(83),p=n(84),h=(n(4),{}),f=null;var m={injection:{injectEventPluginOrder:c.injectEventPluginOrder,injectEventPluginsByName:c.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&s("94",t,typeof n);var r=a(e);(h[t]||(h[t]={}))[r]=n;var o=c.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=h[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!function(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}(t));default:return!1}}(t,e._currentElement.type,e._currentElement.props))return null;var r=a(e);return n&&n[r]},deleteListener:function(e,t){var n=c.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=h[t];r&&delete r[a(e)]},deleteAllListeners:function(e){var t=a(e);for(var n in h)if(h.hasOwnProperty(n)&&h[n][t]){var r=c.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete h[n][t]}},extractEvents:function(e,t,n,r){for(var o,i=c.plugins,a=0;a<i.length;a++){var s=i[a];if(s){var l=s.extractEvents(e,t,n,r);l&&(o=d(o,l))}}return o},enqueueEvents:function(e){e&&(f=d(f,e))},processEventQueue:function(e){var t=f;f=null,p(t,e?o:i),f&&s("95"),u.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};e.exports=m},function(e,t,n){"use strict";var o=n(22),r=n(55),i={view:function(e){if(e.view)return e.view;var t=r(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};function a(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(a,i),e.exports=a},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"loadScript",function(){return o}),n.d(t,"animateIntoView",function(){return a}),n.d(t,"elementInViewport",function(){return s});var r=n(5),i=n.n(r);function o(o){return new i.a(function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=o,r.addEventListener("load",function(){e(r)},!1),r.addEventListener("error",function(){t(r)},!1),n.appendChild(r)})}function a(e,t){if(e&&!s(e)){var r=document.documentElement;!r.scrollTop&&document.body.scrollTop&&(r=document.body);var o=Date.now(),i=o+t,a=Math.min(r.scrollTop+e.getBoundingClientRect().top,r.scrollHeight-window.innerHeight);window.requestAnimationFrame(function e(){var t,n;(t=Date.now())<i?(n=(t-o)/(i-o)*(a-r.scrollTop),r.scrollTop+=n,window.requestAnimationFrame(e)):r.scrollTop=a})}}function s(e){for(var t=e.offsetTop,n=e.offsetLeft,r=e.offsetWidth,o=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t>=window.pageYOffset&&n>=window.pageXOffset&&t+o<=window.pageYOffset+window.innerHeight&&n+r<=window.pageXOffset+window.innerWidth}},function(e,t,n){"use strict";var u=n(8),a=(n(4),{}),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,i,a,s){var l,c;this.isInTransaction()&&u("27");try{l=this._isInTransaction=!0,this.initializeAll(0),c=e.call(t,n,r,o,i,a,s),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=a,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===a)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||u("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,o=t[n],i=this.wrapperInitData[n];try{r=!0,i!==a&&o.close&&o.close.call(this,i),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=r},function(e,t,n){"use strict";var o=n(39),r=n(89),i={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(57),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}};function a(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(a,i),e.exports=a},function(e,t,n){"use strict";var r,o=n(14),i=n(59),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(60)(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{(r=r||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e,t,n){"use strict";var s=/["'&<>]/;e.exports=function(e){return"boolean"==typeof e||"number"==typeof e?""+e:function(e){var t,n=""+e,r=s.exec(n);if(!r)return n;var o="",i=0,a=0;for(i=r.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==i&&(o+=n.substring(a,i)),a=i+1,o+=t}return a!==i?o+n.substring(a,i):o}(e)}},function(e,t,n){"use strict";var r,o=n(9),s=n(52),i=n(153),a=n(89),l=n(94),c=n(56),u={},d=!1,p=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},f="_reactListenersID"+String(Math.random()).slice(2);var m=o({},i,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=function(e){return Object.prototype.hasOwnProperty.call(e,f)||(e[f]=p++,u[e[f]]={}),u[e[f]]}(n),o=s.registrationNameDependencies[e],i=0;i<o.length;i++){var a=o[i];r.hasOwnProperty(a)&&r[a]||("topWheel"===a?c("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===a?c("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===a||"topBlur"===a?(c("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",n),m.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),r.topBlur=!0,r.topFocus=!0):h.hasOwnProperty(a)&&m.ReactEventListener.trapBubbledEvent(a,h[a],n),r[a]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=m.supportsEventPageXY()),!r&&!d){var e=a.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=m},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return o});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"stringFormat",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})}},{key:"ordinalize",value:function(e){var t=["th","st","nd","rd"],n=e%100;return"".concat(e).concat(t[(n-20)%10]||t[n]||t[0])}},{key:"qsFromObj",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"copyDict",value:function(t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}},{key:"mergeDict",value:function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}},{key:"areAnyChanged",value:function(t,n){var r=!1;return Object.keys(n).forEach(function(e){n[e]!=t[e]&&(r=!0)}),Object.keys(t).forEach(function(e){n[e]!=t[e]&&(r=!0)}),r}},{key:"uuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}},{key:"getUrlFromLinkHtml",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild.href}},{key:"sampleArray",value:function(e,t){for(var n=1*e.length,r=[],o=0;o<t;o++)r.push(e[Math.ceil(o*n/t)]);return r}},{key:"isValidEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}}]),e}()},function(e,t,n){"use strict";function r(e){return function(e){var t=[],n=function(e){return e.split(" ")}(e),r=null;n.forEach(function(e){e=e.trim(),!r&&e.startsWith('"')?r=e.endsWith('"')?(r="+"+e,t.push(r),null):"+"+e:r&&e.endsWith('"')?(r+=" "+e,t.push(r),r=null):r?r+=" "+e:e&&(e="+*".concat(e,"*"),t.push(e))}),r&&(r+='"',t.push(r));return t}(function(e){for(var t=0;t<'[]<>/()+"'.length;t++)e=e.replace(new RegExp("\\"+'[]<>/()+"'[t],"gi"),"");return e}(e)).join(" ").trim()}n.r(t),n.d(t,"textToQuery",function(){return r})},function(n,r,o){var i;!function(){var u=function(e){return u.utils.extend({},u.plugins,(new u.Storage).init(e))};u.version="0.4.4",u.utils={extend:function(){for(var e="object"==typeof arguments[0]?arguments[0]:{},t=1;t<arguments.length;t++)if(arguments[t]&&"object"==typeof arguments[t])for(var n in arguments[t])e[n]=arguments[t][n];return e},each:function(e,t,n){if(this.isArray(e)){for(var r=0;r<e.length;r++)if(!1===t.call(n,e[r],r))return}else if(e)for(var o in e)if(!1===t.call(n,e[o],o))return},tryEach:function(e,r,o,i){this.each(e,function(t,n){try{return r.call(i,t,n)}catch(e){if(this.isFunction(o))try{o.call(i,t,n,e)}catch(e){}}},this)},registerPlugin:function(e){u.plugins=this.extend(e,u.plugins)},getTypeOf:function(e){return null==e?""+e:Object.prototype.toString.call(e).replace(/^\[object\s(.*)\]$/,function(e,t){return t.toLowerCase()})}};for(var e=["Arguments","Boolean","Function","String","Array","Number","Date","RegExp","Undefined","Null"],t=0;t<e.length;t++)u.utils["is"+e[t]]=function(t){return function(e){return u.utils.getTypeOf(e)===t.toLowerCase()}}(e[t]);u.plugins={},u.options=u.utils.extend({namespace:"b45i1",storages:["local","cookie","session","memory"],expireDays:365},window.Basil?window.Basil.options:{}),u.Storage=function(){function r(e){var t=u.utils.getTypeOf(e);return"string"===t&&e||"number"===t||"boolean"===t}function a(e){return u.utils.isArray(e)?e:u.utils.isString(e)?[e]:[]}function s(e,t){var n="";return r(t)?n+=t:u.utils.isArray(t)&&(n=(t=u.utils.isFunction(t.filter)?t.filter(r):t).join(".")),n&&r(e)?e+"."+n:n}function l(e,t){return r(e)?t.replace(new RegExp("^"+e+"."),""):t}var e="b45i1"+(Math.random()+1).toString(36).substring(7),c={},t={engine:null,check:function(){try{window[this.engine].setItem(e,!0),window[this.engine].removeItem(e)}catch(e){return!1}return!0},set:function(e,t,n){if(!e)throw Error("invalid key");window[this.engine].setItem(e,t)},get:function(e){return window[this.engine].getItem(e)},remove:function(e){window[this.engine].removeItem(e)},reset:function(e){for(var t,n=0;n<window[this.engine].length;n++)t=window[this.engine].key(n),e&&0!==t.indexOf(e)||(this.remove(t),n--)},keys:function(e){for(var t,n=[],r=0;r<window[this.engine].length;r++)t=window[this.engine].key(r),e&&0!==t.indexOf(e)||n.push(l(e,t));return n}};return c.local=u.utils.extend({},t,{engine:"localStorage"}),c.session=u.utils.extend({},t,{engine:"sessionStorage"}),c.memory={_hash:{},check:function(){return!0},set:function(e,t,n){if(!e)throw Error("invalid key");this._hash[e]=t},get:function(e){return this._hash[e]||null},remove:function(e){delete this._hash[e]},reset:function(e){for(var t in this._hash)e&&0!==t.indexOf(e)||this.remove(t)},keys:function(e){var t=[];for(var n in this._hash)e&&0!==n.indexOf(e)||t.push(l(e,n));return t}},c.cookie={check:function(){if(!navigator.cookieEnabled)return!1;if(window.self===window.top)return!0;var e="thirdparty.check="+Math.round(1e3*Math.random());return document.cookie=e+"; path=/",-1!==document.cookie.indexOf(e)},set:function(e,t,n){if(!this.check())throw Error("cookies are disabled");if(n=n||{},!e)throw Error("invalid key");var r=encodeURIComponent(e)+"="+encodeURIComponent(t);if(n.expireDays){var o=new Date;o.setTime(o.getTime()+24*n.expireDays*60*60*1e3),r+="; expires="+o.toGMTString()}if(n.domain&&n.domain!==document.domain){var i=n.domain.replace(/^\./,"");if(-1===document.domain.indexOf(i)||i.split(".").length<=1)throw Error("invalid domain");r+="; domain="+n.domain}!0===n.secure&&(r+="; secure"),document.cookie=r+"; path=/"},get:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n=encodeURIComponent(e),r=document.cookie?document.cookie.split(";"):[],o=r.length-1;0<=o;o--)if(0===(t=r[o].replace(/^\s*/,"")).indexOf(n+"="))return decodeURIComponent(t.substring(n.length+1,t.length));return null},remove:function(e){this.set(e,"",{expireDays:-1});for(var t=document.domain.split("."),n=t.length;0<=n;n--)this.set(e,"",{expireDays:-1,domain:"."+t.slice(-n).join(".")})},reset:function(e){for(var t,n,r=document.cookie?document.cookie.split(";"):[],o=0;o<r.length;o++)n=(t=r[o].replace(/^\s*/,"")).substr(0,t.indexOf("=")),e&&0!==n.indexOf(e)||this.remove(n)},keys:function(e){if(!this.check())throw Error("cookies are disabled");for(var t,n,r=[],o=document.cookie?document.cookie.split(";"):[],i=0;i<o.length;i++)t=o[i].replace(/^\s*/,""),n=decodeURIComponent(t.substr(0,t.indexOf("="))),e&&0!==n.indexOf(e)||r.push(l(e,n));return r}},{init:function(e){return this.setOptions(e),this},setOptions:function(e){this.options=u.utils.extend({},this.options||u.options,e)},support:function(e){return c.hasOwnProperty(e)},check:function(e){return!!this.support(e)&&c[e].check()},set:function(n,r,o){if(o=u.utils.extend({},this.options,o),!(n=s(o.namespace,n)))return!1;r=!0===o.raw?r:function(e){return JSON.stringify(e)}(r);var i=null;return u.utils.tryEach(a(o.storages),function(e,t){return c[e].set(n,r,o),i=e,!1},null,this),!!i&&(u.utils.tryEach(a(o.storages),function(e,t){e!==i&&c[e].remove(n)},null,this),!0)},get:function(n,r){if(r=u.utils.extend({},this.options,r),!(n=s(r.namespace,n)))return null;var o=null;return u.utils.tryEach(a(r.storages),function(e,t){if(null!==o)return!1;o=c[e].get(n,r)||null,o=!0===r.raw?o:function(e){return e?JSON.parse(e):null}(o)},function(e,t,n){o=null},this),o},remove:function(t,e){e=u.utils.extend({},this.options,e),(t=s(e.namespace,t))&&u.utils.tryEach(a(e.storages),function(e){c[e].remove(t)},null,this)},reset:function(t){t=u.utils.extend({},this.options,t),u.utils.tryEach(a(t.storages),function(e){c[e].reset(t.namespace)},null,this)},keys:function(e){e=e||{};var t=[];for(var n in this.keysMap(e))t.push(n);return t},keysMap:function(e){e=u.utils.extend({},this.options,e);var n={};return u.utils.tryEach(a(e.storages),function(t){u.utils.each(c[t].keys(e.namespace),function(e){n[e]=u.utils.isArray(n[e])?n[e]:[],n[e].push(t)},this)},null,this),n}}},u.memory=(new u.Storage).init({storages:"memory",namespace:null,raw:!0}),u.cookie=(new u.Storage).init({storages:"cookie",namespace:null,raw:!0}),u.localStorage=(new u.Storage).init({storages:"local",namespace:null,raw:!0}),u.sessionStorage=(new u.Storage).init({storages:"session",namespace:null,raw:!0}),window.Basil=u,void 0===(i=function(){return u}.call(r,o,r,n))||(n.exports=i)}()},function(e,t,n){"use strict";var r=n(27),o=n(51),i=(n(74),n(36));n(4),n(6);function a(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},e.exports=a},function(e,t,n){"use strict";n(6);var r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}};e.exports=r},function(e,t,n){"use strict";var i=n(8),a=(n(4),null),s={};function o(){if(a)for(var e in s){var t=s[e],n=a.indexOf(e);if(-1<n||i("96",e),!u.plugins[n]){t.extractEvents||i("97",e);var r=(u.plugins[n]=t).eventTypes;for(var o in r)l(r[o],t,o)||i("98",o,e)}}}function l(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&i("99",n);var r=(u.eventNameDispatchConfigs[n]=e).phasedRegistrationNames;if(r){for(var o in r){if(r.hasOwnProperty(o))c(r[o],t,n)}return!0}return!!e.registrationName&&(c(e.registrationName,t,n),!0)}function c(e,t,n){u.registrationNameModules[e]&&i("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){a&&i("101"),a=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];s.hasOwnProperty(n)&&s[n]===r||(s[n]&&i("102",n),s[n]=r,t=!0)}t&&o()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var o=u.registrationNameModules[n[r]];if(o)return o}}return null},_resetEventPlugins:function(){for(var e in a=null,s)s.hasOwnProperty(e)&&delete s[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};e.exports=u},function(e,t,n){"use strict";var r,i,o=n(8),a=n(54);n(4),n(6);function s(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=l.getNodeFromInstance(r),t?a.invokeGuardedCallbackWithCatch(o,n,e):a.invokeGuardedCallback(o,n,e),e.currentTarget=null}var l={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&o("103"),e.currentTarget=t?l.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r},executeDispatchesInOrder:function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)s(e,t,n[o],r[o]);else n&&s(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}(e);return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getInstanceFromNode:function(e){return r.getInstanceFromNode(e)},getNodeFromInstance:function(e){return r.getNodeFromInstance(e)},isAncestor:function(e,t){return i.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return i.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return i.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return i.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return i.traverseEnterLeave(e,t,n,r,o)},injection:{injectComponentTree:function(e){r=e},injectTreeTraversal:function(e){i=e}}};e.exports=l},function(e,t,n){"use strict";var r=null;function o(e,t,n){try{t(n)}catch(e){null===r&&(r=e)}}var i={invokeGuardedCallback:o,invokeGuardedCallbackWithCatch:o,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}},function(e,t,n){"use strict";var i,a=n(14);a.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
    /**
     * Checks if an event is supported in the current execution environment.
     *
     * NOTE: This will not work correctly for non-generic events such as `change`,
     * `reset`, `load`, `error`, and `select`.
     *
     * Borrows from Modernizr.
     *
     * @param {string} eventNameSuffix Event name, e.g. "click".
     * @param {?boolean} capture Check if the capture phase is supported.
     * @return {boolean} True if the event is supported.
     * @internal
     * @license Modernizr 3.0.0pre (Custom Build) | MIT
     */,e.exports=function(e,t){if(!a.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}},function(e,t,n){"use strict";var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=r[e];return!!n&&!!t[n]}e.exports=function(e){return o}},function(e,t,n){"use strict";var s=n(31),r=n(138),o=(n(10),n(16),n(60)),l=n(44),c=n(90);function u(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}var a=o(function(e,t,n){e.insertBefore(t,n)});function d(e,t,n){Array.isArray(t)?function(e,t,n,r){var o=t;for(;;){var i=o.nextSibling;if(a(e,o,r),o===n)break;o=i}}(e,t[0],t[1],n):a(e,t,n)}function p(e,t){if(Array.isArray(t)){var n=t[1];i(e,t=t[0],n),e.removeChild(n)}e.removeChild(t)}function i(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}var h={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:function(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&a(r,document.createTextNode(n),o):n?(c(o,n),i(r,o,t)):i(r,e,t)},processUpdates:function(e,t){for(var n,r,o,i=0;i<t.length;i++){var a=t[i];switch(a.type){case"INSERT_MARKUP":n=e,r=a.content,o=u(e,a.afterNode),s.insertTreeBefore(n,r,o);break;case"MOVE_EXISTING":d(e,a.fromNode,u(e,a.afterNode));break;case"SET_MARKUP":l(e,a.content);break;case"TEXT_CONTENT":c(e,a.content);break;case"REMOVE_NODE":p(e,a.fromNode)}}}};e.exports=h},function(e,t,n){"use strict";e.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},function(e,t,n){"use strict";e.exports=function(o){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return o(e,t,n,r)})}:o}},function(e,t,n){"use strict";var r=n(8),o=n(20),i=n(155),a=(n(4),n(6),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function s(e){null!=e.checkedLink&&null!=e.valueLink&&r("87")}function l(e){s(e),null==e.value&&null==e.onChange||r("88")}function c(e){s(e),null==e.checked&&null==e.onChange||r("89")}var u={value:function(e,t,n){return!e[t]||a[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:o.PropTypes.func},d={};function p(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var h={checkPropTypes:function(e,t,n){for(var r in u){if(u.hasOwnProperty(r))var o=u[r](t,r,e,"prop",null,i);if(o instanceof Error&&!(o.message in d)){d[o.message]=!0;p(n)}}},getValue:function(e){return e.valueLink?(l(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(c(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(l(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(c(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=h},function(e,t,n){"use strict";var r=n(8),o=(n(4),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!i.call(t,n[o])||!a(e[n[o]],t[n[o]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n==r;var o=typeof e,i=typeof t;return"string"==o||"number"==o?"string"==i||"number"==i:"object"==i&&e.type===t.type&&e.key===t.key}},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},function(e,t,n){"use strict";var r,a,o,i,s,l,c,u=n(27),d=n(21);n(4),n(6);function p(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=t.call(e);return r.test(o)}catch(e){return!1}}if("function"==typeof Array.from&&"function"==typeof Map&&p(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&p(Map.prototype.keys)&&"function"==typeof Set&&p(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&p(Set.prototype.keys)){var h=new Map,f=new Set;r=function(e,t){h.set(e,t)},a=function(e){return h.get(e)},o=function(e){h.delete(e)},i=function(){return Array.from(h.keys())},s=function(e){f.add(e)},l=function(e){f.delete(e)},c=function(){return Array.from(f.keys())}}else{var m={},g={},y=function(e){return"."+e},v=function(e){return parseInt(e.substr(1),10)};r=function(e,t){var n=y(e);m[n]=t},a=function(e){var t=y(e);return m[t]},o=function(e){var t=y(e);delete m[t]},i=function(){return Object.keys(m).map(v)},s=function(e){var t=y(e);g[t]=!0},l=function(e){var t=y(e);delete g[t]},c=function(){return Object.keys(g).map(v)}}var b=[];function _(e){var t=a(e);if(t){var n=t.childIDs;o(e),n.forEach(_)}}function A(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function E(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}var k={onSetChildren:function(e,t){var n=a(e);n||u("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var o=t[r],i=a(o);i||u("140"),null==i.childIDs&&"object"==typeof i.element&&null!=i.element&&u("141"),i.isMounted||u("71"),null==i.parentID&&(i.parentID=e),i.parentID!==e&&u("142",o,i.parentID,e)}},onBeforeMountComponent:function(e,t,n){r(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=a(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=a(e);t||u("144"),t.isMounted=!0,0===t.parentID&&s(e)},onUpdateComponent:function(e){var t=a(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=a(e);t&&(t.isMounted=!1,0===t.parentID&&l(e));b.push(e)},purgeUnmountedComponents:function(){if(!k._preventPurging){for(var e=0;e<b.length;e++){_(b[e])}b.length=0}},isMounted:function(e){var t=a(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=E(e),r=e._owner;t+=A(n,e._source,r&&r.getName())}var o=d.current,i=o&&o._debugID;return t+=k.getStackAddendumByID(i)},getStackAddendumByID:function(e){for(var t,n,r,o,i,a="";e;)a+=(t=e,n=void 0,r=k.getDisplayName(t),o=k.getElement(t),(i=k.getOwnerID(t))&&(n=k.getDisplayName(i)),A(r,o&&o._source,n)),e=k.getParentID(e);return a},getChildIDs:function(e){var t=a(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=k.getElement(e);return t?E(t):null},getElement:function(e){var t=a(e);return t?t.element:null},getOwnerID:function(e){var t=k.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=a(e);return t?t.parentID:null},getSource:function(e){var t=a(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=k.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=a(e);return t?t.updateCount:0},getRootIDs:c,getRegisteredIDs:i};e.exports=k},function(e,t,n){"use strict";var r=n(8),o=(n(21),n(32)),i=(n(16),n(18));n(4),n(6);function a(e){i.enqueueUpdate(e)}function s(e){var t=o.get(e);return t||null}var l={isMounted:function(e){var t=o.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var r=s(e);if(!r)return null;r._pendingCallbacks?r._pendingCallbacks.push(t):r._pendingCallbacks=[t],a(r)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],a(e)},enqueueForceUpdate:function(e){var t=s(e);t&&(t._pendingForceUpdate=!0,a(t))},enqueueReplaceState:function(e,t){var n=s(e);n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,a(n))},enqueueSetState:function(e,t){var n=s(e);n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),a(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,a(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&r("122",t,function(e){var t=typeof e;if("object"!=t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return 0<r.length&&r.length<20?n+" (keys: "+r.join(", ")+")":n}(e))}};e.exports=l},function(e,t,n){"use strict";n(9);var r=n(15),o=(n(6),r);e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,32<=t||13===t?t:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__keep=t.joinConcat=t.joinStrict=t.joinLeading=t.all=t.joinTrailing=t.use=t.nextTick=t.setEventEmitter=t.createActions=t.createStore=t.createAction=t.utils=t.StoreMethods=t.PublisherMethods=t.ListenerMethods=t.ActionMethods=t.version=void 0;var r=p(n(106)),o=p(n(24)),i=p(n(72)),a=p(n(109)),s=n(107),l=p(n(19)),c=n(202),u=n(108),d=p(n(71));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){var t={};return e instanceof Array?e.forEach(function(e){l.isObject(e)?_(e,t):t[e]=(0,c.createAction)(e)}):_(e,t),t}var f=(0,s.staticJoinCreator)("last"),m=f,g=(0,s.staticJoinCreator)("first"),y=(0,s.staticJoinCreator)("strict"),v=(0,s.staticJoinCreator)("all"),b=l;function _(n,r){Object.keys(n).forEach(function(e){var t=n[e];r[e]=(0,c.createAction)(t)})}t.version={"reflux-core":"0.4.3"},t.ActionMethods=r,t.ListenerMethods=o,t.PublisherMethods=i,t.StoreMethods=a,t.utils=b,t.createAction=c.createAction,t.createStore=u.createStore,t.createActions=h,t.setEventEmitter=function(e){l.EventEmitter=e},t.nextTick=function(e){l.nextTick=e},t.use=function(e){e(this)},t.joinTrailing=f,t.all=m,t.joinLeading=g,t.joinStrict=y,t.joinConcat=v,t.__keep=d,Object.defineProperty(t,"default",{get:function(){return t}}),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!1,o=[],i=[];t.useKeep=function(){r=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]},t.addStore=function(e){r&&o.push(e)},t.addAction=function(e){r&&i.push(e)},t.createdStores=o,t.createdActions=i,t.reset=function(){for(;o.length;)o.pop();for(;i.length;)i.pop()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deferWith=t.triggerAsync=t.trigger=t.listen=t.shouldEmit=t.preEmit=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(19));t.preEmit=function(){},t.shouldEmit=function(){return!0},t.listen=function(t,n){n=n||this;function e(e){o||t.apply(n,e)}var r=this,o=!1;return this.emitter.addListener(this.eventLabel,e),function(){o=!0,r.emitter.removeListener(r.eventLabel,e)}},t.trigger=function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:r.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},t.triggerAsync=function(){var e=arguments,t=this;r.nextTick(function(){t.trigger.apply(t,e)})},t.deferWith=function(e){var t=this.trigger,n=this;this.trigger=function(){e.apply(n,[function(){t.apply(n,arguments)}].concat([].splice.call(arguments,0)))}}},function(e,t,n){var r=n(19),o=n(24);e.exports=r.extend({componentWillUnmount:o.stopListeningToAll},o)},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var g=n(27),y=(n(21),n(75)),v=n(77),b=(n(4),n(78)),_=(n(6),"."),A=":";function E(e,t){return e&&"object"==typeof e&&null!=e.key?b.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,r,o){var i,a=typeof t;if("undefined"!=a&&"boolean"!=a||(t=null),null===t||"string"==a||"number"==a||"object"==a&&t.$$typeof===y)return r(o,t,""===n?_+E(t,0):n),1;var s=0,l=""===n?_:n+A;if(Array.isArray(t))for(var c=0;c<t.length;c++)s+=e(i=t[c],l+E(i,c),r,o);else{var u=v(t);if(u){var d,p=u.call(t);if(u!==t.entries)for(var h=0;!(d=p.next()).done;)s+=e(i=d.value,l+E(i,h++),r,o);else for(;!(d=p.next()).done;){var f=d.value;f&&(s+=e(i=f[1],l+b.escape(f[0])+A+E(i,0),r,o))}}else if("object"==a){var m=String(t);g("31","[object Object]"===m?"object with keys {"+Object.keys(t).join(", ")+"}":m,"")}}return s}(e,"",t,n)}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator;e.exports=function(e){var t=e&&(r&&e[r]||e["@@iterator"]);if("function"==typeof t)return t}},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=r},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(27),o=n(28);n(4);e.exports=function(e){return o.isValidElement(e)||r("143"),e}},function(e,t,n){"use strict";var r=n(10),o=n(125),i=n(104),a=n(30),s=n(18),l=n(196),c=n(197),u=n(105),d=n(198);n(6);o.inject();var p={findDOMNode:c,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=u(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a}),e.exports=p},function(e,t,n){"use strict";e.exports={hasCachedChildNodes:1}},function(e,t,n){"use strict";var r=n(8);n(4);e.exports=function(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}},function(e,t,n){"use strict";e.exports=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}},function(e,t,n){"use strict";var r=n(14),o=null;e.exports=function(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}},function(e,t,n){"use strict";var o=n(8);var r=n(23),i=(n(4),a.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},a.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&o("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},a.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},a.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},a.prototype.reset=function(){this._callbacks=null,this._contexts=null},a.prototype.destructor=function(){this.reset()},a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this._callbacks=null,this._contexts=null,this._arg=e}e.exports=r.addPoolingTo(i)},function(e,t,n){"use strict";e.exports={logTopLevelRenders:!1}},function(e,t,n){"use strict";var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";var r=n(14),o=n(45),i=n(44),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){3!==e.nodeType?i(e,o(t)):e.nodeValue=t})),e.exports=a},function(e,t,n){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},function(e,t,n){"use strict";var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var o=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){o.forEach(function(e){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(e,t)]=r[t]})});var i={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=i},function(e,t,n){"use strict";var s=n(29),o=(n(10),n(16),n(152)),r=(n(6),new RegExp("^["+s.ATTRIBUTE_NAME_START_CHAR+"]["+s.ATTRIBUTE_NAME_CHAR+"]*$")),i={},a={};function l(e){return!!a.hasOwnProperty(e)||!i.hasOwnProperty(e)&&(r.test(e)?a[e]=!0:!(i[e]=!0))}function c(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var u={createMarkupForID:function(e){return s.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(s.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return s.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(s.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=s.properties.hasOwnProperty(e)?s.properties[e]:null;if(n){if(c(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+o(t)}return s.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},createMarkupForCustomAttribute:function(e,t){return l(e)&&null!=t?e+"="+o(t):""},setValueForProperty:function(e,t,n){var r=s.properties.hasOwnProperty(t)?s.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,n);else{if(c(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var i=r.attributeName,a=r.attributeNamespace;a?e.setAttributeNS(a,i,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(i,""):e.setAttribute(i,""+n)}}}else if(s.isCustomAttribute(t))return void u.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){l(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=s.properties.hasOwnProperty(t)?s.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else s.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=u},function(e,t,n){"use strict";var r=n(14);function o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var i={animationend:o("Animation","AnimationEnd"),animationiteration:o("Animation","AnimationIteration"),animationstart:o("Animation","AnimationStart"),transitionend:o("Transition","TransitionEnd")},a={},s={};r.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete i.animationend.animation,delete i.animationiteration.animation,delete i.animationstart.animation),"TransitionEvent"in window||delete i.transitionend.transition),e.exports=function(e){if(a[e])return a[e];if(!i[e])return e;var t=i[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return a[e]=t[n];return""}},function(e,t,n){"use strict";var r=n(9),o=n(61),s=n(10),i=n(18),a=(n(6),!1);function l(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=o.getValue(e);null!=t&&c(this,Boolean(e.multiple),t)}}function c(e,t,n){var r,o,i=s.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}var u={getHostProps:function(e,t){return r({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=o.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:function(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);this._rootNodeID&&(this._wrapperState.pendingUpdate=!0);return i.asap(l,this),n}.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||a||(a=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=o.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,c(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?c(e,Boolean(t.multiple),t.defaultValue):c(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=u},function(e,t,n){"use strict";var o=n(8),r=n(9),i=n(160),a=n(98),s=n(99),l=(n(161),n(4),n(6),function(e){this.construct(e)});function c(e,t){var n;if(null===e||!1===e)n=a.create(c);else if("object"==typeof e){var r=e;(!r||"function"!=typeof r.type&&"string"!=typeof r.type)&&o("130",null==r.type?r.type:typeof r.type,function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}(r._owner)),"string"==typeof r.type?n=s.createInternalComponent(r):!function(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}(r.type)?n=new l(r):(n=new r.type(r)).getHostNode||(n.getHostNode=n.getNativeNode)}else"string"==typeof e||"number"==typeof e?n=s.createInstanceForText(e):o("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}r(l.prototype,i,{_instantiateReactComponent:c}),e.exports=c},function(e,t,n){"use strict";var r=n(8),o=n(20),i=(n(4),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});e.exports=i},function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,e.exports=i},function(e,t,n){"use strict";var r=n(8),o=n(9),i=(n(4),null),a={},s=null;var l={createInternalComponent:function(e){return i||r("111",e.type),new i(e)},createInstanceForText:function(e){return new s(e)},isTextComponent:function(e){return e instanceof s},injection:{injectGenericComponentClass:function(e){i=e},injectTextComponentClass:function(e){s=e},injectComponentClasses:function(e){o(a,e)}}};e.exports=l},function(e,t,n){"use strict";var g=n(8),y=(n(21),n(162)),v=n(163),b=(n(4),n(65)),_=(n(6),"."),A=":";function E(e,t){return e&&"object"==typeof e&&null!=e.key?b.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,r,o){var i,a=typeof t;if("undefined"!=a&&"boolean"!=a||(t=null),null===t||"string"==a||"number"==a||"object"==a&&t.$$typeof===y)return r(o,t,""===n?_+E(t,0):n),1;var s=0,l=""===n?_:n+A;if(Array.isArray(t))for(var c=0;c<t.length;c++)s+=e(i=t[c],l+E(i,c),r,o);else{var u=v(t);if(u){var d,p=u.call(t);if(u!==t.entries)for(var h=0;!(d=p.next()).done;)s+=e(i=d.value,l+E(i,h++),r,o);else for(;!(d=p.next()).done;){var f=d.value;f&&(s+=e(i=f[1],l+b.escape(f[0])+A+E(i,0),r,o))}}else if("object"==a){var m=String(t);g("31","[object Object]"===m?"object with keys {"+Object.keys(t).join(", ")+"}":m,"")}}return s}(e,"",t,n)}},function(e,t,n){"use strict";var r=n(15),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";var i=n(175),o=n(177),a=n(91),s=n(103);var l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,r=e.selectionRange;t!==n&&function(e){return o(document.documentElement,e)}(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";e.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(e,t,n){"use strict";var g=n(8),d=n(31),r=n(29),y=n(20),a=n(46),p=(n(21),n(10)),l=n(192),i=n(193),c=n(87),v=n(32),h=(n(16),n(194)),u=n(30),b=n(67),s=n(18),_=n(36),f=n(96),m=(n(4),n(44)),A=n(64),E=(n(6),r.ID_ATTRIBUTE_NAME),o=r.ROOT_ATTRIBUTE_NAME,k=1,x=9,T=11,w={};function S(e){return e?e.nodeType===x?e.documentElement:e.firstChild:null}function C(e,t,n,r,o){var i;if(c.logTopLevelRenders){var a=e._currentElement.props.child.type;i="React mount: "+("string"==typeof a?a:a.displayName||a.name),console.time(i)}var s=u.mountComponent(e,n,null,l(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,M._mountImageIntoNode(s,t,e,r,n)}function P(e,t,n,r){var o=s.ReactReconcileTransaction.getPooled(!n&&i.useCreateElement);o.perform(C,null,e,t,o,n,r),s.ReactReconcileTransaction.release(o)}function j(e,t,n){for(0,u.unmountComponent(e,n),t.nodeType===x&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function O(e){var t=S(e);if(t){var n=p.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function R(e){return!(!e||e.nodeType!==k&&e.nodeType!==x&&e.nodeType!==T)}function L(e){var t=function(e){var t=S(e),n=t&&p.getInstanceFromNode(t);return n&&!n._hostParent?n:null}(e);return t?t._hostContainerInfo._topLevelWrapper:null}function I(){this.rootID=D++}var D=1;I.prototype.isReactComponent={},I.prototype.render=function(){return this.props.child},I.isReactTopLevelWrapper=!0;var M={TopLevelWrapper:I,_instancesByReactRootID:w,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return M.scrollMonitor(r,function(){b.enqueueElementInternal(e,t,n),o&&b.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){R(t)||g("37"),a.ensureScrollValueMonitoring();var o=f(e,!1);s.batchedUpdates(P,o,t,n,r);var i=o._instance.rootID;return w[i]=o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&v.has(e)||g("38"),M._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){b.validateCallback(r,"ReactDOM.render"),y.isValidElement(t)||g("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var o,i=y.createElement(I,{child:t});if(e){var a=v.get(e);o=a._processChildContext(a._context)}else o=_;var s=L(n);if(s){var l=s._currentElement.props.child;if(A(l,t)){var c=s._renderedComponent.getPublicInstance(),u=r&&function(){r.call(c)};return M._updateRootComponent(s,i,o,n,u),c}M.unmountComponentAtNode(n)}var d=S(n),p=d&&!!function(e){return e.getAttribute&&e.getAttribute(E)||""}(d),h=O(n),f=p&&!s&&!h,m=M._renderNewRootComponent(i,n,f,o)._renderedComponent.getPublicInstance();return r&&r.call(m),m},render:function(e,t,n){return M._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){R(e)||g("40");var t=L(e);if(t)return delete w[t._instance.rootID],s.batchedUpdates(j,t,e,!1),!0;O(e),1===e.nodeType&&e.hasAttribute(o);return!1},_mountImageIntoNode:function(e,t,n,r,o){if(R(t)||g("41"),r){var i=S(t);if(h.canReuseMarkup(e,i))return void p.precacheNode(n,i);var a=i.getAttribute(h.CHECKSUM_ATTR_NAME);i.removeAttribute(h.CHECKSUM_ATTR_NAME);var s=i.outerHTML;i.setAttribute(h.CHECKSUM_ATTR_NAME,a);var l=e,c=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}(l,s),u=" (client) "+l.substring(c-20,c+20)+"\n (server) "+s.substring(c-20,c+20);t.nodeType===x&&g("42",u)}if(t.nodeType===x&&g("43"),o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else m(t,e),p.precacheNode(n,t.firstChild)}};e.exports=M},function(e,t,n){"use strict";var r=n(97);e.exports=function(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.HOST?e._renderedComponent:t===r.EMPTY?null:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticJoinCreator=function(t){return function(){var e=c.call(arguments);return(0,r.createStore)({init:function(){this[o[t]].apply(this,e.concat("triggerAsync"))}})}},t.instanceJoinCreator=function(s){return function(){l.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var e,t,n=c.call(arguments),r=n.pop(),o=n.length,i={numberOfListenables:o,callback:this[r]||r,listener:this,strategy:s},a=[];for(e=0;e<o;e++)l.throwIf(this.validateListening(n[e]));for(e=0;e<o;e++)a.push(n[e].listen(d(e,i),this));return u(i),(t={listenable:n}).stop=function(r,o,i){return function(){var e,t=i.subscriptions,n=t?t.indexOf(r):-1;for(l.throwIf(-1===n,"Tried to remove join already gone from subscriptions list!"),e=0;e<o.length;e++)o[e]();t.splice(n,1)}}(t,a,this),this.subscriptions=(this.subscriptions||[]).concat(t),t}};var r=n(108),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(19));var c=Array.prototype.slice,o={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};function u(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}function d(t,n){return function(){var e=c.call(arguments);if(n.listenablesEmitted[t])switch(n.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":n.args[t]=e;break;case"all":n.args[t].push(e)}else n.listenablesEmitted[t]=!0,n.args[t]="all"===n.strategy?[e]:e;!function(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),u(e)}(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=function(n){for(var e in n=n||{},c)if(!p[e]&&(u[e]||d[e]))throw new Error("Cannot override API method "+e+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var t in n)if(!p[t]&&(u[t]||d[t]))throw new Error("Cannot override API method "+t+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");function r(){var e,t=0;if(this.subscriptions=[],this.emitter=new i.EventEmitter,this.eventLabel="change",(0,l.bindMethods)(this,n),this.init&&i.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);t<e.length;t++)this.listenToMany(e[t])}n=(0,s.mix)(n),i.extend(r.prototype,d,u,c,n);var o=new r;return a.addStore(o),o};var i=r(n(19)),a=r(n(71)),s=n(200),l=n(201),c=r(n(109)),u=r(n(72)),d=r(n(24));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p={preEmit:1,shouldEmit:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=n(81),o=n(32);t.getReactDOM=function(){return r},t.getReactInstanceMap=function(){return o}},function(e,t,n){e.exports=n.p+"1b2d0d5a4bdea065ccd6802ac6415c39.eot"},function(e,t,n){var r;r=function(n){return i={},r.m=o=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}}function a(e){return e&&e.__esModule?e:{default:e}}var s=n(1),l=a(n(2)),c=a(n(4)),u=a(n(6)),d=a(n(17)),p=a(n(18)),h=a(n(19)),f=a(n(20)),m=a(n(21)),g=0,y=1,v="9DFB77C0",b={mp4:"video/mp4",ogg:"video/ogg","3gpp":"video/3gpp",webm:"video/webm",mkv:"video/x-matroska",m3u8:"application/x-mpegurl",mpd:"application/dash+xml"};b.ogv=b.ogg,b["3gp"]=b["3gpp"];var _=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(A,s.UICorePlugin),r(A,[{key:"version",get:function(){return"0.1.1"}},{key:"name",get:function(){return"chromecast"}},{key:"tagName",get:function(){return"button"}},{key:"attributes",get:function(){return{class:"chromecast-button",type:"button"}}},{key:"events",get:function(){return{click:"click"}}},{key:"options",get:function(){return this.core.options.chromecast||(this.core.options.chromecast={})}},{key:"container",get:function(){return this.core.getCurrentContainer?this.core.getCurrentContainer():this.core.activeContainer}},{key:"playback",get:function(){return this.core.getCurrentPlayback?this.core.getCurrentPlayback():this.core.activePlayback}}],[{key:"Movie",get:function(){return"movie"}},{key:"TvShow",get:function(){return"tv_show"}},{key:"Generic",get:function(){return"none"}},{key:"version",get:function(){return"0.1.1"}}]),r(A,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,s.Events.MEDIACONTROL_RENDERED,this.render),s.Events.CORE_ACTIVE_CONTAINER_CHANGED?this.listenTo(this.core,s.Events.CORE_ACTIVE_CONTAINER_CHANGED,this.containerChanged):this.listenTo(this.core.mediaControl,s.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&(this.listenTo(this.container,s.Events.CONTAINER_TIMEUPDATE,this.containerTimeUpdate),this.listenTo(this.container,s.Events.CONTAINER_PLAY,this.containerPlay),this.listenTo(this.container,s.Events.CONTAINER_ENDED,this.sessionStopped))}},{key:"isBootable",value:function(){return!!s.Browser.isChrome&&(s.Browser.version<=71||this.isSecure()||this.isLocalhost())}},{key:"isLocalhost",value:function(){return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}},{key:"isSecure",value:function(){return"https:"===window.location.protocol}},{key:"enable",value:function(){i(Object.getPrototypeOf(A.prototype),"enable",this).call(this),this.render(),this.embedScript()}},{key:"embedScript",value:function(){var e=this;if(window.chrome&&window.chrome.cast&&window.chrome.cast.isAvailable)this.bootstrapCastApi();else{var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","async"),t.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),t.onload=function(){return e.bootstrapCastApi()},document.body.appendChild(t)}}},{key:"bootstrapCastApi",value:function(){var n=this;if(this.bootTryCount++,this.bootTryCount>this.bootMaxTryCount)return this.bootTryCount=0,s.Log.warn("GCastApi bootstrap timeout"),void this.disable();window.chrome?(this.bootTryCount=0,window.chrome.cast&&window.chrome.cast.isAvailable?(this.appId=this.appId||v,this.initializeCastApi()):window.__onGCastApiAvailable=function(e,t){e?(n.appId=n.appId||v,n.initializeCastApi()):(s.Log.warn("GCastApi error",t),n.disable())}):setTimeout(function(){n.bootstrapCastApi()},this.bootTryDelay)}},{key:"updateCCTrackID",value:function(t){if(-1===t||0!==this.textTracks.filter(function(e){return e.id===t}).length){var e=[];-1!==t&&(e=[t]),this.session&&this.session.sendMessage("urn:x-cast:"+this.messageNamespace+":active-text-tracks",e);var n=this.core.getCurrentContainer();n&&n.trigger(s.Events.CONTAINER_SUBTITLE_CHANGED,{id:t})}else console.warn("Failed to enable text track with ID "+t+", as it does not exist.")}},{key:"initializeCastApi",value:function(){var t=this,e=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,n=new chrome.cast.SessionRequest(this.appId),r=new chrome.cast.ApiConfig(n,function(e){return t.sessionListener(e)},function(e){return t.receiverListener(e)},e);chrome.cast.initialize(r,function(){return s.Log.debug(t.name,"init success")},function(){return s.Log.warn(t.name,"init error")})}},{key:"sessionListener",value:function(e){s.Log.debug(this.name,"new session id:"+e.sessionId),this.newSession(e)}},{key:"sessionUpdateListener",value:function(){this.session&&(s.Log.debug(this.name,this.session.status),this.session.status===chrome.cast.SessionStatus.STOPPED&&(this.sessionStopped(),this.session=null))}},{key:"onSessionTextTracks",value:function(e){this.textTracks=e.map(function(e){return{id:e.trackId,name:e.name,track:e}}),0<this.textTracks.length&&(this.playbackProxy&&(this.playbackProxy._closedCaptionsTracks=this.textTracks),this.trigger(s.Events.PLAYBACK_SUBTITLE_AVAILABLE),this.updateCCTrackID(this.core.getCurrentContainer().closedCaptionsTrackId))}},{key:"receiverListener",value:function(e){e===chrome.cast.ReceiverAvailability.AVAILABLE?(s.Log.debug(this.name,"receiver found"),this.show()):(s.Log.debug(this.name,"receiver list empty"),this.hide())}},{key:"launchSuccess",value:function(e){this.renderConnected(),clearInterval(this.connectAnimInterval),this.core.mediaControl.resetKeepVisible(),s.Log.debug(this.name,"launch success - session: "+e.sessionId),this.newSession(e)}},{key:"launchError",value:function(e){s.Log.debug(this.name,"error on launch",e),this.renderDisconnected(),clearInterval(this.connectAnimInterval),this.core.mediaControl.resetKeepVisible(),this.container.play()}},{key:"loadMediaSuccess",value:function(e,t){var n=this;s.Log.debug(this.name,"new media session",t,"(",e,")"),this.originalPlayback=this.playback;var r=(0,u.default)({},this.originalPlayback.options,{currentMedia:t,mediaControl:this.core.mediaControl,poster:this.options.poster||this.core.options.poster,settings:this.originalPlayback.settings,ccTracks:this.textTracks,updateCCTrackID:function(e){return n.updateCCTrackID(e)}});this.src=this.originalPlayback.src,this.playbackProxy=new l.default(r),this.playbackProxy.render(),this.core.$el.addClass("chromecast-active"),this.mediaSession=t,this.originalPlayback.$el.remove();var o=this.container;o.$el.append(this.playbackProxy.$el),o.stopListening(),o.playback=this.playbackProxy,o.bindEvents(),o.settingsUpdate()}},{key:"loadMediaError",value:function(e){s.Log.warn(this.name,"media error",e)}},{key:"newSession",value:function(e){var n=this;this.session=e,this.deviceState=y,this.renderConnected(),e.addUpdateListener(function(){return n.sessionUpdateListener()}),e.addMessageListener("urn:x-cast:"+this.messageNamespace+":text-tracks",function(e,t){return n.onSessionTextTracks(JSON.parse(t))}),this.containerPlay()}},{key:"sessionStopped",value:function(){this.renderDisconnected();var e=this.currentTime,t=void 0;this.mediaSession&&(t=this.mediaSession.playerState,this.mediaSession=null),this.core.$el.removeClass("chromecast-active"),this.core.load(this.src||this.core.options.sources);var n=this.container;this.playbackProxy&&(!this.playbackProxy.isPlaying()&&"PAUSED"!==t||n.once(s.Events.CONTAINER_READY,function(){n.play(),n.playback.seek(100*e/n.getDuration())}),this.playbackProxy.stop())}},{key:"loadMedia",value:function(){var t=this;this.container.pause();var e=this.container.options.src;s.Log.debug(this.name,"loading... "+e);var n=this.createMediaInfo(e),r=new chrome.cast.media.LoadRequest(n);r.autoplay=!0,this.currentTime&&(r.currentTime=this.currentTime),this.session.loadMedia(r,function(e){return t.loadMediaSuccess("loadMedia",e)},function(e){return t.loadMediaError(e)})}},{key:"createMediaInfo",value:function(e){var t=A.mimeTypeFor(e),n=new chrome.cast.media.MediaInfo(e);n.contentType=this.options.contentType||t,n.customData=this.options.customData;var r=this.createMediaMetadata();return n.metadata=r,n}},{key:"createMediaMetadata",value:function(){this.options.media||(this.options.media={});var e=this.options.media.type,t=this.createCastMediaMetadata(e);return t.title=this.options.media.title,t.subtitle=this.options.media.subtitle,t.releaseDate=this.options.media.releaseDate,e===A.TvShow?(t.episode=this.options.media.episode,t.originalAirdate=this.options.media.originalAirdate,t.season=this.options.media.season,t.seriesTitle=this.options.media.seriesTitle):e===A.Movie&&(t.studio=this.options.media.studio),this.options.media.images&&(t.images=this.options.media.images.map(function(e){return new chrome.cast.Image(e)})),!t.images&&this.options.poster&&(t.images=[new chrome.cast.Image(this.options.poster)]),!t.images&&this.core.options.poster&&(t.images=[new chrome.cast.Image(this.core.options.poster)]),t}},{key:"createCastMediaMetadata",value:function(e){switch(e){case A.Movie:return new chrome.cast.media.MovieMediaMetadata;case A.TvShow:return new chrome.cast.media.TvShowMediaMetadata;default:return new chrome.cast.media.GenericMediaMetadata}}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"click",value:function(){var e,t,n=this;this.currentTime=this.container.getCurrentTime(),this.container.pause(),chrome.cast.requestSession(function(e){return n.launchSuccess(e)},function(e){return n.launchError(e)}),this.session||(e=0,t=[p.default,h.default,f.default],clearInterval(n.connectAnimInterval),n.connectAnimInterval=setInterval(function(){n.$el.html(t[e]),e=(e+1)%3},600),n.core.mediaControl.setKeepVisible())}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"containerTimeUpdate",value:function(e){this.currentTime=e.current}},{key:"containerPlay",value:function(){!this.session||this.mediaSession&&"IDLE"!==this.mediaSession.playerState&&"PAUSED"!==this.mediaSession.playerState||(s.Log.debug(this.name,"load media"),this.loadMedia())}},{key:"renderConnected",value:function(){this.$el.html(m.default)}},{key:"renderDisconnected",value:function(){this.$el.html(d.default)}},{key:"render",value:function(){return this.session?this.renderConnected():this.renderDisconnected(),this.core.mediaControl.$el.find(".media-control-right-panel[data-media-control]").append(this.$el),this.$style&&this.$style.remove(),this.$style=s.Styler.getStyleFor(c.default,{baseUrl:this.core.options.baseUrl}),this.core.$el.append(this.$style),this}}],[{key:"mimeTypeFor",value:function(e){var t=(e.split("?")[0].match(/.*\.(.*)$/)||[])[1];return b[t]?b[t]:-1<e.indexOf(".ism")?"application/vnd.ms-sstr+xml":void 0}}]),A);function A(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),i(Object.getPrototypeOf(A.prototype),"constructor",this).call(this,e),this.bootTryDelay=this.options.bootTryDelay||500,this.bootMaxTryCount=this.options.bootMaxTryCount||6,this.bootTryCount=0,this.textTracks=[],this.messageNamespace=this.options.customNamespace||"clappr-chromecast-plugin",this.isBootable()?(this.appId=this.options.appId||v,this.deviceState=g,this.embedScript()):this.disable()}t.default=_,e.exports=t.default},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n(1),s=n(3),l=(i=s)&&i.__esModule?i:{default:i},c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,a.Playback),r(u,[{key:"name",get:function(){return"chromecast_playback"}},{key:"template",get:function(){return(0,a.template)(l.default)}},{key:"attributes",get:function(){return{class:"chromecast-playback"}}},{key:"isReady",get:function(){return!0}}]),r(u,[{key:"render",value:function(){var e=this.template();this.$el.html(e),this.options.poster?this.$(".chromecast-playback-background").css("background-image","url("+this.options.poster+")"):this.$(".chromecast-playback-background").css("background-color","#666")}},{key:"play",value:function(){this.currentMedia.play()}},{key:"pause",value:function(){this.stopTimer(),this.currentMedia.pause(),this.getPlaybackType()===a.Playback.LIVE&&this.trigger(a.Events.PLAYBACK_DVR,!0)}},{key:"stop",value:function(){this.stopTimer(),this.currentMedia.pause()}},{key:"seek",value:function(e){var t=this;this.stopTimer();var n=new chrome.cast.media.SeekRequest;n.currentTime=e,this.currentMedia.seek(n,function(){return t.startTimer()},function(){return a.Log.warn("seek failed")}),this.getPlaybackType()===a.Playback.LIVE&&this.trigger(a.Events.PLAYBACK_DVR,e<this.getDuration()-30)}},{key:"seekPercentage",value:function(e){if(0<=e&&e<=100){var t=this.getDuration();this.seek(e*t/100)}}},{key:"startTimer",value:function(){var e=this;this.timer=setInterval(function(){return e.updateMediaControl()},100)}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"getDuration",value:function(){return this.currentMedia.media.duration}},{key:"isPlaying",value:function(){return"PLAYING"===this.currentMedia.playerState||"BUFFERING"===this.currentMedia.playerState}},{key:"getPlaybackType",value:function(){return this.currentMedia.liveSeekableRange?a.Playback.LIVE:a.Playback.VOD}},{key:"onMediaStatusUpdate",value:function(){this.mediaControl.changeTogglePlay(),this.isPlaying()&&!this.timer&&this.startTimer(),"BUFFERING"===this.currentMedia.playerState?(this.isBuffering=!0,this.trigger(a.Events.PLAYBACK_BUFFERING,this.name)):"PLAYING"===this.currentMedia.playerState?(this.isBuffering&&(this.isBuffering=!1,this.trigger(a.Events.PLAYBACK_BUFFERFULL,this.name)),this.prevState!==this.currentMedia.playerState&&this.trigger(a.Events.PLAYBACK_PLAY,this.name)):"IDLE"===this.currentMedia.playerState?(this.isBuffering&&(this.isBuffering=!1,this.trigger(a.Events.PLAYBACK_BUFFERFULL,this.name)),this.trigger(a.Events.PLAYBACK_ENDED,this.name)):"PAUSED"===this.currentMedia.playerState&&this.prevState!==this.currentMedia.playerState&&this.trigger(a.Events.PLAYBACK_PAUSE,this.name),this.prevState=this.currentMedia.playerState}},{key:"updateMediaControl",value:function(){var e=this.currentMedia.getEstimatedTime(),t=this.currentMedia.media.duration;this.trigger(a.Events.PLAYBACK_TIMEUPDATE,{current:e,total:t},this.name)}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"closedCaptionsTracks",get:function(){return this._closedCaptionsTracks}},{key:"closedCaptionsTrackId",get:function(){return this._ccTrackId},set:function(e){this._ccTrackId=e,this._updateCCTrackID(e)}}]),u);function u(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}}(Object.getPrototypeOf(u.prototype),"constructor",this).call(this,e),this.src=e.src,this.currentMedia=e.currentMedia,this.mediaControl=e.mediaControl,this.currentMedia.addUpdateListener(function(){return t.onMediaStatusUpdate()}),this.settings=e.settings;function n(e){return"volume"!=e}this.settings.default&&(this.settings.default=this.settings.default.filter(n)),this.settings.left&&(this.settings.left=this.settings.left.filter(n)),this.settings.right&&(this.settings.right=this.settings.right.filter(n)),this._closedCaptionsTracks=e.ccTracks||[],this._ccTrackId=-1,this._updateCCTrackID=e.updateCCTrackID}t.default=c,e.exports=t.default},function(e,t){e.exports="<div class=chromecast-playback-background></div><div class=chromecast-playback-overlay></div>"},function(e,t,n){(e.exports=n(5)()).push([e.id,".chromecast-playback {\n  height: 100%;\n  width: 100%; }\n  .chromecast-playback .chromecast-playback-background, .chromecast-playback .chromecast-playback-overlay {\n    position: absolute;\n    height: 100%;\n    width: 100%; }\n  .chromecast-playback .chromecast-playback-background {\n    background-size: contain; }\n  .chromecast-playback .chromecast-playback-overlay {\n    background-color: #000;\n    opacity: 0.4; }\n\n.chromecast-button {\n  background: transparent;\n  border: 0;\n  width: 32px;\n  height: 32px;\n  font-size: 22px;\n  line-height: 32px;\n  letter-spacing: 0;\n  margin: 0 6px;\n  color: #fff;\n  opacity: 0.5;\n  vertical-align: middle;\n  text-align: left;\n  cursor: pointer;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-transition: all 0.1s ease;\n  -moz-transition: all 0.1s ease;\n  -o-transition: all 0.1s ease;\n  transition: all 0.1s ease; }\n  .chromecast-button:hover {\n    opacity: 0.75;\n    text-shadow: rgba(255, 255, 255, 0.8) 0 0 5px; }\n  .chromecast-button:focus {\n    outline: none; }\n  .chromecast-button svg {\n    width: 24px;\n    height: 24px; }\n    .chromecast-button svg #cast, .chromecast-button svg #cast-on, .chromecast-button svg #Path {\n      fill: #fff;\n      stroke: #fff;\n      stroke-width: 0.5px; }\n",""])},function(e,t){e.exports=function(){var a=[];return a.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}},function(e,t,n){var r=n(7),o=n(13),c=n(9);var i=o(function(e,t,n){return n?function(e,t,n){for(var r=-1,o=c(t),i=o.length;++r<i;){var a=o[r],s=e[a],l=n(s,t[a],a,e,t);(l==l?l===s:s!=s)&&(void 0!==s||a in e)||(e[a]=l)}return e}(e,t,n):r(e,t)});e.exports=i},function(e,t,n){var r=n(8),o=n(9);e.exports=function(e,t){return null==t?e:r(t,o(t),e)}},function(e,t){e.exports=function(e,t,n){n=n||{};for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}},function(e,t,n){var r=n(10),l=n(11),c=n(12),o=/^\d+$/,u=Object.prototype.hasOwnProperty,i=r(Object,"keys"),a=9007199254740991;var s,d=(s="length",function(e){return null==e?void 0:e[s]});function p(e,t){return e="number"==typeof e||o.test(e)?+e:-1,t=null==t?a:t,-1<e&&e%1==0&&e<t}function h(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=a}function f(e){for(var t=function(e){if(null==e)return[];m(e)||(e=Object(e));var t=e.length;t=t&&h(t)&&(c(e)||l(e))&&t||0;var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=Array(t),a=0<t;for(;++r<t;)i[r]=r+"";for(var s in e)a&&p(s,t)||"constructor"==s&&(o||!u.call(e,s))||i.push(s);return i}(e),n=t.length,r=n&&e.length,o=!!r&&h(r)&&(c(e)||l(e)),i=-1,a=[];++i<n;){var s=t[i];(o&&p(s,r)||u.call(e,s))&&a.push(s)}return a}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var g=i?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&function(e){return null!=e&&h(d(e))}(e)?f(e):m(e)?i(e):[]}:f;e.exports=g},function(e,t){var r="[object Function]",o=/^\[object .+?Constructor\]$/;var n=Object.prototype,i=Function.prototype.toString,a=n.hasOwnProperty,s=n.toString,l=RegExp("^"+i.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e,t){var n=null==e?void 0:e[t];return function(e){if(null==e)return!1;if(function(e){return function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)&&s.call(e)==r}(e))return l.test(i.call(e));return function(e){return!!e&&"object"==typeof e}(e)&&o.test(e)}(n)?n:void 0}},function(e,t){var n=9007199254740991,r="[object Function]",o="[object GeneratorFunction]",i=Object.prototype,a=i.hasOwnProperty,s=i.toString,l=i.propertyIsEnumerable;e.exports=function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?s.call(e):"";return t==r||t==o}(e)}(e)}(e)&&a.call(e,"callee")&&(!l.call(e,"callee")||"[object Arguments]"==s.call(e))}},function(e,t){var n="[object Function]",r=/^\[object .+?Constructor\]$/;function o(e){return!!e&&"object"==typeof e}var i,a,s,l,c,u,d,p=Object.prototype,h=Function.prototype.toString,f=p.hasOwnProperty,m=p.toString,g=RegExp("^"+h.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=(c=Array,u="isArray",d=null==c?void 0:c[u],null!=(l=d)&&(a=typeof(i=s=l),!i||"object"!=a&&"function"!=a||m.call(s)!=n?o(l)&&r.test(l):g.test(h.call(l)))?d:void 0);var v=y||function(e){return o(e)&&function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}(e.length)&&"[object Array]"==m.call(e)};e.exports=v},function(e,t,n){var c=n(14),u=n(15),r=n(16);e.exports=function(l){return r(function(e,t){var n=-1,r=null==e?0:t.length,o=2<r?t[r-2]:void 0,i=2<r?t[2]:void 0,a=1<r?t[r-1]:void 0;for("function"==typeof o?(o=c(o,a,5),r-=2):r-=(o="function"==typeof a?a:void 0)?1:0,i&&u(t[0],t[1],i)&&(o=r<3?void 0:o,r=1);++n<r;){var s=t[n];s&&l(e,s,o)}return e})}},function(e,t){function n(e){return e}e.exports=function(i,a,e){if("function"!=typeof i)return n;if(void 0===a)return i;switch(e){case 1:return function(e){return i.call(a,e)};case 3:return function(e,t,n){return i.call(a,e,t,n)};case 4:return function(e,t,n,r){return i.call(a,e,t,n,r)};case 5:return function(e,t,n,r,o){return i.call(a,e,t,n,r,o)}}return function(){return i.apply(a,arguments)}}},function(e,t){var i=/^\d+$/,a=9007199254740991;var n,r=(n="length",function(e){return null==e?void 0:e[n]});function s(e){return null!=e&&function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=a}(r(e))}e.exports=function(e,t,n){if(!function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(n))return!1;var r=typeof t;if("number"==r?s(n)&&function(e,t){return e="number"==typeof e||i.test(e)?+e:-1,t=null==t?a:t,-1<e&&e%1==0&&e<t}(t,n.length):"string"==r&&t in n){var o=n[t];return e==e?e===o:o!=o}return!1}},function(e,t){var s=Math.max;e.exports=function(i,a){if("function"!=typeof i)throw new TypeError("Expected a function");return a=s(void 0===a?i.length-1:+a||0,0),function(){for(var e=arguments,t=-1,n=s(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];switch(a){case 0:return i.call(this,r);case 1:return i.call(this,e[0],r);case 2:return i.call(this,e[0],e[1],r)}var o=Array(a+1);for(t=-1;++t<a;)o[t]=e[t];return o[a]=r,i.apply(this,o)}}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><g id="Page-1" fill="none" fill-rule="evenodd"><g id="ic_cast_black_24dp"><g id="ic_remove_circle_white_24dp"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" id="cast" fill="#000"></path><path id="bounds" d="M0 0h24v24H0z"></path></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><g id="Page-1" fill="none" fill-rule="evenodd"><g id="ic_cast0_black_24dp"><g id="ic_remove_circle_white_24dp"><path d="M1 18v3h3c0-1.66-1.34-3-3-3z" id="Path" fill="#000"></path><path d="M1 14v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7z" id="Path" opacity=".3" fill="#000"></path><path d="M1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z" id="Path" opacity=".3" fill="#000"></path><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" id="Path" fill="#000"></path><path id="bounds" d="M0 0h24v24H0z"></path></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><g id="Page-1" fill="none" fill-rule="evenodd"><g id="ic_cast1_black_24dp"><g id="ic_remove_circle_white_24dp"><path d="M1 18v3h3c0-1.66-1.34-3-3-3z" id="Path" opacity=".3" fill="#000"></path><path d="M1 14v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7z" id="Path" fill="#000"></path><path d="M1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z" id="Path" opacity=".3" fill="#000"></path><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" id="cast" fill="#000"></path><path id="bounds" d="M0 0h24v24H0z"></path></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><g id="Page-1" fill="none" fill-rule="evenodd"><g id="ic_cast2_black_24dp"><g id="ic_remove_circle_white_24dp"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zM1 14v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7z" id="Path" opacity=".3" fill="#000"></path><path d="M1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z" id="Path" fill="#000"></path><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" id="cast" fill="#000"></path><path id="bounds" d="M0 0h24v24H0z"></path></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg"><g id="Page-1" fill="none" fill-rule="evenodd"><g id="ic_cast_connected_black_24dp"><g id="ic_remove_circle_white_24dp"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" id="cast-on" fill="#000"></path><path id="bounds" d="M0 0h24v24H0z"></path></g></g></g></svg>'}],r.c=i,r.p="/",r(0);function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return o[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o,i},e.exports=r(n(2))},function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49 41.8" style="enable-background:new 0 0 49 41.8;" xml:space="preserve"><path d="M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h43.9c1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6 c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4 c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9C10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3 c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4 c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z"></path></svg>'},function(e,t){e.exports='<div data-watermark data-watermark-<%=position %>>\n  <a target=_blank href="https://www.boxcast.com">\n    <img src="https://www.boxcast.com/hs-fs/hub/484866/file-2491409050-png/Logos/NewBoxCastLogo_white.png?t=1494602256294">\n  </a>\n</div>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z"></path></svg>'},function(e,t,n){"use strict";var r=n(118),l=n(28),c=n(15),s=n(76),o=r.twoArgumentPooler,i=r.fourArgumentPooler,a=/\/+/g;function u(e){return(""+e).replace(a,"$&/")}function d(e,t){this.func=e,this.context=t,this.count=0}function p(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function h(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function f(e,t,n){var r=e.result,o=e.keyPrefix,i=e.func,a=e.context,s=i.call(a,t,e.count++);Array.isArray(s)?m(s,r,n,c.thatReturnsArgument):null!=s&&(l.isValidElement(s)&&(s=l.cloneAndReplaceKey(s,o+(!s.key||t&&t.key===s.key?"":u(s.key)+"/")+n)),r.push(s))}function m(e,t,n,r,o){var i="";null!=n&&(i=u(n)+"/");var a=h.getPooled(t,i,r,o);s(e,f,a),h.release(a)}function g(e,t,n){return null}d.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(d,o),h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(h,i);var y={forEach:function(e,t,n){if(null==e)return e;var r=d.getPooled(t,n);s(e,p,r),d.release(r)},map:function(e,t,n){if(null==e)return e;var r=[];return m(e,r,null,t,n),r},mapIntoWithKeyPrefixInternal:m,count:function(e,t){return s(e,g,null)},toArray:function(e){var t=[];return m(e,t,null,c.thatReturnsArgument),t}};e.exports=y},function(e,t,n){"use strict";function r(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}function o(e){e instanceof this||i("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)}var i=n(27),a=(n(4),r),s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:r,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)},fiveArgumentPooler:function(e,t,n,r,o){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,r,o),i}return new this(e,t,n,r,o)}};e.exports=s},function(e,t,n){"use strict";var r=n(9),o=n(50),i=n(51),a=n(36);function s(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||i}function l(){}l.prototype=o.prototype,r(((s.prototype=new l).constructor=s).prototype,o.prototype),s.prototype.isPureReactComponent=!0,e.exports=s},function(e,t,n){"use strict";var p=n(27),r=n(9),o=n(50),h=n(28),i=(n(79),n(51)),a=n(36),f=(n(4),n(6),"mixins");var s=[],m={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)l(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=y(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n))n in g&&p("78",n),n in e&&p("79",n),e[n]=r}}(e,t)},autobind:function(){}};function l(e,t){if(t){"function"==typeof t&&p("75"),h.isValidElement(t)&&p("76");var n,r,o,i=e.prototype,a=i.__reactAutoBindPairs;for(var s in t.hasOwnProperty(f)&&g.mixins(e,t.mixins),t)if(t.hasOwnProperty(s)&&s!==f){var l=t[s],c=i.hasOwnProperty(s);if(n=c,r=s,void 0,o=m.hasOwnProperty(r)?m[r]:null,b.hasOwnProperty(r)&&"OVERRIDE_BASE"!==o&&p("73",r),n&&"DEFINE_MANY"!==o&&"DEFINE_MANY_MERGED"!==o&&p("74",r),g.hasOwnProperty(s))g[s](e,l);else{var u=m.hasOwnProperty(s);if("function"==typeof l&&!u&&!c&&!1!==t.autobind)a.push(s,l),i[s]=l;else if(c){var d=m[s];(!u||"DEFINE_MANY_MERGED"!==d&&"DEFINE_MANY"!==d)&&p("77",d,s),"DEFINE_MANY_MERGED"===d?i[s]=y(i[s],l):"DEFINE_MANY"===d&&(i[s]=v(i[s],l))}else i[s]=l}}}else;}function c(e,t){for(var n in e&&t&&"object"==typeof e&&"object"==typeof t||p("80"),t)t.hasOwnProperty(n)&&(void 0!==e[n]&&p("81",n),e[n]=t[n]);return e}function y(r,o){return function(){var e=r.apply(this,arguments),t=o.apply(this,arguments);if(null==e)return t;if(null==t)return e;var n={};return c(n,e),c(n,t),n}}function v(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(){}var b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}};r(u.prototype,o.prototype,b);var d={createClass:function(e){var o=function(e){return e}(function(e,t,n){this.__reactAutoBindPairs.length&&function(e){for(var t,n=e.__reactAutoBindPairs,r=0;r<n.length;r+=2){var o=n[r],i=n[r+1];e[o]=(t=e,i.bind(t))}}(this),this.props=e,this.context=t,this.refs=a,this.updater=n||i,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"==typeof r&&!Array.isArray(r)||p("82",o.displayName||"ReactCompositeComponent"),this.state=r});for(var t in o.prototype=new u,(o.prototype.constructor=o).prototype.__reactAutoBindPairs=[],s.forEach(l.bind(null,o)),l(o,e),o.getDefaultProps&&(o.defaultProps=o.getDefaultProps()),o.prototype.render||p("83"),m)o.prototype[t]||(o.prototype[t]=null);return o},injection:{injectMixin:function(e){s.push(e)}}};e.exports=d},function(e,t,n){"use strict";var r=n(28).createFactory,o={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=o},function(e,t,n){"use strict";var a=n(28),d=n(79),p=n(123),r=n(15),i=n(77),c=(n(6),"<<anonymous>>"),o={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:f(r.thatReturns(null)),arrayOf:function(l){return f(function(e,t,n,r,o){if("function"!=typeof l)return new h("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=e[t];if(!Array.isArray(i))return new h("Invalid "+d[r]+" `"+o+"` of type `"+m(i)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<i.length;a++){var s=l(i,a,n,r,o+"["+a+"]",p);if(s instanceof Error)return s}return null})},element:f(function(e,t,n,r,o){var i=e[t];return a.isValidElement(i)?null:new h("Invalid "+d[r]+" `"+o+"` of type `"+m(i)+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(s){return f(function(e,t,n,r,o){if(e[t]instanceof s)return null;var i=d[r],a=s.name||c;return new h("Invalid "+i+" `"+o+"` of type `"+function(e){return e.constructor&&e.constructor.name?e.constructor.name:c}(e[t])+"` supplied to `"+n+"`, expected instance of `"+a+"`.")})},node:f(function(e,t,n,r,o){return u(e[t])?null:new h("Invalid "+d[r]+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(c){return f(function(e,t,n,r,o){if("function"!=typeof c)return new h("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=e[t],a=m(i);if("object"!==a)return new h("Invalid "+d[r]+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in i)if(i.hasOwnProperty(s)){var l=c(i,s,n,r,o+"."+s,p);if(l instanceof Error)return l}return null})},oneOf:function(s){if(!Array.isArray(s))return r.thatReturnsNull;return f(function(e,t,n,r,o){for(var i=e[t],a=0;a<s.length;a++)if(l(i,s[a]))return null;return new h("Invalid "+d[r]+" `"+o+"` of value `"+i+"` supplied to `"+n+"`, expected one of "+JSON.stringify(s)+".")})},oneOfType:function(a){if(!Array.isArray(a))return r.thatReturnsNull;return f(function(e,t,n,r,o){for(var i=0;i<a.length;i++){if(null==(0,a[i])(e,t,n,r,o,p))return null}return new h("Invalid "+d[r]+" `"+o+"` supplied to `"+n+"`.")})},shape:function(u){return f(function(e,t,n,r,o){var i=e[t],a=m(i);if("object"!==a)return new h("Invalid "+d[r]+" `"+o+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in u){var l=u[s];if(l){var c=l(i,s,n,r,o+"."+s,p);if(c)return c}}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){this.message=e,this.stack=""}function f(l){function e(e,t,n,r,o,i,a){if(r=r||c,i=i||n,null!=t[n])return l(t,n,r,o,i);var s=d[o];return e?null===t[n]?new h("The "+s+" `"+i+"` is marked as required in `"+r+"`, but its value is `null`."):new h("The "+s+" `"+i+"` is marked as required in `"+r+"`, but its value is `undefined`."):null}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function s(s){return f(function(e,t,n,r,o,i){var a=e[t];return m(a)===s?null:new h("Invalid "+d[r]+" `"+o+"` of type `"+function(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(a)+"` supplied to `"+n+"`, expected `"+s+"`.")})}function u(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(u);if(null===e||a.isValidElement(e))return!0;var t=i(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!u(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!u(o[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}h.prototype=Error.prototype,e.exports=o},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports="15.4.1"},function(e,t,n){"use strict";var r=n(126),o=n(127),i=n(131),a=n(134),s=n(135),l=n(136),c=n(137),u=n(143),d=n(10),p=n(167),h=n(168),f=n(169),m=n(170),g=n(171),y=n(173),v=n(174),b=n(180),_=n(181),A=n(182),E=!1;e.exports={inject:function(){E||(E=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(a),y.EventPluginUtils.injectComponentTree(d),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:A,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:_,BeforeInputEventPlugin:o}),y.HostComponent.injectGenericComponentClass(u),y.HostComponent.injectTextComponentClass(f),y.DOMProperty.injectDOMPropertyConfig(r),y.DOMProperty.injectDOMPropertyConfig(l),y.DOMProperty.injectDOMPropertyConfig(b),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),y.Updates.injectReconcileTransaction(v),y.Updates.injectBatchingStrategy(m),y.Component.injectEnvironment(c))}}},function(e,t,n){"use strict";e.exports={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}}},function(e,t,n){"use strict";var l=n(37),r=n(14),c=n(128),u=n(129),a=n(130),o=[9,13,27,32],d=229,p=r.canUseDOM&&"CompositionEvent"in window,i=null;r.canUseDOM&&"documentMode"in document&&(i=document.documentMode);var s,h=r.canUseDOM&&"TextEvent"in window&&!i&&!("object"==typeof(s=window.opera)&&"function"==typeof s.version&&parseInt(s.version(),10)<=12),f=r.canUseDOM&&(!p||i&&8<i&&i<=11);var m=32,g=String.fromCharCode(m),y={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},v=!1;function b(e,t){switch(e){case"topKeyUp":return-1!==o.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==d;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function _(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var A=null;function E(e,t,n,r){var o,i;if(p?o=function(e){switch(e){case"topCompositionStart":return y.compositionStart;case"topCompositionEnd":return y.compositionEnd;case"topCompositionUpdate":return y.compositionUpdate}}(e):A?b(e,n)&&(o=y.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===d}(e,n)&&(o=y.compositionStart),!o)return null;f&&(A||o!==y.compositionStart?o===y.compositionEnd&&A&&(i=A.getData()):A=c.getPooled(r));var a=u.getPooled(o,t,n,r);if(i)a.data=i;else{var s=_(n);null!==s&&(a.data=s)}return l.accumulateTwoPhaseDispatches(a),a}function k(e,t,n,r){var o;if(!(o=h?function(e,t){switch(e){case"topCompositionEnd":return _(t);case"topKeyPress":return t.which!==m?null:(v=!0,g);case"topTextInput":var n=t.data;return n===g&&v?null:n;default:return null}}(e,n):function(e,t){if(A){if("topCompositionEnd"===e||!p&&b(e,t)){var n=A.getData();return c.release(A),A=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return f?null:t.data;default:return null}}(e,n)))return null;var i=a.getPooled(y.beforeInput,t,n,r);return i.data=o,l.accumulateTwoPhaseDispatches(i),i}var x={eventTypes:y,extractEvents:function(e,t,n,r){return[E(e,t,n,r),k(e,t,n,r)]}};e.exports=x},function(e,t,n){"use strict";var r=n(9),o=n(23),i=n(85);function a(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}r(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=1<t?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(a),e.exports=a},function(e,t,n){"use strict";var o=n(22);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{data:null}),e.exports=r},function(e,t,n){"use strict";var o=n(22);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{data:null}),e.exports=r},function(e,t,n){"use strict";var r=n(38),c=n(37),o=n(14),u=n(10),i=n(18),d=n(22),a=n(55),s=n(56),p=n(88),h={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},l=null,f=null,m=null,g=null;var y=!1;function v(e){var t=d.getPooled(h.change,f,e,a(e));c.accumulateTwoPhaseDispatches(t),i.batchedUpdates(b,t)}function b(e){r.enqueueEvents(e),r.processEventQueue(!1)}function _(){l&&(l.detachEvent("onchange",v),f=l=null)}function A(e,t){if("topChange"===e)return t}function E(e,t,n){"topFocus"===e?(_(),function(e,t){f=t,(l=e).attachEvent("onchange",v)}(t,n)):"topBlur"===e&&_()}o.canUseDOM&&(y=s("change")&&(!document.documentMode||8<document.documentMode));var k=!1;o.canUseDOM&&(k=s("input")&&(!document.documentMode||11<document.documentMode));var x={get:function(){return g.get.call(this)},set:function(e){m=""+e,g.set.call(this,e)}};function T(){l&&(delete l.value,l.detachEvent?l.detachEvent("onpropertychange",w):l.removeEventListener("propertychange",w,!1),g=m=f=l=null)}function w(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==m&&(m=t,v(e))}}function S(e,t){if("topInput"===e)return t}function C(e,t,n){"topFocus"===e?(T(),function(e,t){f=t,m=(l=e).value,g=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(l,"value",x),l.attachEvent?l.attachEvent("onpropertychange",w):l.addEventListener("propertychange",w,!1)}(t,n)):"topBlur"===e&&T()}function P(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&l&&l.value!==m)return m=l.value,f}function j(e,t){if("topClick"===e)return t}var O={eventTypes:h,extractEvents:function(e,t,n,r){var o,i,a=t?u.getNodeFromInstance(t):window;if(!function(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}(a)?p(a)?k?o=S:(o=P,i=C):function(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(a)&&(o=j):y?o=A:i=E,o){var s=o(e,t);if(s){var l=d.getPooled(h.change,s,n,r);return l.type="change",c.accumulateTwoPhaseDispatches(l),l}}i&&i(e,a,t)}};e.exports=O},function(e,t,n){"use strict";var r=n(133),o={};o.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}(n,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var o=null,i=null;return null!==t&&"object"==typeof t&&(o=t.ref,i=t._owner),n!==o||"string"==typeof o&&i!==r},o.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}(n,e,t._owner)}},e.exports=o},function(e,t,n){"use strict";var o=n(8);n(4);function i(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var r={addComponentAsRefTo:function(e,t,n){i(n)||o("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i(n)||o("120");var r=n.getPublicInstance();r&&r.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=r},function(e,t,n){"use strict";e.exports=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]},function(e,t,n){"use strict";var h=n(37),f=n(10),m=n(43),g={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},r={eventTypes:g,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var o,i,a;if(r.window===r)o=r;else{var s=r.ownerDocument;o=s?s.defaultView||s.parentWindow:window}if("topMouseOut"===e){i=t;var l=n.relatedTarget||n.toElement;a=l?f.getClosestInstanceFromNode(l):null}else i=null,a=t;if(i===a)return null;var c=null==i?o:f.getNodeFromInstance(i),u=null==a?o:f.getNodeFromInstance(a),d=m.getPooled(g.mouseLeave,i,n,r);d.type="mouseleave",d.target=c,d.relatedTarget=u;var p=m.getPooled(g.mouseEnter,a,n,r);return p.type="mouseenter",p.target=u,p.relatedTarget=c,h.accumulateEnterLeaveDispatches(d,p,i,a),[d,p]}};e.exports=r},function(e,t,n){"use strict";var r=n(29),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=c},function(e,t,n){"use strict";var r=n(58),o={processChildrenUpdates:n(142).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";var r=n(8),o=n(31),i=n(14),a=n(139),s=n(15),l=(n(4),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,n){"use strict";var r=n(14),l=n(140),c=n(141),u=n(4),d=r.canUseDOM?document.createElement("div"):null,p=/^\s*<(\w+)/;e.exports=function(e,t){var n=d;d||u(!1);var r=function(e){var t=e.match(p);return t&&t[1].toLowerCase()}(e),o=r&&c(r);if(o){n.innerHTML=o[1]+e+o[2];for(var i=o[0];i--;)n=n.lastChild}else n.innerHTML=e;var a=n.getElementsByTagName("script");a.length&&(t||u(!1),l(a).forEach(t));for(var s=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return s}},function(e,t,n){"use strict";var o=n(4);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&o(!1),"number"!=typeof t&&o(!1),0===t||t-1 in e||o(!1),"function"==typeof e.callee&&o(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(14),o=n(4),i=r.canUseDOM?document.createElement("div"):null,a={},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=u,a[e]=!0}),e.exports=function(e){return i||o(!1),d.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(i.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!i.firstChild),a[e]?d[e]:null}},function(e,t,n){"use strict";var r=n(58),o=n(10),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=i},function(e,t,n){"use strict";var r=n(8),u=n(9),m=n(144),d=n(145),g=n(31),y=n(59),p=n(29),v=n(93),o=n(38),i=n(52),a=n(46),s=n(82),b=n(10),_=n(154),A=n(156),E=n(95),k=n(157),l=(n(16),n(158)),c=n(165),h=(n(15),n(45)),x=(n(4),n(56),n(63),n(68),n(6),s),f=o.deleteListener,T=b.getNodeFromInstance,w=a.listenTo,S=i.registrationNameModules,C={string:!0,number:!0},P="style",j={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},O=11;function R(e,t){t&&(!G[e._tag]||null==t.children&&null==t.dangerouslySetInnerHTML||r("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!=typeof t.style&&r("62",function(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}(e)))}function L(e,t,n,r){if(!(r instanceof c)){0;var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===O?o._node:o._ownerDocument;w(t,i),r.getReactMountReady().enqueue(I,{inst:e,registrationName:t,listener:n})}}function I(){o.putListener(this.inst,this.registrationName,this.listener)}function D(){_.postMountWrapper(this)}function M(){k.postMountWrapper(this)}function N(){A.postMountWrapper(this)}var F={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function B(){var e=this;e._rootNodeID||r("63");var t=T(e);switch(t||r("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[a.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":for(var n in e._wrapperState.listeners=[],F)F.hasOwnProperty(n)&&e._wrapperState.listeners.push(a.trapBubbledEvent(n,F[n],t));break;case"source":e._wrapperState.listeners=[a.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[a.trapBubbledEvent("topError","error",t),a.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[a.trapBubbledEvent("topReset","reset",t),a.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[a.trapBubbledEvent("topInvalid","invalid",t)]}}function U(){E.postUpdateWrapper(this)}var H={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},V={listing:!0,pre:!0,textarea:!0},G=u({menuitem:!0},H),K=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,z={},W={}.hasOwnProperty;function Y(e,t){return 0<=e.indexOf("-")||null!=t.is}var $=1;function q(e){var t=e.type;!function(e){W.call(z,e)||(K.test(e)||r("65",e),z[e]=!0)}(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}q.displayName="ReactDOMComponent",u(q.prototype,q.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=$++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o,i,a,s=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(B,this);break;case"input":_.mountWrapper(this,s,t),s=_.getHostProps(this,s),e.getReactMountReady().enqueue(B,this);break;case"option":A.mountWrapper(this,s,t),s=A.getHostProps(this,s);break;case"select":E.mountWrapper(this,s,t),s=E.getHostProps(this,s),e.getReactMountReady().enqueue(B,this);break;case"textarea":k.mountWrapper(this,s,t),s=k.getHostProps(this,s),e.getReactMountReady().enqueue(B,this)}if(R(this,s),null!=t?(o=t._namespaceURI,i=t._tag):n._tag&&(o=n._namespaceURI,i=n._tag),(null==o||o===y.svg&&"foreignobject"===i)&&(o=y.html),o===y.html&&("svg"===this._tag?o=y.svg:"math"===this._tag&&(o=y.mathml)),this._namespaceURI=o,e.useCreateElement){var l,c=n._ownerDocument;if(o===y.html)if("script"===this._tag){var u=c.createElement("div"),d=this._currentElement.type;u.innerHTML="<"+d+"></"+d+">",l=u.removeChild(u.firstChild)}else l=s.is?c.createElement(this._currentElement.type,s.is):c.createElement(this._currentElement.type);else l=c.createElementNS(o,this._currentElement.type);b.precacheNode(this,l),this._flags|=x.hasCachedChildNodes,this._hostParent||v.setAttributeForRoot(l),this._updateDOMProperties(null,s,e);var p=g(l);this._createInitialChildren(e,s,r,p),a=p}else{var h=this._createOpenTagMarkupAndPutListeners(e,s),f=this._createContentMarkup(e,s,r);a=!f&&H[this._tag]?h+"/>":h+">"+f+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(D,this),s.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(M,this),s.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"select":case"button":s.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(N,this)}return a},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(S.hasOwnProperty(r))o&&L(this,r,o,e);else{r===P&&(o=o&&(this._previousStyleCopy=u({},t.style)),o=d.createMarkupForStyles(o,this));var i=null;null!=this._tag&&Y(this._tag,t)?j.hasOwnProperty(r)||(i=v.createMarkupForCustomAttribute(r,o)):i=v.createMarkupForProperty(r,o),i&&(n+=" "+i)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+v.createMarkupForRoot()),n+=" "+v.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=C[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=h(i);else if(null!=a){r=this.mountChildren(a,e,n).join("")}}return V[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&g.queueHTML(r,o.__html);else{var i=C[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)g.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)g.queueChild(r,s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,i=this._currentElement.props;switch(this._tag){case"input":o=_.getHostProps(this,o),i=_.getHostProps(this,i);break;case"option":o=A.getHostProps(this,o),i=A.getHostProps(this,i);break;case"select":o=E.getHostProps(this,o),i=E.getHostProps(this,i);break;case"textarea":o=k.getHostProps(this,o),i=k.getHostProps(this,i)}switch(R(this,i),this._updateDOMProperties(o,i,e),this._updateDOMChildren(o,i,e,r),this._tag){case"input":_.updateWrapper(this);break;case"textarea":k.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(U,this)}},_updateDOMProperties:function(e,t,n){var r,o,i;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===P){var a=this._previousStyleCopy;for(o in a)a.hasOwnProperty(o)&&((i=i||{})[o]="");this._previousStyleCopy=null}else S.hasOwnProperty(r)?e[r]&&f(this,r):Y(this._tag,e)?j.hasOwnProperty(r)||v.deleteValueForAttribute(T(this),r):(p.properties[r]||p.isCustomAttribute(r))&&v.deleteValueForProperty(T(this),r);for(r in t){var s=t[r],l=r===P?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&s!==l&&(null!=s||null!=l))if(r===P)if(s?s=this._previousStyleCopy=u({},s):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||((i=i||{})[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&((i=i||{})[o]=s[o])}else i=s;else if(S.hasOwnProperty(r))s?L(this,r,s,n):l&&f(this,r);else if(Y(this._tag,t))j.hasOwnProperty(r)||v.setValueForAttribute(T(this),r,s);else if(p.properties[r]||p.isCustomAttribute(r)){var c=T(this);null!=s?v.setValueForProperty(c,r,s):v.deleteValueForProperty(c,r)}}i&&d.setValueForStyles(T(this),i,this)},_updateDOMChildren:function(e,t,n,r){var o=C[typeof e.children]?e.children:null,i=C[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=o?null:e.children,c=null!=i?null:t.children,u=null!=o||null!=a,d=null!=i||null!=s;null!=l&&null==c?this.updateChildren(null,n,r):u&&!d&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},getHostNode:function(){return T(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":r("66",this._tag)}this.unmountChildren(e),b.uncacheNode(this),o.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return T(this)}},l.Mixin),e.exports=q},function(e,t,n){"use strict";var r=n(10),o=n(91),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};e.exports=i},function(e,t,n){"use strict";var l=n(92),r=n(14),c=(n(16),n(146),n(148)),o=n(149),i=n(151),a=(n(6),i(function(e){return o(e)})),u=!1,d="cssFloat";if(r.canUseDOM){var s=document.createElement("div").style;try{s.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(d="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];0,null!=o&&(n+=a(r)+":",n+=c(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var r=e.style;for(var o in t)if(t.hasOwnProperty(o)){0;var i=c(o,t[o],n);if("float"!==o&&"cssFloat"!==o||(o=d),i)r[o]=i;else{var a=u&&l.shorthandPropertyExpansions[o];if(a)for(var s in a)r[s]="";else r[o]=""}}}};e.exports=p},function(e,t,n){"use strict";var r=n(147),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(92),o=(n(6),r.isUnitlessNumber);e.exports=function(e,t,n){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";var r=n(150),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=function(t){var n={};return function(e){return n.hasOwnProperty(e)||(n[e]=t.call(this,e)),n[e]}}},function(e,t,n){"use strict";var r=n(45);e.exports=function(e){return'"'+r(e)+'"'}},function(e,t,n){"use strict";var o=n(38);var r={handleTopLevel:function(e,t,n,r){!function(e){o.enqueueEvents(e),o.processEventQueue(!1)}(o.extractEvents(e,t,n,r))}};e.exports=r},function(e,t,n){"use strict";var u=n(8),o=n(9),a=n(93),d=n(61),p=n(10),h=n(18);n(4),n(6);function f(){this._rootNodeID&&r.updateWrapper(this)}var r={getHostProps:function(e,t){var n=d.getValue(t),r=d.getChecked(t);return o({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:function(e){var t=this._currentElement.props,n=d.executeOnChange(t,e);h.asap(f,this);var r=t.name;if("radio"===t.type&&null!=r){for(var o=p.getNodeFromInstance(this),i=o;i.parentNode;)i=i.parentNode;for(var a=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==o&&l.form===o.form){var c=p.getInstanceFromNode(l);c||u("90"),h.asap(f,c)}}}return n}.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&a.setValueForProperty(p.getNodeFromInstance(e),"checked",n||!1);var r=p.getNodeFromInstance(e),o=d.getValue(t);if(null!=o){var i=""+o;i!==r.value&&(r.value=i)}else null==t.value&&null!=t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=p.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var o=n(9),r=n(20),i=n(10),l=n(95);n(6);function c(e){var t="";return r.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:!0)}),t}var a={mountWrapper:function(e,t,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(r=l.getSelectValueContext(o))}var i,a=null;if(null!=r)if(i=null!=t.value?t.value+"":c(t.children),a=!1,Array.isArray(r)){for(var s=0;s<r.length;s++)if(""+r[s]===i){a=!0;break}}else a=""+r===i;e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&i.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var r=c(t.children);return r&&(n.children=r),n}};e.exports=a},function(e,t,n){"use strict";var a=n(8),r=n(9),s=n(61),i=n(10),l=n(18);n(4),n(6);function c(){this._rootNodeID&&o.updateWrapper(this)}var o={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var o=t.defaultValue,i=t.children;null!=i&&(null!=o&&a("92"),Array.isArray(i)&&(i.length<=1||a("93"),i=i[0]),o=""+i),null==o&&(o=""),r=o}e._wrapperState={initialValue:""+r,listeners:null,onChange:function(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(c,this),n}.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=i.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=i.getNodeFromInstance(e);t.value=t.textContent}};e.exports=o},function(e,t,n){"use strict";var r=n(8),o=n(62),m=(n(32),n(16),n(21),n(30)),s=n(159),l=(n(15),n(164));n(4);function g(e,t){return t&&(e=e||[]).push(t),e}function y(e,t){o.processChildrenUpdates(e,t)}var i={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return s.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a;return a=l(t,0),s.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,0),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];0;var l=m.mountComponent(s,t,this,this._hostContainerInfo,n,0);s._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;for(var n in s.unmountChildren(t,!1),t)t.hasOwnProperty(n)&&r("118");y(this,[function(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}(e)])},updateMarkup:function(e){var t=this._renderedChildren;for(var n in s.unmountChildren(t,!1),t)t.hasOwnProperty(n)&&r("118");y(this,[function(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,l=null,c=0,u=0,d=0,p=null;for(s in a)if(a.hasOwnProperty(s)){var h=r&&r[s],f=a[s];h===f?(l=g(l,this.moveChild(h,p,c,u)),u=Math.max(h._mountIndex,u),h._mountIndex=c):(h&&(u=Math.max(h._mountIndex,u)),l=g(l,this._mountChildAtIndex(f,i[d],p,c,t,n)),d++),c++,p=m.getHostNode(f)}for(s in o)o.hasOwnProperty(s)&&(l=g(l,this._unmountChild(r[s],o[s])));l&&y(this,l),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;s.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return function(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:m.getHostNode(e),toIndex:n,afterNode:t}}(e,t,n)},createChild:function(e,t,n){return function(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}(n,t,e._mountIndex)},removeChild:function(e,t){return function(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=i},function(n,e,r){"use strict";(function(e){var m=r(30),g=r(96),y=(r(65),r(64)),i=r(100);r(6);function a(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=g(t,!0))}void 0!==e&&e.env;var t={instantiateChildren:function(e,t,n,r){if(null==e)return null;var o={};return i(e,a,o),o},updateChildren:function(e,t,n,r,o,i,a,s,l){if(t||e){var c,u;for(c in t)if(t.hasOwnProperty(c)){var d=(u=e&&e[c])&&u._currentElement,p=t[c];if(null!=u&&y(d,p))m.receiveComponent(u,p,o,s),t[c]=u;else{u&&(r[c]=m.getHostNode(u),m.unmountComponent(u,!1));var h=g(p,!0);t[c]=h;var f=m.mountComponent(h,o,i,a,s,l);n.push(f)}}for(c in e)!e.hasOwnProperty(c)||t&&t.hasOwnProperty(c)||(u=e[c],r[c]=m.getHostNode(u),m.unmountComponent(u,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];m.unmountComponent(r,t)}}};n.exports=t}).call(this,r(33))},function(e,t,n){"use strict";var h=n(8),l=n(9),f=n(20),r=n(62),o=n(21),i=n(54),m=n(32),c=(n(16),n(97)),u=n(30),g=n(36),p=(n(4),n(63)),d=n(64),y=(n(6),0),v=1,b=2;function _(e){}function A(){0}_.prototype.render=function(){var e=m.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return A(e,t),t};var E=1,a={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,r){this._context=r,this._mountOrder=E++,this._hostParent=t,this._hostContainerInfo=n;var o,i=this._currentElement.props,a=this._processContext(r),s=this._currentElement.type,l=e.getUpdateQueue(),c=function(e){return!(!e.prototype||!e.prototype.isReactComponent)}(s),u=this._constructComponent(c,i,a,l);c||null!=u&&null!=u.render?!function(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}(s)?this._compositeType=y:this._compositeType=v:(o=u,A(),null===u||!1===u||f.isValidElement(u)||h("105",s.displayName||s.name||"Component"),u=new _(s),this._compositeType=b),u.props=i,u.context=a,u.refs=g,u.updater=l,this._instance=u,m.set(u,this);var d,p=u.state;return void 0===p&&(u.state=p=null),"object"==typeof p&&!Array.isArray(p)||h("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,d=u.unstable_handleError?this.performInitialMountWithErrorHandling(o,t,n,e,r):this.performInitialMount(o,t,n,e,r),u.componentDidMount&&e.getReactMountReady().enqueue(u.componentDidMount,u),d},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(t,n,r,o,i){var a,s=o.checkpoint();try{a=this.performInitialMount(t,n,r,o,i)}catch(e){o.rollback(s),this._instance.unstable_handleError(e),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=o.checkpoint(),this._renderedComponent.unmountComponent(!0),o.rollback(s),a=this.performInitialMount(t,n,r,o,i)}return a},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var a=c.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==c.EMPTY);return this._renderedComponent=s,u.mountComponent(s,r,t,n,this._processChildContext(o),0)},getHostNode:function(){return u.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";i.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(u.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,m.remove(t)}},_maskContext:function(e){var t=this._currentElement.type.contextTypes;if(!t)return g;var n={};for(var r in t)n[r]=e[r];return n},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){for(var o in"object"!=typeof n.childContextTypes&&h("107",this.getName()||"ReactCompositeComponent"),t)o in n.childContextTypes||h("108",this.getName()||"ReactCompositeComponent",o);return l({},e,t)}return e},_checkContextTypes:function(e,t,n){0},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?u.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i&&h("136",this.getName()||"ReactCompositeComponent");var a,s=!1;this._context===o?a=i.context:(a=this._processContext(o),s=!0);var l=t.props,c=n.props;t!==n&&(s=!0),s&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,a);var u=this._processPendingState(c,a),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,u,a):this._compositeType===v&&(d=!p(l,c)||!p(i.state,u))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,u,a,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=u,i.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=l({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];l(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,l,c=this._instance,u=Boolean(c.componentDidUpdate);u&&(a=c.props,s=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(o,i),u&&o.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,l),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(d(r,o))u.receiveComponent(n,o,e,this._processChildContext(t));else{var i=u.getHostNode(n);u.unmountComponent(n,!1);var a=c.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==c.EMPTY);this._renderedComponent=s;var l=u.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(i,l,n)}},_replaceNodeWithMarkup:function(e,t,n){r.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b){o.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||f.isValidElement(e)||h("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&h("110");var r=t.getPublicInstance();(n.refs===g?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b?null:e},_instantiateReactComponent:null};e.exports=a},function(e,t,n){"use strict";var r=1;e.exports=function(){return r++}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator;e.exports=function(e){var t=e&&(r&&e[r]||e["@@iterator"]);if("function"==typeof t)return t}},function(t,e,n){"use strict";(function(e){n(65);var r=n(100);n(6);function o(e,t,n,r){if(e&&"object"==typeof e){var o=e;0,void 0===o[n]&&null!=t&&(o[n]=t)}}void 0!==e&&e.env,t.exports=function(e,t){if(null==e)return e;var n={};return r(e,o,n),n}}).call(this,n(33))},function(e,t,n){"use strict";var r=n(9),o=n(23),i=n(42),a=(n(16),n(166)),s=[];var l={enqueue:function(){}};function c(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}r(c.prototype,i,{getTransactionWrappers:function(){return s},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}}),o.addPoolingTo(c),e.exports=c},function(e,t,n){"use strict";var r=n(67);n(6);var o=(i.prototype.isMounted=function(e){return!1},i.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&r.enqueueCallback(e,t,n)},i.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&r.enqueueForceUpdate(e)},i.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&r.enqueueReplaceState(e,t)},i.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&r.enqueueSetState(e,t)},i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.transaction=e}e.exports=o},function(e,t,n){"use strict";function r(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0}var o=n(9),s=n(31),l=n(10);o(r.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++;this._domID=o,this._hostParent=t,this._hostContainerInfo=n;var i=" react-empty: "+this._domID+" ";if(e.useCreateElement){var a=n._ownerDocument.createComment(i);return l.precacheNode(this,a),s(a)}return e.renderToStaticMarkup?"":"\x3c!--"+i+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return l.getNodeFromInstance(this)},unmountComponent:function(){l.uncacheNode(this)}}),e.exports=r},function(e,t,n){"use strict";var s=n(8);n(4);function c(e,t){"_hostNode"in e||s("33"),"_hostNode"in t||s("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;0<n-o;)e=e._hostParent,n--;for(;0<o-n;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}e.exports={isAncestor:function(e,t){"_hostNode"in e||s("35"),"_hostNode"in t||s("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1},getLowestCommonAncestor:c,getParentInstance:function(e){return"_hostNode"in e||s("36"),e._hostParent},traverseTwoPhase:function(e,t,n){for(var r,o=[];e;)o.push(e),e=e._hostParent;for(r=o.length;0<r--;)t(o[r],"captured",n);for(r=0;r<o.length;r++)t(o[r],"bubbled",n)},traverseEnterLeave:function(e,t,n,r,o){for(var i=e&&t?c(e,t):null,a=[];e&&e!==i;)a.push(e),e=e._hostParent;for(var s,l=[];t&&t!==i;)l.push(t),t=t._hostParent;for(s=0;s<a.length;s++)n(a[s],"bubbled",r);for(s=l.length;0<s--;)n(l[s],"captured",o)}}},function(e,t,n){"use strict";function r(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null}var o=n(8),i=n(9),a=n(58),p=n(31),h=n(10),f=n(45);n(4),n(68);i(r.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ",a=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var s=n._ownerDocument,l=s.createComment(i),c=s.createComment(a),u=p(s.createDocumentFragment());return p.queueChild(u,p(l)),this._stringText&&p.queueChild(u,p(s.createTextNode(this._stringText))),p.queueChild(u,p(c)),h.precacheNode(this,l),this._closingComment=c,u}var d=f(this._stringText);return e.renderToStaticMarkup?d:"\x3c!--"+i+"--\x3e"+d+"\x3c!--"+a+"--\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){var n=""+(this._currentElement=e);if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();a.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=h.getNodeFromInstance(this).nextSibling;;){if(null==t&&o("67",this._domID),8===t.nodeType&&" /react-text "===t.nodeValue){this._closingComment=t;break}t=t.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,h.uncacheNode(this)}}),e.exports=r},function(e,t,n){"use strict";var r=n(9),o=n(18),i=n(42),a=n(15),s={initialize:a,close:function(){d.isBatchingUpdates=!1}},l=[{initialize:a,close:o.flushBatchedUpdates.bind(o)},s];function c(){this.reinitializeTransaction()}r(c.prototype,i,{getTransactionWrappers:function(){return l}});var u=new c,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?e(t,n,r,o,i):u.perform(e,null,t,n,r,o,i)}};e.exports=d},function(e,t,n){"use strict";var r=n(9),o=n(101),i=n(14),a=n(23),s=n(10),l=n(18),c=n(55),u=n(172);function d(e){for(;e._hostParent;)e=e._hostParent;var t=s.getNodeFromInstance(e).parentNode;return s.getClosestInstanceFromNode(t)}function p(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function h(e){for(var t=c(e.nativeEvent),n=s.getClosestInstanceFromNode(t),r=n;e.ancestors.push(r),r=r&&d(r););for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],f._handleTopLevel(e.topLevelType,n,e.nativeEvent,c(e.nativeEvent))}r(p.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(p,a.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){return n?o.listen(n,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?o.capture(n,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=function(e){e(u(window))}.bind(null,e);o.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var n=p.getPooled(e,t);try{l.batchedUpdates(h,n)}finally{p.release(n)}}}};e.exports=f},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(29),o=n(38),i=n(53),a=n(62),s=n(98),l=n(46),c=n(99),u=n(18),d={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:u.injection};e.exports=d},function(e,t,n){"use strict";var r=n(9),o=n(86),i=n(23),a=n(46),s=n(102),l=(n(16),n(42)),c=n(67),u=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function d(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}r(d.prototype,l,{getTransactionWrappers:function(){return u},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}}),i.addPoolingTo(d),e.exports=d},function(e,t,n){"use strict";var r=n(14),u=n(176),d=n(85);function h(e,t,n,r){return e===n&&t===r}var o=r.canUseDOM&&"selection"in document&&!("getSelection"in window),i={getOffsets:o?function(e){var t=document.selection.createRange(),n=t.text.length,r=t.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",t);var o=r.text.length;return{start:o,end:o+n}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,i=t.focusOffset,a=t.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(e){return null}var s=h(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:a.toString().length,l=a.cloneRange();l.selectNodeContents(e),l.setEnd(a.startContainer,a.startOffset);var c=h(l.startContainer,l.startOffset,l.endContainer,l.endOffset)?0:l.toString().length,u=c+s,d=document.createRange();d.setStart(n,r),d.setEnd(o,i);var p=d.collapsed;return{start:p?u:c,end:p?c:u}},setOffsets:o?function(e,t){var n,r,o=document.selection.createRange().duplicate();r=void 0===t.end?n=t.start:t.start>t.end?(n=t.end,t.start):(n=t.start,t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[d()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&i<o){var a=i;i=o,o=a}var s=u(e,o),l=u(e,i);if(s&&l){var c=document.createRange();c.setStart(s.node,s.offset),n.removeAllRanges(),i<o?(n.addRange(c),n.extend(l.node,l.offset)):(c.setEnd(l.node,l.offset),n.addRange(c))}}}};e.exports=i},function(e,t,n){"use strict";function i(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function a(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}e.exports=function(e,t){for(var n=i(e),r=0,o=0;n;){if(3===n.nodeType){if(o=r+n.textContent.length,r<=t&&t<=o)return{node:n,offset:t-r};r=o}n=i(a(n))}}},function(e,t,n){"use strict";var r=n(178);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=n(179);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r="http://www.w3.org/1999/xlink",o="http://www.w3.org/XML/1998/namespace",i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},a={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:o,xmlLang:o,xmlSpace:o},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){a.Properties[e]=0,i[e]&&(a.DOMAttributeNames[e]=i[e])}),e.exports=a},function(e,t,n){"use strict";var o=n(37),r=n(14),i=n(10),a=n(102),s=n(22),l=n(103),c=n(88),u=n(63),d=r.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},h=null,f=null,m=null,g=!1,y=!1;function v(e,t){if(g||null==h||h!==l())return null;var n=function(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}(h);if(m&&u(m,n))return null;m=n;var r=s.getPooled(p.select,f,e,t);return r.type="select",r.target=h,o.accumulateTwoPhaseDispatches(r),r}var b={eventTypes:p,extractEvents:function(e,t,n,r){if(!y)return null;var o=t?i.getNodeFromInstance(t):window;switch(e){case"topFocus":!c(o)&&"true"!==o.contentEditable||(h=o,f=t,m=null);break;case"topBlur":m=f=h=null;break;case"topMouseDown":g=!0;break;case"topContextMenu":case"topMouseUp":return g=!1,v(n,r);case"topSelectionChange":if(d)break;case"topKeyDown":case"topKeyUp":return v(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(y=!0)}};e.exports=b},function(e,t,n){"use strict";var s=n(8),i=n(101),l=n(37),a=n(10),c=n(183),u=n(184),d=n(22),p=n(185),h=n(186),f=n(43),m=n(188),g=n(189),y=n(190),v=n(39),b=n(191),_=n(15),A=n(69),E=(n(4),{}),k={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};E[e]=o,k[r]=o});var x={};function T(e){return"."+e._rootNodeID}function w(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var r={eventTypes:E,extractEvents:function(e,t,n,r){var o,i=k[e];if(!i)return null;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":o=d;break;case"topKeyPress":if(0===A(n))return null;case"topKeyDown":case"topKeyUp":o=h;break;case"topBlur":case"topFocus":o=p;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":o=f;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":o=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":o=g;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":o=c;break;case"topTransitionEnd":o=y;break;case"topScroll":o=v;break;case"topWheel":o=b;break;case"topCopy":case"topCut":case"topPaste":o=u}o||s("86",e);var a=o.getPooled(i,t,n,r);return l.accumulateTwoPhaseDispatches(a),a},didPutListener:function(e,t,n){if("onClick"===t&&!w(e._tag)){var r=T(e),o=a.getNodeFromInstance(e);x[r]||(x[r]=i.listen(o,"click",_))}},willDeleteListener:function(e,t){if("onClick"===t&&!w(e._tag)){var n=T(e);x[n].remove(),delete x[n]}}};e.exports=r},function(e,t,n){"use strict";var o=n(22);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{animationName:null,elapsedTime:null,pseudoElement:null}),e.exports=r},function(e,t,n){"use strict";var o=n(22),r={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function i(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(i,r),e.exports=i},function(e,t,n){"use strict";var o=n(39);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{relatedTarget:null}),e.exports=r},function(e,t,n){"use strict";var o=n(39),r=n(69),i={key:n(187),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(57),charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};function a(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(a,i),e.exports=a},function(e,t,n){"use strict";var r=n(69),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=function(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"!==e.type)return"keydown"===e.type||"keyup"===e.type?i[e.keyCode]||"Unidentified":"";var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}},function(e,t,n){"use strict";var o=n(43);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{dataTransfer:null}),e.exports=r},function(e,t,n){"use strict";var o=n(39),r={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(57)};function i(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(i,r),e.exports=i},function(e,t,n){"use strict";var o=n(22);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{propertyName:null,elapsedTime:null,pseudoElement:null}),e.exports=r},function(e,t,n){"use strict";var o=n(43);function r(e,t,n,r){return o.call(this,e,t,n,r)}o.augmentClass(r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),e.exports=r},function(e,t,n){"use strict";n(68);e.exports=function(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?9===t.nodeType?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}},function(e,t,n){"use strict";e.exports={useCreateElement:!0,useFiber:!1}},function(e,t,n){"use strict";var r=n(195),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";e.exports=function(e){for(var t=1,n=0,r=0,o=e.length,i=-4&o;r<i;){for(var a=Math.min(r+4096,i);r<a;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=65521,n%=65521}for(;r<o;r++)n+=t+=e.charCodeAt(r);return(t%=65521)|(n%=65521)<<16}},function(e,t,n){"use strict";e.exports="15.4.1"},function(e,t,n){"use strict";var r=n(8),o=(n(21),n(10)),i=n(32),a=n(105);n(4),n(6);e.exports=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=i.get(e);if(t)return(t=a(t))?o.getNodeFromInstance(t):null;"function"==typeof e.render?r("44"):r("45",Object.keys(e))}},function(e,t,n){"use strict";var r=n(104);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,h="function"!=typeof Object.create&&"~";function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){}o.prototype._events=void 0,o.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)r.call(t,e)&&n.push(h?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(e,t){var n=h?h+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},o.prototype.emit=function(e,t,n,r,o,i){var a=h?h+e:e;if(!this._events||!this._events[a])return!1;var s,l,c=this._events[a],u=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,i),!0}for(l=1,s=new Array(u-1);l<u;l++)s[l-1]=arguments[l];c.fn.apply(c.context,s)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;default:if(!s)for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];c[l].fn.apply(c[l].context,s)}}return!0},o.prototype.on=function(e,t,n){var r=new i(t,n||this),o=h?h+e:e;return this._events||(this._events=h?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},o.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=h?h+e:e;return this._events||(this._events=h?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},o.prototype.removeListener=function(e,t,n,r){var o=h?h+e:e;if(!this._events||!this._events[o])return this;var i=this._events[o],a=[];if(t)if(i.fn)(i.fn!==t||r&&!i.once||n&&i.context!==n)&&a.push(i);else for(var s=0,l=i.length;s<l;s++)(i[s].fn!==t||r&&!i[s].once||n&&i[s].context!==n)&&a.push(i[s]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(e){return this._events&&(e?delete this._events[h?h+e:e]:this._events=h?{}:Object.create(null)),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=h,e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mix=function(e){var o={init:[],preEmit:[],shouldEmit:[]},t=function t(n){var r={};return n.mixins&&n.mixins.forEach(function(e){i.extend(r,t(e))}),i.extend(r,n),Object.keys(o).forEach(function(e){n.hasOwnProperty(e)&&o[e].push(n[e])}),r}(e);1<o.init.length&&(t.init=function(){var t=arguments;o.init.forEach(function(e){e.apply(this,t)},this)});1<o.preEmit.length&&(t.preEmit=function(){return o.preEmit.reduce(function(e,t){var n=t.apply(this,e);return void 0===n?e:[n]}.bind(this),arguments)});1<o.shouldEmit.length&&(t.shouldEmit=function(){var t=arguments;return!o.shouldEmit.some(function(e){return!e.apply(this,t)},this)});return Object.keys(o).forEach(function(e){1===o[e].length&&(t[e]=o[e][0])}),t};var i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(19))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindMethods=function(e,t){for(var n in t)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var r=Object.getOwnPropertyDescriptor(t,n);if(!r.value||"function"!=typeof r.value||!t.hasOwnProperty(n))continue;e[n]=t[n].bind(e)}else{var o=t[n];if("function"!=typeof o||!t.hasOwnProperty(n))continue;e[n]=o.bind(e)}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAction=function e(t){t=t||{};c.isObject(t)||(t={actionName:t});for(var n in u)if(!h[n]&&d[n])throw new Error("Cannot override API method "+n+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var r in t)if(!h[r]&&d[r])throw new Error("Cannot override API method "+r+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");t.children=t.children||[];t.asyncResult&&(t.children=t.children.concat(["completed","failed"]));var o=0,i={};for(;o<t.children.length;o++){var a=t.children[o];i[a]=e(a)}var s=c.extend({eventLabel:"action",emitter:new c.EventEmitter,_isAction:!0},d,u,t);var l=function e(){var t=e.sync?"trigger":"triggerAsync";return e[t].apply(e,arguments)};c.extend(l,i,s);p.addAction(l);return l};var c=r(n(19)),u=r(n(106)),d=r(n(72)),p=r(n(71));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h={preEmit:1,shouldEmit:1}},function(e,t,n){var r=n(24),o=n(73),i=n(19);e.exports=function(e,n){return i.throwIf(void 0===n,"Reflux.connect() requires a key."),{getInitialState:function(){return i.isFunction(e.getInitialState)?i.object([n],[e.getInitialState()]):{}},componentDidMount:function(){var t=this;i.extend(t,r),this.listenTo(e,function(e){t.setState(i.object([n],[e]))})},componentWillUnmount:o.componentWillUnmount}}},function(e,t,n){var i=n(24),a=n(73),s=n(19);e.exports=function(t,r,o){return s.throwIf(s.isFunction(r),"Reflux.connectFilter() requires a key."),{getInitialState:function(){if(!s.isFunction(t.getInitialState))return{};var e=o.call(this,t.getInitialState());return void 0!==e?s.object([r],[e]):{}},componentDidMount:function(){var n=this;s.extend(this,i),this.listenTo(t,function(e){var t=o.call(n,e);n.setState(s.object([r],[t]))})},componentWillUnmount:a.componentWillUnmount}}},function(e,t,n){var o=n(24);e.exports=function(t,n,r){return{componentDidMount:function(){for(var e in o)if(this[e]!==o[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenTo!";this[e]=o[e]}this.listenTo(t,n,r)},componentWillUnmount:o.stopListeningToAll}}},function(e,t,n){var r=n(24);e.exports=function(t){return{componentDidMount:function(){for(var e in r)if(this[e]!==r[e]){if(this[e])throw"Can't have other property '"+e+"' when using Reflux.listenToMany!";this[e]=r[e]}this.listenToMany(t)},componentWillUnmount:r.stopListeningToAll}}},function(e,t,n){var r=n(70);if(r.defineReact=n(208),"undefined"!=typeof React&&React)r.defineReact(React);else try{var o=n(0);r.defineReact(o)}catch(e){}},function(e,t,n){var l,d=n(70),c=!1;function p(e,t){if(!e)return t;for(var n=!1,r={},o=0,i=e.length;o<i;o++){var a=e[o];t.hasOwnProperty(a)&&(n=!0,r[a]=t[a])}return!!n&&r}e.exports=function t(e,n,r){var o,i;try{l=e||l||React,i=r||l.Component}catch(e){return}if(l&&i&&(!c||r)){function a(e){i.call(this,e)}if(function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(a,i),(o=a.prototype).storeKeys=null,o.componentWillMount=function(){if(this.store&&(Array.isArray(this.stores)?this.stores.unshift(this.store):this.stores=[this.store]),this.stores){this.__storeunsubscribes__=this.__storeunsubscribes__||[];for(var n=this.setState.bind(this),e=function(e){var t=p(this.storeKeys,e);t&&n(t)}.bind(this),t=0,r=this.stores.length;t<r;t++){var o=this.stores[t];if("function"==typeof o){var i=o.id;if(o.singleton||(o.singleton=new o,i&&(d.stores[i]=o.singleton)),this.stores[t]=o=o.singleton,(o.id=i)&&d.GlobalState[i]){for(var a in d.GlobalState[i])o.state[a]=d.GlobalState[i][a];d.GlobalState[i]=o.state}else i&&(d.GlobalState[i]=o.state)}this.__storeunsubscribes__.push(o.listen(e));var s=p(this.storeKeys,o.state);s&&this.setState(s)}}this.__readytomap__=!0;var l=this.__delayedmaps__;if(l)for(var c=0,u=l.length;c<u;c++)l[c].func(l[c].state);this.__delayedmaps__=null},o.componentWillUnmount=function(){for(var e=0,t=this.__storeunsubscribes__.length;e<t;e++)this.__storeunsubscribes__[e]();this.__readytomap__=!1},o.mapStoreToState=function(e,o){"function"==typeof e&&(e=e.singleton?e.singleton:d.initStore(e));var i=this;function t(e){var t=o.call(i,e);if(t){var n=!1;for(var r in t){n=!0;break}n&&i.setState(t)}}this.__storeunsubscribes__=this.__storeunsubscribes__||[],this.__storeunsubscribes__.push(e.listen(t)),this.__readytomap__?t(e.state):(this.__delayedmaps__=this.__delayedmaps__||[],this.__delayedmaps__.push({func:t,state:e.state}))},a.extend=function(e){return t(null,null,e)},r)return a;function s(){this.__store__=d.createStore(),this.state={};var n=this;for(var e in this.__store__)!function(t){Object.defineProperty(n,t,{get:function(){return n.__store__[t]},set:function(e){n.__store__[t]=e}})}(e)}d.Component=a,o=s.prototype,Object.defineProperty(o,"listenables",{get:function(){return this.__listenables__},set:function(e){var n={};Array.isArray(e)?e.forEach(function(e){for(var t in e)n[t]=e[t]}):n=e,this.__listenables__=n,this.listenToMany(n)},enumerable:!0,configurable:!0}),o.setState=function(e){for(var t in e)this.state[t]=e[t];this.id&&(d.GlobalState[this.id]=this.state),this.trigger(e)},Object.defineProperty(s,"isES6Store",{get:function(){return!0},enumerable:!0,configurable:!0}),d.Store=s,d.GlobalState=d.GlobalState||{},d.stores={},d.getGlobalState=function(){return function e(t,n){if(null===t||"object"!=typeof t)return t;if(t.constructor!==Object&&t.constructor!==Array)return t;if(t.constructor===Date||t.constructor===RegExp||t.constructor===Function||t.constructor===String||t.constructor===Number||t.constructor===Boolean)return new t.constructor(t);for(var r in n=n||new t.constructor,t)n[r]=void 0===n[r]?e(t[r],null):n[r];return n}(d.GlobalState)},d.setGlobalState=function(e){for(var t in e)d.stores[t]?d.stores[t].setState(e[t]):d.GlobalState[t]=e[t]},d.initializeGlobalStore=d.initStore=function(e){var t=e.id;if(e.singleton)return e.singleton;if(!t)return e.singleton=new e,e.singleton;var n=e.singleton=new e;if((d.stores[t]=n).id=t,d.GlobalState[t]){for(var r in d.GlobalState[t])n.state[r]=d.GlobalState[t][r];d.GlobalState[t]=n.state}else d.GlobalState[t]=n.state;return n},c=!0}}},function(e,o,i){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(210),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(40))},function(e,t,n){(function(e,f){!function(n,r){"use strict";if(!n.setImmediate){var o,i,t,a,s=1,l={},c=!1,u=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,o="[object process]"==={}.toString.call(n.process)?function(e){f.nextTick(function(){p(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),function(e){n.postMessage(a+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){t.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(p,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[s]=r,o(s),s++},e.clearImmediate=d}function d(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),c=!1}}}}function h(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(40),n(33))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(E,e,k){(function(b,_){var A;
    /*
     * [js-sha512]{@link https://github.com/emn178/js-sha512}
     *
     * @version 0.7.1
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2014-2017
     * @license MIT
     */
    /*
     * [js-sha512]{@link https://github.com/emn178/js-sha512}
     *
     * @version 0.7.1
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2014-2017
     * @license MIT
     */
    !function(){"use strict";var h="input is invalid type",e="object"==typeof window,t=e?window:{};t.JS_SHA512_NO_WINDOW&&(e=!1);var n=!e&&"object"==typeof self;!t.JS_SHA512_NO_NODE_JS&&"object"==typeof b&&b.versions&&b.versions.node?t=_:n&&(t=self);var r=!t.JS_SHA512_NO_COMMON_JS&&"object"==typeof E&&E.exports,o=k(213),f=!t.JS_SHA512_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,v="0123456789abcdef".split(""),i=[-2147483648,8388608,32768,128],l=[24,16,8,0],oe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=["hex","array","digest","arrayBuffer"],s=[];!t.JS_SHA512_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!t.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});function c(t,n){return function(e){return new m(n,!0).update(e)[t]()}}function u(e){var t=c("hex",e);t.create=function(){return new m(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<a.length;++n){var r=a[n];t[r]=c(r,e)}return t}function d(n,r){return function(e,t){return new g(e,r,!0).update(t)[n]()}}function p(t){var n=d("hex",t);n.create=function(e){return new g(e,t)},n.update=function(e,t){return n.create(e).update(t)};for(var e=0;e<a.length;++e){var r=a[e];n[r]=d(r,t)}return n}function m(e,t){t?(s[0]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=s[16]=s[17]=s[18]=s[19]=s[20]=s[21]=s[22]=s[23]=s[24]=s[25]=s[26]=s[27]=s[28]=s[29]=s[30]=s[31]=s[32]=0,this.blocks=s):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==e?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==e?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==e?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=e,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function g(e,t,n){var r,o=typeof e;if("string"!=o){if("object"!=o)throw h;if(null===e)throw h;if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw h;r=!0}var i=e.length;if(!r){for(var a,s=[],l=(i=e.length,0),c=0;c<i;++c)(a=e.charCodeAt(c))<128?s[l++]=a:(a<2048?s[l++]=192|a>>6:(a<55296||57344<=a?s[l++]=224|a>>12:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++c)),s[l++]=240|a>>18,s[l++]=128|a>>12&63),s[l++]=128|a>>6&63),s[l++]=128|63&a);e=s}128<e.length&&(e=new m(t,!0).update(e).array());var u=[],d=[];for(c=0;c<128;++c){var p=e[c]||0;u[c]=92^p,d[c]=54^p}m.call(this,t,n),this.update(d),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}m.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!=n){if("object"!=n)throw h;if(null===e)throw h;if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw h;t=!0}for(var r,o,i=0,a=e.length,s=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=s[16]=s[17]=s[18]=s[19]=s[20]=s[21]=s[22]=s[23]=s[24]=s[25]=s[26]=s[27]=s[28]=s[29]=s[30]=s[31]=s[32]=0),t)for(o=this.start;i<a&&o<128;++i)s[o>>2]|=e[i]<<l[3&o++];else for(o=this.start;i<a&&o<128;++i)(r=e.charCodeAt(i))<128?s[o>>2]|=r<<l[3&o++]:(r<2048?s[o>>2]|=(192|r>>6)<<l[3&o++]:(r<55296||57344<=r?s[o>>2]|=(224|r>>12)<<l[3&o++]:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),s[o>>2]|=(240|r>>18)<<l[3&o++],s[o>>2]|=(128|r>>12&63)<<l[3&o++]),s[o>>2]|=(128|r>>6&63)<<l[3&o++]),s[o>>2]|=(128|63&r)<<l[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,128<=o?(this.block=s[32],this.start=o-128,this.hash(),this.hashed=!0):this.start=o}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[32]=this.block,e[t>>2]|=i[3&t],this.block=e[32],112<=t&&(this.hashed||this.hash(),e[0]=this.block,e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=e[16]=e[17]=e[18]=e[19]=e[20]=e[21]=e[22]=e[23]=e[24]=e[25]=e[26]=e[27]=e[28]=e[29]=e[30]=e[31]=e[32]=0),e[30]=this.hBytes<<3|this.bytes>>>29,e[31]=this.bytes<<3,this.hash()}},m.prototype.hash=function(){var e,t,n,r,o,i,a,s,l,c,u,d,p,h,f,m,g,y,v,b,_,A,E,k,x,T=this.h0h,w=this.h0l,S=this.h1h,C=this.h1l,P=this.h2h,j=this.h2l,O=this.h3h,R=this.h3l,L=this.h4h,I=this.h4l,D=this.h5h,M=this.h5l,N=this.h6h,F=this.h6l,B=this.h7h,U=this.h7l,H=this.blocks;for(e=32;e<160;e+=2)t=((b=H[e-30])>>>1|(_=H[e-29])<<31)^(b>>>8|_<<24)^b>>>7,n=(_>>>1|b<<31)^(_>>>8|b<<24)^(_>>>7|b<<25),r=((b=H[e-4])>>>19|(_=H[e-3])<<13)^(_>>>29|b<<3)^b>>>6,o=(_>>>19|b<<13)^(b>>>29|_<<3)^(_>>>6|b<<26),b=H[e-32],_=H[e-31],l=((A=H[e-14])>>>16)+(b>>>16)+(t>>>16)+(r>>>16)+((s=(65535&A)+(65535&b)+(65535&t)+(65535&r)+((a=((E=H[e-13])>>>16)+(_>>>16)+(n>>>16)+(o>>>16)+((i=(65535&E)+(65535&_)+(65535&n)+(65535&o))>>>16))>>>16))>>>16),H[e]=l<<16|65535&s,H[e+1]=a<<16|65535&i;var V=T,G=w,K=S,z=C,W=P,Y=j,$=O,q=R,X=L,Q=I,J=D,Z=M,ee=N,te=F,ne=B,re=U;for(m=K&W,g=z&Y,e=0;e<160;e+=8)t=(V>>>28|G<<4)^(G>>>2|V<<30)^(G>>>7|V<<25),n=(G>>>28|V<<4)^(V>>>2|G<<30)^(V>>>7|G<<25),r=(X>>>14|Q<<18)^(X>>>18|Q<<14)^(Q>>>9|X<<23),o=(Q>>>14|X<<18)^(Q>>>18|X<<14)^(X>>>9|Q<<23),y=(c=V&K)^V&W^m,v=(u=G&z)^G&Y^g,k=X&J^~X&ee,x=Q&Z^~Q&te,b=H[e],_=H[e+1],b=(l=((A=oe[e])>>>16)+(b>>>16)+(k>>>16)+(r>>>16)+(ne>>>16)+((s=(65535&A)+(65535&b)+(65535&k)+(65535&r)+(65535&ne)+((a=((E=oe[e+1])>>>16)+(_>>>16)+(x>>>16)+(o>>>16)+(re>>>16)+((i=(65535&E)+(65535&_)+(65535&x)+(65535&o)+(65535&re))>>>16))>>>16))>>>16))<<16|65535&s,_=a<<16|65535&i,A=(l=(y>>>16)+(t>>>16)+((s=(65535&y)+(65535&t)+((a=(v>>>16)+(n>>>16)+((i=(65535&v)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&s,E=a<<16|65535&i,ne=(l=($>>>16)+(b>>>16)+((s=(65535&$)+(65535&b)+((a=(q>>>16)+(_>>>16)+((i=(65535&q)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s,re=a<<16|65535&i,t=(($=(l=(A>>>16)+(b>>>16)+((s=(65535&A)+(65535&b)+((a=(E>>>16)+(_>>>16)+((i=(65535&E)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s)>>>28|(q=a<<16|65535&i)<<4)^(q>>>2|$<<30)^(q>>>7|$<<25),n=(q>>>28|$<<4)^($>>>2|q<<30)^($>>>7|q<<25),r=(ne>>>14|re<<18)^(ne>>>18|re<<14)^(re>>>9|ne<<23),o=(re>>>14|ne<<18)^(re>>>18|ne<<14)^(ne>>>9|re<<23),y=(d=$&V)^$&K^c,v=(p=q&G)^q&z^u,k=ne&X^~ne&J,x=re&Q^~re&Z,b=H[e+2],_=H[e+3],b=(l=((A=oe[e+2])>>>16)+(b>>>16)+(k>>>16)+(r>>>16)+(ee>>>16)+((s=(65535&A)+(65535&b)+(65535&k)+(65535&r)+(65535&ee)+((a=((E=oe[e+3])>>>16)+(_>>>16)+(x>>>16)+(o>>>16)+(te>>>16)+((i=(65535&E)+(65535&_)+(65535&x)+(65535&o)+(65535&te))>>>16))>>>16))>>>16))<<16|65535&s,_=a<<16|65535&i,A=(l=(y>>>16)+(t>>>16)+((s=(65535&y)+(65535&t)+((a=(v>>>16)+(n>>>16)+((i=(65535&v)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&s,E=a<<16|65535&i,ee=(l=(W>>>16)+(b>>>16)+((s=(65535&W)+(65535&b)+((a=(Y>>>16)+(_>>>16)+((i=(65535&Y)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s,te=a<<16|65535&i,t=((W=(l=(A>>>16)+(b>>>16)+((s=(65535&A)+(65535&b)+((a=(E>>>16)+(_>>>16)+((i=(65535&E)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s)>>>28|(Y=a<<16|65535&i)<<4)^(Y>>>2|W<<30)^(Y>>>7|W<<25),n=(Y>>>28|W<<4)^(W>>>2|Y<<30)^(W>>>7|Y<<25),r=(ee>>>14|te<<18)^(ee>>>18|te<<14)^(te>>>9|ee<<23),o=(te>>>14|ee<<18)^(te>>>18|ee<<14)^(ee>>>9|te<<23),y=(h=W&$)^W&V^d,v=(f=Y&q)^Y&G^p,k=ee&ne^~ee&X,x=te&re^~te&Q,b=H[e+4],_=H[e+5],b=(l=((A=oe[e+4])>>>16)+(b>>>16)+(k>>>16)+(r>>>16)+(J>>>16)+((s=(65535&A)+(65535&b)+(65535&k)+(65535&r)+(65535&J)+((a=((E=oe[e+5])>>>16)+(_>>>16)+(x>>>16)+(o>>>16)+(Z>>>16)+((i=(65535&E)+(65535&_)+(65535&x)+(65535&o)+(65535&Z))>>>16))>>>16))>>>16))<<16|65535&s,_=a<<16|65535&i,A=(l=(y>>>16)+(t>>>16)+((s=(65535&y)+(65535&t)+((a=(v>>>16)+(n>>>16)+((i=(65535&v)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&s,E=a<<16|65535&i,J=(l=(K>>>16)+(b>>>16)+((s=(65535&K)+(65535&b)+((a=(z>>>16)+(_>>>16)+((i=(65535&z)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s,Z=a<<16|65535&i,t=((K=(l=(A>>>16)+(b>>>16)+((s=(65535&A)+(65535&b)+((a=(E>>>16)+(_>>>16)+((i=(65535&E)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s)>>>28|(z=a<<16|65535&i)<<4)^(z>>>2|K<<30)^(z>>>7|K<<25),n=(z>>>28|K<<4)^(K>>>2|z<<30)^(K>>>7|z<<25),r=(J>>>14|Z<<18)^(J>>>18|Z<<14)^(Z>>>9|J<<23),o=(Z>>>14|J<<18)^(Z>>>18|J<<14)^(J>>>9|Z<<23),y=(m=K&W)^K&$^h,v=(g=z&Y)^z&q^f,k=J&ee^~J&ne,x=Z&te^~Z&re,b=H[e+6],_=H[e+7],b=(l=((A=oe[e+6])>>>16)+(b>>>16)+(k>>>16)+(r>>>16)+(X>>>16)+((s=(65535&A)+(65535&b)+(65535&k)+(65535&r)+(65535&X)+((a=((E=oe[e+7])>>>16)+(_>>>16)+(x>>>16)+(o>>>16)+(Q>>>16)+((i=(65535&E)+(65535&_)+(65535&x)+(65535&o)+(65535&Q))>>>16))>>>16))>>>16))<<16|65535&s,_=a<<16|65535&i,A=(l=(y>>>16)+(t>>>16)+((s=(65535&y)+(65535&t)+((a=(v>>>16)+(n>>>16)+((i=(65535&v)+(65535&n))>>>16))>>>16))>>>16))<<16|65535&s,E=a<<16|65535&i,X=(l=(V>>>16)+(b>>>16)+((s=(65535&V)+(65535&b)+((a=(G>>>16)+(_>>>16)+((i=(65535&G)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s,Q=a<<16|65535&i,V=(l=(A>>>16)+(b>>>16)+((s=(65535&A)+(65535&b)+((a=(E>>>16)+(_>>>16)+((i=(65535&E)+(65535&_))>>>16))>>>16))>>>16))<<16|65535&s,G=a<<16|65535&i;l=(T>>>16)+(V>>>16)+((s=(65535&T)+(65535&V)+((a=(w>>>16)+(G>>>16)+((i=(65535&w)+(65535&G))>>>16))>>>16))>>>16),this.h0h=l<<16|65535&s,this.h0l=a<<16|65535&i,l=(S>>>16)+(K>>>16)+((s=(65535&S)+(65535&K)+((a=(C>>>16)+(z>>>16)+((i=(65535&C)+(65535&z))>>>16))>>>16))>>>16),this.h1h=l<<16|65535&s,this.h1l=a<<16|65535&i,l=(P>>>16)+(W>>>16)+((s=(65535&P)+(65535&W)+((a=(j>>>16)+(Y>>>16)+((i=(65535&j)+(65535&Y))>>>16))>>>16))>>>16),this.h2h=l<<16|65535&s,this.h2l=a<<16|65535&i,l=(O>>>16)+($>>>16)+((s=(65535&O)+(65535&$)+((a=(R>>>16)+(q>>>16)+((i=(65535&R)+(65535&q))>>>16))>>>16))>>>16),this.h3h=l<<16|65535&s,this.h3l=a<<16|65535&i,l=(L>>>16)+(X>>>16)+((s=(65535&L)+(65535&X)+((a=(I>>>16)+(Q>>>16)+((i=(65535&I)+(65535&Q))>>>16))>>>16))>>>16),this.h4h=l<<16|65535&s,this.h4l=a<<16|65535&i,l=(D>>>16)+(J>>>16)+((s=(65535&D)+(65535&J)+((a=(M>>>16)+(Z>>>16)+((i=(65535&M)+(65535&Z))>>>16))>>>16))>>>16),this.h5h=l<<16|65535&s,this.h5l=a<<16|65535&i,l=(N>>>16)+(ee>>>16)+((s=(65535&N)+(65535&ee)+((a=(F>>>16)+(te>>>16)+((i=(65535&F)+(65535&te))>>>16))>>>16))>>>16),this.h6h=l<<16|65535&s,this.h6l=a<<16|65535&i,l=(B>>>16)+(ne>>>16)+((s=(65535&B)+(65535&ne)+((a=(U>>>16)+(re>>>16)+((i=(65535&U)+(65535&re))>>>16))>>>16))>>>16),this.h7h=l<<16|65535&s,this.h7l=a<<16|65535&i},m.prototype.toString=m.prototype.hex=function(){this.finalize();var e=this.h0h,t=this.h0l,n=this.h1h,r=this.h1l,o=this.h2h,i=this.h2l,a=this.h3h,s=this.h3l,l=this.h4h,c=this.h4l,u=this.h5h,d=this.h5l,p=this.h6h,h=this.h6l,f=this.h7h,m=this.h7l,g=this.bits,y=v[e>>28&15]+v[e>>24&15]+v[e>>20&15]+v[e>>16&15]+v[e>>12&15]+v[e>>8&15]+v[e>>4&15]+v[15&e]+v[t>>28&15]+v[t>>24&15]+v[t>>20&15]+v[t>>16&15]+v[t>>12&15]+v[t>>8&15]+v[t>>4&15]+v[15&t]+v[n>>28&15]+v[n>>24&15]+v[n>>20&15]+v[n>>16&15]+v[n>>12&15]+v[n>>8&15]+v[n>>4&15]+v[15&n]+v[r>>28&15]+v[r>>24&15]+v[r>>20&15]+v[r>>16&15]+v[r>>12&15]+v[r>>8&15]+v[r>>4&15]+v[15&r]+v[o>>28&15]+v[o>>24&15]+v[o>>20&15]+v[o>>16&15]+v[o>>12&15]+v[o>>8&15]+v[o>>4&15]+v[15&o]+v[i>>28&15]+v[i>>24&15]+v[i>>20&15]+v[i>>16&15]+v[i>>12&15]+v[i>>8&15]+v[i>>4&15]+v[15&i]+v[a>>28&15]+v[a>>24&15]+v[a>>20&15]+v[a>>16&15]+v[a>>12&15]+v[a>>8&15]+v[a>>4&15]+v[15&a];return 256<=g&&(y+=v[s>>28&15]+v[s>>24&15]+v[s>>20&15]+v[s>>16&15]+v[s>>12&15]+v[s>>8&15]+v[s>>4&15]+v[15&s]),384<=g&&(y+=v[l>>28&15]+v[l>>24&15]+v[l>>20&15]+v[l>>16&15]+v[l>>12&15]+v[l>>8&15]+v[l>>4&15]+v[15&l]+v[c>>28&15]+v[c>>24&15]+v[c>>20&15]+v[c>>16&15]+v[c>>12&15]+v[c>>8&15]+v[c>>4&15]+v[15&c]+v[u>>28&15]+v[u>>24&15]+v[u>>20&15]+v[u>>16&15]+v[u>>12&15]+v[u>>8&15]+v[u>>4&15]+v[15&u]+v[d>>28&15]+v[d>>24&15]+v[d>>20&15]+v[d>>16&15]+v[d>>12&15]+v[d>>8&15]+v[d>>4&15]+v[15&d]),512==g&&(y+=v[p>>28&15]+v[p>>24&15]+v[p>>20&15]+v[p>>16&15]+v[p>>12&15]+v[p>>8&15]+v[p>>4&15]+v[15&p]+v[h>>28&15]+v[h>>24&15]+v[h>>20&15]+v[h>>16&15]+v[h>>12&15]+v[h>>8&15]+v[h>>4&15]+v[15&h]+v[f>>28&15]+v[f>>24&15]+v[f>>20&15]+v[f>>16&15]+v[f>>12&15]+v[f>>8&15]+v[f>>4&15]+v[15&f]+v[m>>28&15]+v[m>>24&15]+v[m>>20&15]+v[m>>16&15]+v[m>>12&15]+v[m>>8&15]+v[m>>4&15]+v[15&m]),y},m.prototype.array=m.prototype.digest=function(){this.finalize();var e=this.h0h,t=this.h0l,n=this.h1h,r=this.h1l,o=this.h2h,i=this.h2l,a=this.h3h,s=this.h3l,l=this.h4h,c=this.h4l,u=this.h5h,d=this.h5l,p=this.h6h,h=this.h6l,f=this.h7h,m=this.h7l,g=this.bits,y=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a];return 256<=g&&y.push(s>>24&255,s>>16&255,s>>8&255,255&s),384<=g&&y.push(l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,d>>24&255,d>>16&255,d>>8&255,255&d),512==g&&y.push(p>>24&255,p>>16&255,p>>8&255,255&p,h>>24&255,h>>16&255,h>>8&255,255&h,f>>24&255,f>>16&255,f>>8&255,255&f,m>>24&255,m>>16&255,m>>8&255,255&m),y},m.prototype.arrayBuffer=function(){this.finalize();var e=this.bits,t=new ArrayBuffer(e/8),n=new DataView(t);return n.setUint32(0,this.h0h),n.setUint32(4,this.h0l),n.setUint32(8,this.h1h),n.setUint32(12,this.h1l),n.setUint32(16,this.h2h),n.setUint32(20,this.h2l),n.setUint32(24,this.h3h),256<=e&&n.setUint32(28,this.h3l),384<=e&&(n.setUint32(32,this.h4h),n.setUint32(36,this.h4l),n.setUint32(40,this.h5h),n.setUint32(44,this.h5l)),512==e&&(n.setUint32(48,this.h6h),n.setUint32(52,this.h6l),n.setUint32(56,this.h7h),n.setUint32(60,this.h7l)),t},(g.prototype=new m).finalize=function(){if(m.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();m.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(e),m.prototype.finalize.call(this)}};var y=u(512);(y.sha512=y).sha384=u(384),y.sha512_256=u(256),y.sha512_224=u(224),y.sha512.hmac=p(512),y.sha384.hmac=p(384),y.sha512_256.hmac=p(256),y.sha512_224.hmac=p(224),r?E.exports=y:(t.sha512=y.sha512,t.sha384=y.sha384,t.sha512_256=y.sha512_256,t.sha512_224=y.sha512_224,o&&(void 0===(A=function(){return y}.call(y,k,y,E))||(E.exports=A)))}()}).call(this,k(33),k(40))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(e,t,n){"use strict";var r=n(9);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=n(20),o=n(215),s=n(218);function l(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var c,u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,c=a.Component),d.prototype.render=function(){return a.createElement(o,r({},this.props,{childFactory:this._wrapChild}))},d);function d(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t=i(this,c.call.apply(c,[this].concat(r))))._wrapChild=function(e){return a.createElement(s,{name:t.props.transitionName,appear:t.props.transitionAppear,enter:t.props.transitionEnter,leave:t.props.transitionLeave,appearTimeout:t.props.transitionAppearTimeout,enterTimeout:t.props.transitionEnterTimeout,leaveTimeout:t.props.transitionLeaveTimeout},e)},i(t,e)}u.displayName="ReactCSSTransitionGroup",u.propTypes={transitionName:s.propTypes.name,transitionAppear:a.PropTypes.bool,transitionEnter:a.PropTypes.bool,transitionLeave:a.PropTypes.bool,transitionAppearTimeout:l("Appear"),transitionEnterTimeout:l("Enter"),transitionLeaveTimeout:l("Leave")},u.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.exports=u},function(e,t,n){"use strict";var i=n(9);function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s,o=n(20),l=(n(110),n(216)),r=n(15),c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,s=o.Component),u.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},u.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},u.prototype.componentWillReceiveProps=function(e){var t;t=l.getChildMapping(e.children);var n,r=this.state.children;for(n in this.setState({children:l.mergeChildMappings(r,t)}),t){var o=r&&r.hasOwnProperty(n);!t[n]||o||this.currentlyTransitioningKeys[n]||this.keysToEnter.push(n)}for(n in r){var i=t&&t.hasOwnProperty(n);!r[n]||i||this.currentlyTransitioningKeys[n]||this.keysToLeave.push(n)}},u.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},u.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var r=i({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,o.createElement(this.props.component,r,e)},u);function u(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r=a(this,s.call.apply(s,[this].concat(n)))).state={children:l.getChildMapping(r.props.children)},r.performAppear=function(e){r.currentlyTransitioningKeys[e]=!0;var t=r.refs[e];t.componentWillAppear?t.componentWillAppear(r._handleDoneAppearing.bind(r,e)):r._handleDoneAppearing(e)},r._handleDoneAppearing=function(e){var t,n=r.refs[e];n.componentDidAppear&&n.componentDidAppear(),delete r.currentlyTransitioningKeys[e],(t=l.getChildMapping(r.props.children))&&t.hasOwnProperty(e)||r.performLeave(e)},r.performEnter=function(e){r.currentlyTransitioningKeys[e]=!0;var t=r.refs[e];t.componentWillEnter?t.componentWillEnter(r._handleDoneEntering.bind(r,e)):r._handleDoneEntering(e)},r._handleDoneEntering=function(e){var t,n=r.refs[e];n.componentDidEnter&&n.componentDidEnter(),delete r.currentlyTransitioningKeys[e],(t=l.getChildMapping(r.props.children))&&t.hasOwnProperty(e)||r.performLeave(e)},r.performLeave=function(e){r.currentlyTransitioningKeys[e]=!0;var t=r.refs[e];t.componentWillLeave?t.componentWillLeave(r._handleDoneLeaving.bind(r,e)):r._handleDoneLeaving(e)},r._handleDoneLeaving=function(n){var e,t=r.refs[n];t.componentDidLeave&&t.componentDidLeave(),delete r.currentlyTransitioningKeys[n],(e=l.getChildMapping(r.props.children))&&e.hasOwnProperty(n)?r.performEnter(n):r.setState(function(e){var t=i({},e.children);return delete t[n],{children:t}})},a(r,e)}c.displayName="ReactTransitionGroup",c.propTypes={component:o.PropTypes.any,childFactory:o.PropTypes.func},c.defaultProps={component:"span",childFactory:r.thatReturnsArgument},e.exports=c},function(e,t,n){"use strict";var r=n(217),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(t,n){function e(e){return n.hasOwnProperty(e)?n[e]:t[e]}t=t||{},n=n||{};var r,o={},i=[];for(var a in t)n.hasOwnProperty(a)?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in n){if(o.hasOwnProperty(l))for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=e(c)}s[l]=e(l)}for(r=0;r<i.length;r++)s[i[r]]=e(i[r]);return s}};e.exports=o},function(t,e,n){"use strict";(function(e){n(78);var r=n(76);n(6);function o(e,t,n,r){if(e&&"object"==typeof e){var o=e;0,void 0===o[n]&&null!=t&&(o[n]=t)}}void 0!==e&&e.env,t.exports=function(e,t){if(null==e)return e;var n={};return r(e,o,n),n}}).call(this,n(33))},function(e,t,n){"use strict";var r=n(20),l=n(110),c=n(219),u=n(220),o=n(80),i=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=l.getReactDOM().findDOMNode(this);if(r){var o=this.props.name[e]||this.props.name+"-"+e,i=this.props.name[e+"Active"]||o+"-active",a=null,s=function(e){e&&e.target!==r||(clearTimeout(a),c.removeClass(r,o),c.removeClass(r,i),u.removeEndEventListener(r,s),t&&t())};c.addClass(r,o),this.queueClassAndNode(i,r),n?(a=setTimeout(s,n),this.transitionTimeouts.push(a)):u.addEndEventListener(r,s)}else t&&t()},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,17))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){c.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return o(this.props.children)}});e.exports=i},function(e,t,n){"use strict";var r=n(4);var o={addClass:function(e,t){return/\s/.test(t)&&r(!1),t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)&&r(!1),t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)&&r(!1),e.classList?!!t&&e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")},matchesSelector:function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(e){return function(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return-1!==Array.prototype.indexOf.call(r,e)}(t,e)}).call(t,e)}};e.exports=o},function(e,t,n){"use strict";var r,o,i=n(14),a=n(94),s=[];i.canUseDOM&&(r=a("animationend"),o=a("transitionend"),r&&s.push(r),o&&s.push(o));var l={addEndEventListener:function(t,n){0!==s.length?s.forEach(function(e){!function(e,t,n){e.addEventListener(t,n,!1)}(t,e,n)}):window.setTimeout(n,0)},removeEndEventListener:function(t,n){0!==s.length&&s.forEach(function(e){!function(e,t,n){e.removeEventListener(t,n,!1)}(t,e,n)})}};e.exports=l},function(e,t,n){var r=n(222);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(35)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".boxcast-clappr-button{background-color:transparent;color:#fff;-webkit-font-smoothing:antialiased;border:none;font-size:13px;cursor:pointer;outline:none;padding:1px 7px 2px}.boxcast-clappr-button:hover{color:#c9c9c9}.boxcast-clappr-button .boxcast-cog-hd{position:absolute;top:-2px;right:-3px;background:#ED2524;color:#fff;border-radius:3px;padding:0px 2px;font-weight:normal;font-size:9px}.playback_rate[data-playback-rate-select],.social[data-social-select]{float:right;margin-top:5px;position:relative}.playback_rate[data-playback-rate-select] ul{list-style-type:none}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu{list-style-type:none;position:absolute;bottom:42px;left:-33px;min-width:170px;min-height:75px;border:1px solid black;border-radius:4px;background-color:rgba(0,0,0,0.8)}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li{position:relative;font-size:13px;height:30px}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-title{opacity:1.0;text-align:center;position:absolute;top:4px;left:0px;right:0px}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-label{opacity:0.8;text-align:left;position:absolute;top:4px;left:5px;font-weight:bold}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-rate-label,.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-quality-label{display:inline-block;width:55px;text-align:right}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-rate-tag{font-weight:normal;font-size:11px;display:inline-block;margin-left:10px}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-quality-hd{background:#ED2524;color:#fff;border-radius:3px;padding:1px 4px 0px 4px;font-weight:bold;font-size:11px;display:inline-block;margin-left:10px}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-quality-hfr{font-weight:normal;font-size:11px;display:inline-block;margin-left:8px}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-value{opacity:1.0;text-align:right;position:absolute;top:4px;right:15px}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-icon-right{text-align:right;position:absolute;top:4px;right:5px;cursor:pointer}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-clappr-menu-icon-left{text-align:left;position:absolute;top:4px;left:5px;cursor:pointer}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li .boxcast-unstyled-button{background:none;border:none;outline:none;padding:0;margin:0;color:#eee}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link{color:#eee;text-decoration:none;cursor:pointer;position:relative}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link a{text-decoration:none}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link a:hover{text-decoration:none}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link .boxcast-unstyled-button{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;color:#eee}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link:hover{color:#fff;text-decoration:none;background-color:rgba(255,255,255,0.2)}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link:hover .boxcast-unstyled-button{color:#fff}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link.active{background-color:#000;font-weight:bold;color:#fff}.playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu li.link.active .boxcast-unstyled-button{color:#fff}.boxcast-size-xs .playback_rate[data-playback-rate-select] ul.boxcast-clappr-menu{transform:scale(0.75);bottom:15px;max-height:180px;overflow-y:scroll}.media-control-hide .playback_rate[data-playback-rate-select] ul{display:none}.cc-controls[data-cc-controls]>ul{border:1px solid black !important;background-color:rgba(0,0,0,0.8) !important;border-radius:4px;bottom:49px !important}.cc-controls[data-cc-controls]>ul li{position:relative;font-size:13px;height:30px}.cc-controls[data-cc-controls]>ul li a{color:#eee;text-decoration:none;cursor:pointer;padding:6px 10px}.cc-controls[data-cc-controls]>ul li a:hover{text-decoration:none}.cc-controls[data-cc-controls]>ul li.current a{background-color:#000;font-weight:bold;color:#fff}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,i=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(e,t,n){var r=n(225);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(35)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".cc-controls[data-cc-controls]{float:right;position:relative;display:none}.cc-controls[data-cc-controls].available{display:block}.cc-controls[data-cc-controls] .cc-button{padding:5px 6px 6px 6px !important;opacity:0.5 !important}.cc-controls[data-cc-controls] .cc-button.enabled{display:block;opacity:1.0 !important}.cc-controls[data-cc-controls] .cc-button.enabled:hover{opacity:1.0;text-shadow:none}\n",""])},function(e,t,n){var r=n(227);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(35)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(34)(!1)).push([e.i,".scrub-thumbnails{position:absolute;bottom:55px;width:100%}.scrub-thumbnails.hidden{opacity:0}.scrub-thumbnails .image-cache{display:none}.scrub-thumbnails .thumbnail-container{display:inline-block;position:relative;overflow:hidden;background-color:#000000}.scrub-thumbnails .thumbnail-container .thumbnail-img{position:absolute;width:auto}.scrub-thumbnails .spotlight{background-color:#000000;overflow:hidden;position:absolute;bottom:0;left:0;border-color:#ffffff;border-style:solid;border-width:2px}.scrub-thumbnails .spotlight img{width:auto}.scrub-thumbnails .backdrop{position:absolute;left:0;bottom:0;right:0;background-color:#000000;overflow:hidden}.scrub-thumbnails .backdrop .carousel{position:absolute;top:0;left:0;height:100%;white-space:nowrap}.scrub-thumbnails .backdrop .carousel img{width:auto}\n",""])},function(e,t,n){var r=n(229);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(35)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(34)(!1)).push([e.i,"[data-watermark]{position:absolute;min-width:70px;max-width:200px;width:12%;text-align:center;z-index:10000;opacity:.75;transition:transform 0.4s, opacity .4s}[data-watermark]:hover{opacity:1}[data-watermark].settings-menu-open{opacity:0;pointer-events:none}[data-watermark] a{outline:none;cursor:pointer}[data-watermark] img{max-width:100%}[data-watermark-bottom-right]{bottom:4%;right:3%}[data-watermark-bottom-right].with-media-controls-shown{transform:translateY(-50px)}[data-watermark-bottom-left]{bottom:4%;left:3%}[data-watermark-bottom-left].with-media-controls-shown{transform:translateY(-50px)}[data-watermark-top-left]{top:4%;left:3%}[data-watermark-top-right]{top:4%;right:3%}\n",""])},function(e,t,n){var r=n(231);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(35)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(34)(!1)).push([e.i,'.cue-points-plugin{pointer-events:none}.cue-points-plugin .cue-points-plugin-markers{overflow:hidden;position:absolute;top:0;bottom:0;left:0;right:0}.cue-points-plugin .cue-points-plugin-markers>*{pointer-events:auto}.cue-points-plugin .cue-points-plugin-markers .standard-marker{position:absolute;transform:translateX(-50%);top:2px;left:0;width:20px;height:20px}.cue-points-plugin .cue-points-plugin-markers .standard-marker .standard-marker-inner{position:absolute;left:7px;top:11px;width:6px;height:6px;border-radius:3px;background-color:#ffffff}.cue-points-plugin .cue-points-plugin-markers .standard-marker:hover{cursor:pointer}.cue-points-plugin .cue-points-plugin-markers .standard-marker:hover .standard-marker-inner{left:6px;top:9px;width:8px;height:8px;border-radius:4px;box-shadow:0 0 0 6px rgba(255,255,255,0.2);background-color:#fff}.cue-points-plugin .cue-points-plugin-tooltips{position:relative;height:0}.cue-points-plugin .cue-points-plugin-tooltips .tooltip-container{position:absolute;white-space:nowrap;line-height:normal}.cue-points-plugin .cue-points-plugin-tooltips .tooltip-container>*{pointer-events:auto}.cue-points-plugin .cue-points-plugin-tooltips .tooltip-container .standard-tooltip,.cue-points-plugin .cue-points-plugin-tooltips .tooltip-container .image-tooltip{display:none;background-color:rgba(2,2,2,0.5);color:white;font-size:10px;padding:4px 7px;line-height:normal;max-width:200px;overflow:hidden;text-overflow:ellipsis}.cue-points-plugin .cue-points-plugin-tooltips .tooltip-container .standard-tooltip[data-show="1"],.cue-points-plugin .cue-points-plugin-tooltips .tooltip-container .image-tooltip[data-show="1"]{display:inline-block}\n',""])},function(e,t,n){var r=n(233);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(35)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(234);(e.exports=n(34)(!1)).push([e.i,".animated-ellipsis-after:after{display:inline-block;animation:animated-ellipsis steps(1, end) 1.25s infinite;content:''}@keyframes animated-ellipsis{0%{content:''}25%{content:'.'}50%{content:'..'}75%{content:'...'}100%{content:''}}.boxcast-well{border:1px solid #bfbfbf;box-shadow:0 0 5px rgba(0,0,0,0.1);padding:10px;margin:10px 0;min-height:100px}.boxcast-well h1,.boxcast-well h3{line-height:27px;margin-bottom:0}.boxcast-well h1,.boxcast-well h2,.boxcast-well h3,.boxcast-well h4,.boxcast-well h5{margin-top:0}.boxcast-well-title{padding-bottom:10px;margin-bottom:10px;border-bottom:1px solid #eee}.boxcast-well-title h3{line-height:27px;font-weight:bold}.boxcast-well-title.boxcast-tabbed{padding-bottom:0}.boxcast-well-title.boxcast-tabbed h3{float:left;margin-right:10px;padding-right:10px;padding-left:10px;padding-bottom:10px;color:#aaa;cursor:pointer}.boxcast-well-title.boxcast-tabbed h3.active{border-bottom:2px solid #333;color:#333;cursor:default}.boxcast-selectable{border:2px solid transparent;border-radius:4px}.boxcast-selectable.boxcast-selected{border-color:#1AA8A1}.boxcast-noscroll{overflow:hidden;-webkit-overflow-scrolling:touch}.boxcast-boxoffice ::cue{color:#fff;font-size:1em;font-weight:bold;font-family:sans-serif}.boxcast-boxoffice video::-webkit-media-text-track-display{-moz-transform:translateY(-32px);-o-transform:translateY(-32px);-ms-transform:translateY(-32px);-webkit-transform:translateY(-32px);transform:translateY(-32px)}.boxcast-boxoffice .bump-text-track video::-webkit-media-text-track-display{-moz-transform:translateY(-64px);-o-transform:translateY(-64px);-ms-transform:translateY(-64px);-webkit-transform:translateY(-64px);transform:translateY(-64px)}.boxcast-size-xs .boxcast-visible-xs{display:block}.boxcast-size-sm .boxcast-visible-sm{display:block}.boxcast-size-md .boxcast-visible-md{display:block}.boxcast-size-lg .boxcast-visible-lg{display:block}.boxcast-size-xs .boxcast-hidden-xs{display:none}.boxcast-size-sm .boxcast-hidden-sm{display:none}.boxcast-size-md .boxcast-hidden-md{display:none}.boxcast-size-lg .boxcast-hidden-lg{display:none}.boxcast-row{display:flex;flex-wrap:wrap}.boxcast-col-25{width:25%}.boxcast-col-40{width:40%}.boxcast-col-50{width:50%}.boxcast-col-60{width:60%}.boxcast-col-75{width:75%}.boxcast-size-xs .boxcast-col-xs-100{width:100%}.boxcast-size-sm .boxcast-col-sm-100{width:100%}.boxcast-size-md .boxcast-col-md-100{width:100%}.boxcast-size-lg .boxcast-col-lg-100{width:100%}.boxcast-boxoffice h1,.boxcast-boxoffice h2,.boxcast-boxoffice h3,.boxcast-boxoffice h4,.boxcast-boxoffice h5,.boxcast-boxoffice p{margin:0;padding:0;line-height:1em}.boxcast-boxoffice h1{font-size:16px;margin-bottom:10px}.boxcast-boxoffice h2{font-size:15px;margin-bottom:10px}.boxcast-boxoffice h3{font-size:14px;margin-bottom:10px}.boxcast-boxoffice h4{font-size:13px;margin-top:20px}.boxcast-boxoffice h5{font-size:12px}.boxcast-boxoffice p{font-size:12px}.boxcast-boxoffice .boxcast-description{white-space:pre-wrap;font-size:12px;opacity:0.8}.boxcast-boxoffice .boxcast-start-stop{font-size:12px;font-weight:bold;margin-top:10px}.boxcast-boxoffice .boxcast-linkback{font-size:10px;color:#aaa;margin-top:10px;display:inline-block;text-decoration:none;border-bottom:1px dotted transparent}.boxcast-boxoffice .boxcast-linkback:hover{color:#777;border-color:#777}.boxcast-well-title h3{margin-bottom:0}.boxcast-overflow-ellipse{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.boxcast-button,.boxcast-ticket-button,.boxcast-ticket-button-solid{display:inline-block;background:transparent;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding:4px 10px;border:1px solid #333;font-size:12px;font-weight:bold;color:#333}.boxcast-button-group{font-size:0}.boxcast-button-group .boxcast-button,.boxcast-button-group .boxcast-ticket-button,.boxcast-button-group .boxcast-ticket-button-solid{color:#555;border:1px solid #1AA8A1;text-align:center;border-radius:0;font-size:14px;line-height:14px;padding:8px 10px;border-right-width:0;outline:none}.boxcast-button-group .boxcast-button:first-child,.boxcast-button-group .boxcast-ticket-button:first-child,.boxcast-button-group .boxcast-ticket-button-solid:first-child{border-radius:5px 0 0 5px}.boxcast-button-group .boxcast-button:last-child,.boxcast-button-group .boxcast-ticket-button:last-child,.boxcast-button-group .boxcast-ticket-button-solid:last-child{border-radius:0 5px 5px 0;border-right-width:1px}.boxcast-button-group .boxcast-button.active,.boxcast-button-group .active.boxcast-ticket-button,.boxcast-button-group .active.boxcast-ticket-button-solid{background:#1AA8A1;color:#fff}.boxcast-button:hover,.boxcast-ticket-button:hover,.boxcast-ticket-button-solid:hover{background:rgba(100,100,100,0.1)}.boxcast-social button{margin:10px 10px 0 0}@font-face{font-family:'boxcast-icomoon';src:url("+r(n(111))+");src:url("+r(n(111))+'#iefix) format("embedded-opentype"),url('+r(n(235))+') format("truetype"),url('+r(n(236))+') format("woff"),url('+r(n(237))+'#icomoon) format("svg");font-weight:normal;font-style:normal}[class^="boxcast-icon-"],[class*=" boxcast-icon-"]{font-family:\'boxcast-icomoon\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.boxcast-icon-check:before{content:"\\F03A"}.boxcast-icon-chevron-left:before{content:"\\F0A4"}.boxcast-icon-chevron-right:before{content:"\\F078"}.boxcast-icon-ticket:before{content:"\\E91D"}.boxcast-icon-clock:before{content:"\\E91E"}.boxcast-icon-bubbles:before{content:"\\E918"}.boxcast-icon-spinner:before{content:"\\E919"}.boxcast-icon-replay:before{content:"\\E900"}.boxcast-icon-cog:before{content:"\\E901"}.boxcast-icon-cogs:before{content:"\\E91A"}.boxcast-icon-warning:before{content:"\\E902"}.boxcast-icon-info:before{content:"\\E903"}.boxcast-icon-play:before{content:"\\E904"}.boxcast-icon-pause:before{content:"\\E905"}.boxcast-icon-stop:before{content:"\\E906"}.boxcast-icon-backward:before{content:"\\E907"}.boxcast-icon-forward:before{content:"\\E908"}.boxcast-icon-first:before{content:"\\E909"}.boxcast-icon-last:before{content:"\\E90A"}.boxcast-icon-previous:before{content:"\\E90B"}.boxcast-icon-next:before{content:"\\E90C"}.boxcast-icon-eject:before{content:"\\E90D"}.boxcast-icon-volume-high:before{content:"\\E90E"}.boxcast-icon-volume-medium:before{content:"\\E90F"}.boxcast-icon-volume-low:before{content:"\\E910"}.boxcast-icon-volume-off:before{content:"\\E911"}.boxcast-icon-volume-mute:before{content:"\\E912"}.boxcast-icon-loop:before{content:"\\E913"}.boxcast-icon-shuffle:before{content:"\\E914"}.boxcast-icon-sort-alpha-asc:before{content:"\\E915"}.boxcast-icon-sort-alpha-desc:before{content:"\\E916"}.boxcast-icon-share:before{content:"\\E917"}.boxcast-icon-facebook:before{content:"\\E91B"}.boxcast-icon-twitter:before{content:"\\E91C"}.boxcast-icon-external-link:before{content:"  ";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAA1VBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8O23QDAAAARnRSTlMABA0ODxAREhMUFRYXGBkaGxwdHh8gISIjOkRFRkdISUpLTE1OT1BRUlNYWVpbcJOWl5manbe4ubq7vL2+v8DBwsPExcnNl3QJYAAAA1lJREFUeAHc1fs2W18UxfH58yMiIS6i7uoiKCGlaeJi73Oh7/9KHR1d//awwtyOOd/gM8Z3rIWrwXvt+zSqtnk9IO4Kg/BeK5uo3EEgbpAQgq+FCASXpQgEhyoQ7BUiEKtLAIJDFQh2CxGI1SUAwZEKxOoSgKBfikBwrALBTi4CsboEIOipQKwuAYjVJQBBTwWC7VwEYnUJQHASRSBWFxPy7N2vOUyyi5ILeUaqnUYBiNUlALG6BCBWlwgEW5kIBOelCARnUQBidQlArC4BiNUlAsF+pgHZEEmrFTUgrVGQgKwL/BHrSgIyNwoCEOtKANLOggTEuuJD+F1JQOazIACxrgQgGyFIQBYyDYh1xYfwu5KALGQakOYoCECsKwFIJ9OANMdBArL+GCQgnTx4ltUVMjtyOe57sXYQ6yp6HI9r+PZUR8iir6ufswDOs/pBZscux+MfB7AVuRD+vVrD352V9YIs+buyXWQ8CL+rBmxWFxXC78p2WnIg/K6asNku8npAGpN3ZduOdYB8eZi4q4q60kOWXV1F6wov1JUe0rj1dTUDW2VdBAi/K9tJSYDQuprDv9fPCRBOVw8zqNr2R0Csq+iCdFG9XvkxkBVnVy3YHHX5IfyupvHydj4AsnY/aVeOuggQflewutgQfldWV1KIs6vYxet3XKaDrDq7asOzfpEK0rgLnt1Pw7fdRJAuryvbUemG8LsateHfZeGF8Lv6H5Nslw7p3pG7sh2WXEj7ydfVPCac1UWDYMjvyrbHhfw3zF/tiKt4yw4KJgS4yV7b1QLetn5BhWDI78q2x4VYXdSubPvXTAjwI6d3ZdukQBx13U3hncaFWF3crsgQ201e1VUHnwaCIb8rCsRRV1xBcgihrjju4JNBMKR3lQhidXG6IkAcdcXxItJDCHXdTiE9hFBXXEZyCKEuQlcpIRgSu0oFsboyWlcpIVZXHC/h00MwtK5SQwh1FUtQgAAtiEDwu307pgEQiAEoujCAmQMDLAT8WwIBDbmxbd538AT8fhAQEBAQEBAQkG2NW6pBnivuqAa5c07HICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIJ8kZec/pH4gICAgICAgICAgICAgICAgc4GMvUXjBX4XgZ6aq3DbAAAAAElFTkSuQmCC);background-size:contain;background-repeat:no-repeat}.boxcast-boxoffice{position:relative;box-sizing:border-box}.boxcast-boxoffice *,.boxcast-boxoffice *:before,.boxcast-boxoffice *:after{box-sizing:inherit}.boxcast-size-md .boxcast-with-playlist-to-right,.boxcast-size-lg .boxcast-with-playlist-to-right{display:flex}.boxcast-size-md .boxcast-with-playlist-to-right-col-1,.boxcast-size-lg .boxcast-with-playlist-to-right-col-1{padding:10px}.boxcast-size-md .boxcast-with-playlist-to-right-col-1 .boxcast-player-container,.boxcast-size-lg .boxcast-with-playlist-to-right-col-1 .boxcast-player-container{float:none;width:100%;margin:0}.boxcast-size-md .boxcast-with-playlist-to-right-col-2,.boxcast-size-lg .boxcast-with-playlist-to-right-col-2{margin-right:10px}.boxcast-size-lg .boxcast-with-playlist-to-right-col-1{flex:1}.boxcast-size-lg .boxcast-with-playlist-to-right-col-2{width:425px}.boxcast-size-md .boxcast-with-playlist-to-right-col-1{flex:1}.boxcast-size-md .boxcast-with-playlist-to-right-col-2{width:290px}.boxcast-block-everything{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.85);z-index:999999}.boxcast-loader-overlay{position:absolute;top:0;left:0;color:rgba(255,255,255,0.8);text-shadow:0 0 3px rgba(0,0,0,0.4)}.boxcast-loader-react-transition-leave{opacity:1}.boxcast-loader-react-transition-leave.boxcast-loader-react-transition-leave-active{opacity:0.01;transition:opacity 300ms ease-in}.boxcast-loader,.boxcast-loader:before,.boxcast-loader:after{background:#ffffff;-webkit-animation:boxcast-loader-keyframes 1s infinite ease-in-out;animation:boxcast-loader-keyframes 1s infinite ease-in-out;width:1em;height:4em}.boxcast-loader:before,.boxcast-loader:after{position:absolute;top:0;content:\'\'}.boxcast-loader:before{left:-1.5em;-webkit-animation-delay:-0.32s;animation-delay:-0.32s}.boxcast-loader{text-indent:-9999em;margin:15px;position:relative;font-size:5px;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-0.16s;animation-delay:-0.16s}.boxcast-loader:after{left:1.5em}@-webkit-keyframes boxcast-loader-keyframes{0%,80%,100%{box-shadow:0 0 #ffffff;height:4em}40%{box-shadow:0 -2em #ffffff;height:5em}}@keyframes boxcast-loader-keyframes{0%,80%,100%{box-shadow:0 0 #ffffff;height:4em}40%{box-shadow:0 -2em #ffffff;height:5em}}.boxcast-errors,.boxcast-errors-small{position:absolute;top:0px;left:0px;right:0px;padding:40px;background:rgba(0,0,0,0.5);background:linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0) 100%);color:#ddd;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.boxcast-errors h3,.boxcast-errors .boxcast-errors-title,.boxcast-errors-small h3,.boxcast-errors-small .boxcast-errors-title{color:#fafafa;font-size:18px;line-height:32px;margin:0;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.boxcast-errors p,.boxcast-errors .boxcast-errors-detail,.boxcast-errors-small p,.boxcast-errors-small .boxcast-errors-detail{color:#ddd;font-size:14px;line-height:24px;margin:0;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.boxcast-errors a,.boxcast-errors-small a{display:inline-block;pointer-events:all;cursor:pointer;font-weight:bold;color:#ddd;border-bottom:1px dotted;text-decoration:none}.boxcast-size-xs .boxcast-errors,.boxcast-errors-small{padding:5px}.boxcast-size-xs .boxcast-errors h3,.boxcast-size-xs .boxcast-errors .boxcast-errors-title,.boxcast-errors-small h3,.boxcast-errors-small .boxcast-errors-title{font-size:14px;line-height:24px}.boxcast-size-xs .boxcast-errors p,.boxcast-size-xs .boxcast-errors .boxcast-errors-detail,.boxcast-errors-small p,.boxcast-errors-small .boxcast-errors-detail{font-size:10px;line-height:16px}.boxcast-player-container{position:relative}.boxcast-player-container video::-webkit-media-controls-start-playback-button{display:none !important}.boxcast-player-container .player-poster[data-poster]{background-color:transparent}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator]{display:none;float:none}.boxcast-player-container .media-control[data-media-control] .media-control-background[data-background]{height:46px;background:rgba(44,61,85,0.85)}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar]{height:6px;top:12px;background:rgba(0,0,0,0.2)}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#1AA8A1}.boxcast-player-container .media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#ED2524}.boxcast-player-container .media-control.live.dvr[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#1AA8A1}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{border-radius:0 5px 5px 0}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{top:5px;width:15px;height:15px;border-radius:15px}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{top:-5px;width:15px;height:15px;border-radius:15px}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control],.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control]{top:3px}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause]{padding-right:8px;width:30px;text-align:center}.boxcast-player-container .media-control[data-media-control] .media-control-icon{opacity:1.0}.boxcast-player-container .media-control[data-media-control] .media-control-icon:hover{opacity:1.0;text-shadow:none}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]{padding-right:10px}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before{padding:0 6px 0 3px;content:"/"}.boxcast-player-container [data-no-op] p[data-no-op-msg]{color:#ddd;text-align:left;position:absolute;top:0;left:0;right:0;bottom:0;padding:40px;font-size:13px;font-weight:bold}.boxcast-player-container .media-control[data-media-control]{transition:transform 0.6s cubic-bezier(0.07, 0.58, 0.45, 0.99)}.boxcast-player-container .media-control[data-media-control].media-control-hide{transform:scale(1.05)}.boxcast-player-container .media-control[data-media-control].media-control-hide .media-control-layer[data-controls]{bottom:7px;opacity:0}.boxcast-player-container .media-control[data-media-control] .media-control-layer[data-controls]{transition:opacity 0.6s cubic-bezier(0.07, 0.58, 0.45, 0.99)}.boxcast-player-container button.play-wrapper{outline:none}.boxcast-player-container [data-player].chromecast-active .media-control-right-panel>*{display:none !important}.boxcast-player-container [data-player].chromecast-active .media-control-right-panel>.chromecast-button{display:block !important}.boxcast-player-container [data-player].chromecast-active .media-control-right-panel>.cc-controls.available{display:block !important}.boxcast-player-container .container[data-container]{max-width:100% !important;margin:0 !important;padding:0 !important}.boxcast-player-wrapper{position:relative}.boxcast-player-wrapper:after{padding-top:56.25%;display:block;content:\'\'}.boxcast-player-wrapper [data-player]{position:absolute;height:100% !important}.boxcast-ar-4_3 .boxcast-player-wrapper:after{padding-top:75%}.boxcast-ar-3_2 .boxcast-player-wrapper:after{padding-top:66.67%}.boxcast-player-inner{position:absolute;top:0;bottom:0;right:0;left:0;background-color:#000;background:radial-gradient(ellipse at center, #000 0%, #1B1B1B 100%);color:white}.boxcast-playlist-list{clear:both;margin:10px 0}.boxcast-playlist-list:last-child{margin-bottom:0}.boxcast-playlist-list ul{list-style-type:none;padding:0;margin:0}.boxcast-playlist-item{position:relative;min-height:75px}.boxcast-playlist-item h3{font-size:13px;line-height:16px;margin:5px 0;font-weight:bold;color:#333}.boxcast-playlist-item p{font-size:10px;line-height:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:5px 0;color:#666}.boxcast-playlist-item-meta{display:inline-block;vertical-align:top;padding-left:10px;width:calc(100% - 125px)}.boxcast-page-controls{display:flex;text-align:center;margin:10px -10px -10px -10px;padding:10px;background:#fafafa}.boxcast-page-controls span,.boxcast-page-controls a{flex:1;display:flex;justify-content:center;padding:6px 0;font-size:0.8em}.boxcast-page-controls span{opacity:0.6}.boxcast-page-controls a{cursor:pointer;color:#333;border:1px solid #bbb;background:#dadada;border-radius:6px}.boxcast-page-controls a:hover,.boxcast-page-controls a:active,.boxcast-page-controls a:focus{text-decoration:none}.boxcast-page-controls a[disabled],.boxcast-page-controls a[disabled]:hover{cursor:default;opacity:0.4}.boxcast-playlist-search{vertical-align:top}.boxcast-playlist-search input{display:inline-block;vertical-align:top;border:1px solid #ccc;border-radius:12.5px;background:#fff;color:#333;height:25px;line-height:25px;padding:0 10px;width:130px;outline:none}.boxcast-playlist-loading-skeleton .boxcast-preview-icon{background-color:#aaa;opacity:0.3;cursor:default}.boxcast-playlist-loading-skeleton .boxcast-playlist-item-meta h3,.boxcast-playlist-loading-skeleton .boxcast-playlist-item-meta p{background-color:#aaa;opacity:0.3}.boxcast-preview-icon{position:relative;display:inline-block;vertical-align:top;height:71px;width:125px;overflow:hidden;cursor:pointer}.boxcast-preview-icon-preview{position:absolute;top:0;left:0;bottom:0;right:0;border:1px solid #111;background-color:#333;background-position:left;background-repeat:no-repeat;background-size:cover;-webkit-transition:transform .15s ease-in-out;-moz-transition:transform .15s ease-in-out;-ms-transition:transform .15s ease-in-out;-o-transition:transform .15s ease-in-out;transition:transform .15s ease-in-out}.boxcast-preview-icon-play{position:absolute;left:42.5px;top:15.5px;width:40px;height:40px;font-size:30px;text-align:center;border:1px solid #fff;border-radius:50%;color:#fff;box-shadow:0 0 10px rgba(0,0,0,0.5);text-shadow:0 0 10px rgba(0,0,0,0.5);-webkit-transition:opacity .15s ease-in-out;-moz-transition:opacity .15s ease-in-out;-ms-transition:opacity .15s ease-in-out;-o-transition:opacity .15s ease-in-out;transition:opacity .15s ease-in-out}.boxcast-preview-icon-play .boxcast-icon-play{text-align:right;line-height:40px;position:absolute;top:-1px;left:0;width:100%}.boxcast-preview-duration{position:absolute;bottom:3px;right:3px;padding:2px 4px;background:rgba(0,0,0,0.8);color:#fafafa;font-size:11px}.boxcast-preview-timeframe{position:absolute;top:3px;right:3px;padding:2px 6px;font-weight:bold;font-size:11px;line-height:13px;background:#d00;border-radius:2px;color:#fff;text-transform:uppercase}.boxcast-highlights ul{list-style-type:none;margin:0 -5px 0 0;padding:0}.boxcast-highlights li{display:inline-block;margin:0 5px 0 0;width:129px;vertical-align:top;padding:0}.boxcast-highlights li img{display:block;height:75px;border:1px solid #000;background:#000;cursor:pointer}.boxcast-highlights li h5{margin:3px}.boxcast-highlights li p{margin:3px;font-size:10px;opacity:0.8}.boxcast-with-playlist-to-right-col-2 .boxcast-highlights>ul{text-align:center}.boxcast-highlights-large>ul{text-align:center}.boxcast-highlights-large>ul>li{margin:10px;position:relative;width:437.5px}.boxcast-highlights-large>ul>li .boxcast-preview-icon{height:248.5px;width:437.5px}.boxcast-highlights-large>ul>li .boxcast-preview-icon .boxcast-preview-icon-play{left:168.75px;top:74.25px;width:100px;height:100px;font-size:90px}.boxcast-highlights-large>ul>li .boxcast-preview-icon .boxcast-preview-icon-play .boxcast-icon-play{text-align:right;line-height:100px;position:absolute;top:-1px;left:0;width:100%}.boxcast-highlights-large>ul>li .boxcast-highlights-overlay{position:absolute;top:0;left:0;right:0;pointer-events:none;padding:10px 0;background:rgba(0,0,0,0.4);color:#fff}.boxcast-highlights-large>ul>li .boxcast-highlights-overlay h3,.boxcast-highlights-large>ul>li .boxcast-highlights-overlay h5{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.boxcast-highlights-large>ul>li .boxcast-errors,.boxcast-highlights-large>ul>li .boxcast-errors-small{padding:10px}.boxcast-highlights-large>ul>li .boxcast-errors .boxcast-errors-icon,.boxcast-highlights-large>ul>li .boxcast-errors-small .boxcast-errors-icon{display:none}.boxcast-highlights-large>ul>li .boxcast-errors h3,.boxcast-highlights-large>ul>li .boxcast-errors .boxcast-errors-title,.boxcast-highlights-large>ul>li .boxcast-errors p,.boxcast-highlights-large>ul>li .boxcast-errors .boxcast-errors-detail,.boxcast-highlights-large>ul>li .boxcast-errors-small h3,.boxcast-highlights-large>ul>li .boxcast-errors-small .boxcast-errors-title,.boxcast-highlights-large>ul>li .boxcast-errors-small p,.boxcast-highlights-large>ul>li .boxcast-errors-small .boxcast-errors-detail{margin-left:0}.boxcast-highlights-large>ul .boxcast-highlight-list-item-playing{transform:scale(1.1);z-index:1;box-shadow:0 0 45px rgba(0,0,0,0.8);border:5px solid #000;border-radius:4px}.boxcast-highlights-large .boxcast-social button{margin-top:0;margin-bottom:10px;background:rgba(255,255,255,0.8)}.boxcast-boxoffice aside{font-size:10px;line-height:13px;margin:5px -6px 0;color:#666}.boxcast-boxoffice aside dl{margin:0}.boxcast-boxoffice aside dt{display:none}.boxcast-boxoffice aside dd{display:inline-block;margin:3px 6px 0;padding:2px 6px;border-radius:2px;background:#ccc}.boxcast-boxoffice aside .boxcast-tag-live-now dd{background:#d00;color:#fff;font-weight:bold;text-transform:uppercase}.boxcast-ticket{margin:20px 0}.boxcast-ticket p{margin-bottom:5px}.boxcast-ticket-button{border:1px solid #1AA8A1;color:#1AA8A1}.boxcast-ticket-button-solid{background:#1AA8A1;color:#fff;border:none}.boxcast-ticket-button-solid:hover{background:#1AA8A1;opacity:0.9}.boxcast-ticket-button-solid:active{background:#1AA8A1;opacity:0.8}.boxcast-payment-modal{max-width:800px;border-radius:10px;background:#fff;padding:20px}.boxcast-size-xs .boxcast-payment-modal{border-radius:0;min-height:calc(100vh)}.boxcast-payment-modal .boxcast-button-group,.boxcast-payment-modal .boxcast-check-label{margin-top:10px;color:#333}.boxcast-form-field{padding:5px 0}.boxcast-form-field.half-width{display:inline-block;width:50%}.boxcast-form-field.half-width:first-of-type{padding-right:5px}.boxcast-form-field.half-width:last-of-type{padding-left:5px}.boxcast-form-field input,.boxcast-form-field .StripeElement{background:#F7F7F7;border:1px solid #DEDEDE;border-radius:2px;color:#333;font-size:14px}.boxcast-form-field input,.boxcast-form-field button,.boxcast-form-field .StripeElement{-webkit-appearance:none;display:block;width:100%;padding:8px 10px;outline:0}.boxcast-form-field input.boxcast-form-error,.boxcast-form-field button.boxcast-form-error,.boxcast-form-field .StripeElement.boxcast-form-error{border-color:#ff7076}.boxcast-form-field input[type=checkbox]{display:inline-block;width:initial;margin-right:5px;-webkit-appearance:checkbox}.boxcast-form-field button{font-size:16px}div.boxcast-form-error{border-radius:4px;background:#ff7076;color:#fff;font-weight:bold;padding:8px 3px;margin-bottom:5px;text-align:center;font-size:13px}p.boxcast-disclaimer{margin:0 auto;padding:10px;text-align:center;font-size:85%}.boxcast-payment-title{font-weight:bold;font-size:20px;line-height:20px;color:#111;margin:0 0 20px 0}.boxcast-payment-subtitle{font-weight:bold;font-size:18px;line-height:18px;color:#4A4A4A;margin:0 0 10px 0}.boxcast-payment-details{font-weight:bold;font-size:13px;line-height:16px;color:#4A4A4A;margin:0 0 5px 0}.boxcast-payment-label{font-weight:bold;font-size:13px;line-height:16px;color:#9B9B9B;margin:0 0 5px 0}.boxcast-payment-label a{color:#5c8cb5;text-decoration:none;font-size:13px;line-height:16px}.boxcast-payment-label a:hover,.boxcast-payment-label a:visited{color:#5c8cb5;text-decoration:none;border-bottom:1px dotted}.boxcast-payment-label-sm{font-size:11px;line-height:14px;color:#9B9B9B;margin:0 0 5px 0}.boxcast-order-summary{text-align:left;background-color:#EAEAEA;margin:-20px -20px -20px 20px;padding:60px 20px 20px 20px;border-radius:0 10px 10px 0}.boxcast-order-summary-xs{background:#EAEAEA;padding:20px;margin:0 -20px 20px -20px}.boxcast-payment-total-amt{font-weight:bold;font-size:22px;line-height:22px;color:#1AA8A1;text-align:right}.boxcast-countdown{margin-top:40px;text-align:center}.boxcast-countdown-block{display:inline-block;padding:20px 20px 0;text-align:center;font-size:3em;font-weight:100}.boxcast-countdown-label{text-align:center;font-size:12px;font-weight:bold}.boxcast-countdown-message{display:inline-block;padding:30px 0 0 0;text-align:center;font-size:20px;font-weight:100}.boxcast-size-xs .boxcast-countdown{margin-top:0px}.boxcast-size-xs .boxcast-countdown-block{font-size:2em;padding:10px 10px 0}.boxcast-size-xs .boxcast-countdown-message{font-size:12px}.boxcast-player-container [data-tap-to-unmute] button{position:absolute;top:5px;right:5px;padding:2px 6px;-webkit-appearance:none;outline:none;background-color:rgba(255,255,255,0.8);border-color:transparent;border-radius:4px;font-size:9pt;font-weight:normal;text-shadow:none;color:#333}.watch.dvr-playback-view .boxcast-well-container{position:relative !important}.watch.dvr-playback-view .boxcast-page-controls{bottom:10px !important;width:100% !important;background-color:transparent !important}.boxcast-theme-dark .boxcast-well{background:#333;color:#fff;border:1px solid #555}.boxcast-theme-dark .boxcast-page-controls{background:rgba(128,128,128,0.3)}.boxcast-theme-light .boxcast-well{background:#fff;border:1px solid #bfbfbf}\n',""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){e.exports=n.p+"4db647b9bfb9ee0b532b9fce453eb357.ttf"},function(e,t,n){e.exports=n.p+"53ecb686c6eea900781e9fc1e407ce75.woff"},function(e,t,n){e.exports=n.p+"dd5e84d4899aad63dac098010144b41f.svg"},function(e,t,o){"use strict";o.r(t);var d=o(2),y=o.n(d),n=o(0),j=o.n(n),r=o(12),a=o.n(r),i=o(7),c=o.n(i),u=o(3),O=o(1);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(o,null,[{key:"hasPreloadAvailable",value:function(e){var t=(window.BOXCAST_PRELOAD||{})[e];return t&&t.data}},{key:"fromPreload",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;if(o.hasPreloadAvailable(e)){var r=O.Util.copyDict(window.BOXCAST_PRELOAD[e]);return delete window.BOXCAST_PRELOAD[e],n?Promise.resolve({data:r.data,pagination:JSON.parse(r["X-Pagination"]||"{}")}):Promise.resolve(r.data)}return Promise.reject("".concat(e," unavailable for preload"))}},{key:"get",value:function(e,t,n){var r=t?"?".concat(O.Util.qsFromObj(t)):"",o={};u.a.dict.apiAuthToken&&(o.headers={Authorization:"Bearer ".concat(u.a.dict.apiAuthToken)});var i=Object(O.fetch)("".concat(u.a.dict.apiRoot).concat(e).concat(r),o);return n&&n.onResponse?i.then(n.onResponse):i.then(l).then(h)}},{key:"getWithPagination",value:function(e,t){return o.get(e,t,{onResponse:function(e){var t=e.headers.get("X-Pagination");return e.json().then(function(e){return{data:e,pagination:JSON.parse(t)}})}})}},{key:"post",value:function(e,t){var n={Accept:"application/json","Content-Type":"application/json"};u.a.dict.apiAuthToken&&(n.Authorization="Bearer ".concat(u.a.dict.apiAuthToken));var r={method:"post",headers:n,body:JSON.stringify(t)};return Object(O.fetch)("".concat(u.a.dict.apiRoot).concat(e),r).then(h)}}]),o}();function l(e){var t=e.headers.get("Date");t&&O.Clock.updateCompensationFromServerTime(t);var n=e.headers.get("boxcast-requester-address");return n&&u.a.add("clientRemoteIP",n),e}function h(e){return e.json()}var f=o(5),m=o.n(f),g=o(11),v=O.Logger.getInstance("models");function b(i){return c.a.createStore({listenables:i,init:function(){this.id=null,this.name=null,this.description=null,this.isTicketed=!1,this.ticketPrice=0,this.freeVariant=null,this.ticket=null,this.loading=!1,this.error=null,this.args={},this.callbacks={}},onLoadChannel:function(e,t){var n=this;v.log("CurrentChannelStore#onLoadChannel",e,t),this.init(),this.callbacks.onLoadBroadcast=t.onLoadBroadcast,this.callbacks.onLoadHighlight=t.onLoadHighlight,this.callbacks.onTicketPurchaseCompleted=t.onTicketPurchaseCompleted,this.callbacks.onRefresh=t.onRefresh,this.callbacks.onGeoBlockRestricted=t.onGeoBlockRestricted,this.callbacks.onCryptBlockRestricted=t.onCryptBlockRestricted,this.callbacks.onTokenInvalid=t.auth&&t.auth.onTokenInvalid,this.id=e,this.loading=!0,(this.args=t).ticketId?(this.ticket=t.ticketId,function(e,t){O.BrowserStorage.addToRingBuffer("bx:tkt",""+e.id,t,u.a.dict.purchasedBufferSize)}({id:e},t.ticketId)):this.ticket=function(e){return O.BrowserStorage.getFromRingBuffer("bx:tkt",""+e)}(e),this.trigger();var r=Math.random();this.requestId=r;function o(){return n.requestId==r}return this._getChannelPromise().then(function(e){if(!o())return null;"not_found"==(e=e||{}).error||e.error&&i.LoadChannelError(e.error),n.name=e.name,n.description=e.description,n.isTicketed=e.is_ticketed,n.ticketPrice=e.ticket_price,n.freeVariant=e.free_variant,n.loading=!1,n.trigger()}).catch(function(e){if(!o())return null;n.error=e,i.LoadChannelError(e),n.loading=!1,n.trigger()})},_getChannelPromise:function(){return p.hasPreloadAvailable("channel")?p.fromPreload("channel"):p.get("/channels/".concat(this.id))}})}var _,A,E,k,x,T,w=O.Logger.getInstance("models"),S=O.Logger.getInstance("models"),C=u.a.get("gaTrackerName"),P=u.a.get("gaTrackerCode"),R=u.a.get("version");function L(e,t){_("send","event",e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"load",JSON.stringify(t))}function I(t,e,n){try{var r=n();return L(t,e),r}catch(e){if("halt"!=e.message){var o="".concat(e.message," ").concat(e.filename,":").concat(e.lineNumber);console.error(o),_("send","event",t,"fatal",o),_("send","exception",{exFatal:!0,exDescription:o})}throw e}}A=window,E=document,k=C,A.GoogleAnalyticsObject=k,A[k]=A[k]||function(){(A[k].q=A[k].q||[]).push(arguments)},A[k].l=1*new Date,x=E.createElement("script"),T=E.getElementsByTagName("script")[0],x.async=1,x.src="https://www.google-analytics.com/analytics.js",T.parentNode.insertBefore(x,T),(_=function(){var e;return(e=window)[C].apply(e,arguments)})("create",P,"auto"),_("require","displayfeatures"),_("set","hostname",location.hostname),_("set","dimension1",R),_("send","pageview");function D(i,r,o){return c.a.createStore({listenables:i,init:function(){this.broadcasts=[],this.pagination={},this.filter="",this.currentPage=1,this.loading=!0,this.error=null,this.pageSize=u.a.dict.playlistPageSize,r.relatedBroadcastsQuery&&r.relatedBroadcastsQuery.l&&(this.pageSize=r.relatedBroadcastsQuery.l)},pageCount:function(){return this.pagination?Math.ceil(this.pagination.total/this.pageSize):0},onLoadChannel:function(e,t){var n=this;N.log("PlaylistStore#onLoadChannel",e,t),this.init();var r=Math.random();this.requestId=r;function o(){return n.requestId==r}return this._getRelatedBroadcastsPromise().then(function(e){if(!o())return null;e.broadcasts&&e.broadcasts.error?(n.error=e.broadcasts,n.broadcasts=[],n.pagination={}):(n.error=null,n.broadcasts=e.broadcasts,n.pagination=e.pagination)}).then(function(){if(!o())return null;if(t.selectedBroadcastId)return p.get("/broadcasts/".concat(t.selectedBroadcastId)).then(function(e){i.SelectBroadcast(e,{selectedHighlightId:t.selectedHighlightId})});if(n.broadcasts.length){var e=function(e,t){if(1==e.length)return e[0];var n=e.filter(function(e){return"current"==Object(g.timeframe)(e)});if(n.length)return n.sort(function(e,t){return O.Clock.parse(e.starts_at)-O.Clock.parse(t.starts_at)}),n[0];if("closest"!=t.defaultVideo)return e[0];var r,o=0;return e.forEach(function(e){var t=Math.min(Math.abs(O.Clock.diff(O.Clock.parse(e.starts_at),!1)),Math.abs(O.Clock.diff(O.Clock.parse(e.stops_at),!1)));(!r||t<o)&&(r=e,o=t)}),r}(n.broadcasts,t);i.SelectBroadcast(e,{})}else n.error={error:"not_found",error_description:"There are no broadcasts in this channel."},i.LoadChannelError(n.error)}).then(function(){if(!o())return null;n.loading=!1,n.trigger()}).catch(function(e){N.error("PlaylistStore error loading broadcasts",e),n.error=n.error||{error:"unhandled_exception",error_description:"Unhandled exception loading broadcasts."},n.loading=!1,n.trigger()})},onRefreshSelectedBroadcastMeta:function(){var t=this;if(r.showRelated){var n=Math.random();this.requestId=n;return this._getRelatedBroadcastsPromise().then(function(e){if(t.requestId!=n)return null;e.broadcasts&&e.broadcasts.error?(t.error=e.broadcasts,t.broadcasts=[],t.pagination={}):(t.error=null,t.broadcasts=e.broadcasts,t.pagination=e.pagination)}).then(function(){t.loading=!1,t.trigger()})}},onPlaylistSearch:function(e){N.log("PlaylistStore#onPlaylistSearch",e),this.filter!=e&&(this.filter=e,this.currentPage=1,this.broadcasts=[],this.pagination={},this.loading=!0,this.onRefreshSelectedBroadcastMeta(),this.trigger(),_("send","event","playlist","search",e))},onPlaylistPaginate:function(e){N.log("PlaylistStore#onPlaylistPaginate",e),e<1&&(e=1),e>this.pageCount()&&(e=this.pageCount()),this.currentPage!=e&&(this.currentPage=e,this.broadcasts=[],this.loading=!0,this.onRefreshSelectedBroadcastMeta(),this.trigger(),_("send","event","playlist","paginate",e))},_getRelatedBroadcastsPromise:function(){if(p.hasPreloadAvailable("broadcasts"))return p.fromPreload("broadcasts",!0).then(function(e){return{broadcasts:e.data,pagination:e.pagination}});var e="/channels/".concat(o.id,"/broadcasts"),t=r.relatedBroadcastsQuery,n={q:"timeframe:relevant timeframe:next",s:"-starts_at",l:this.pageSize,p:this.currentPage-1};return"closest"==r.defaultVideo&&(n.q="timeframe:relevant"),t&&(r.apiAuthToken&&t.showPrivate?e="/broadcasts":t.channelId&&(e="/channels/".concat(t.channelId,"/broadcasts")),n.q=t.q||n.q,n.s=t.s||n.s),this.filter&&(n.q+=" ".concat(Object(M.textToQuery)(this.filter))),p.getWithPagination(e,n).then(function(e){return{broadcasts:e.data,pagination:e.pagination}})}})}var M=o(48),N=O.Logger.getInstance("models");var F=o(17),B=o.n(F);function U(){return"IE"!=B.a.name&&("undefined"!=typeof MediaSource&&"undefined"!=typeof SourceBuffer)}function H(e,i,a,s,l){return c.a.createStore({listenables:i,init:function(){this.id=null,this.broadcast={},this.view={},this.highlights=[],this.selectedHighlight=null,this.ticket=null,this.timeLimitedPreview=!1,this.timeLimitedPreviewExpired=!1,this.freeVariant=null,this.loading=!1,this.playing=!1,this.ended=!1,this.playbackError=null},isFlex:function(){var e=this.freeVariant||this.broadcast.free_variant;return e&&"none"!=e},getContentSettings:function(){return this.view.settings||this.broadcast.content_settings||{}},getDocuments:function(){var e=this.getContentSettings();return e.documents?e.documents:e.agenda_url?[{name:"Agenda",url:e.agenda_url}]:[]},isBlocked:function(){return 0<=u.a.get("blockedAccountIDs").indexOf(this.broadcast.account_id)||!!(this.view.playlist&&this.view.playlist.indexOf("boxcast.com")<0)},onLoadChannel:function(){K.log("SelectedBroadcastStore#onLoadChannel"),this.loading=!0,this.trigger()},onLoadChannelError:function(){K.log("SelectedBroadcastStore#onLoadChannelError"),this.loading=!1,this.trigger()},onSelectBroadcast:function(e,n){var r=this;if(K.log("SelectedBroadcastStore#onSelectBroadcast",e,n),e=e||{},(n=n||{}).force)K.log("Forcing replay of broadcast");else{if(this.id===e.id&&n.timeLimitedPreview===this.timeLimitedPreview&&n.freeVariant===this.freeVariant)return K.log("No-op: broadcast is not changed"),this.trigger(),null;if(!e.id)return K.log("No-op: broadcast is empty"),this.trigger(),null}this.id=e.id,this.broadcast=e,this.timeLimitedPreview=!!n.timeLimitedPreview,this.timeLimitedPreviewExpired=!!n.timeLimitedPreviewExpired,this.freeVariant=n.freeVariant,this.view={},this.highlights=[],this.selectedHighlight=null,this.loading=!0,this.playing=!1,this.playbackError=null,this.ended=!1,this.trigger(),this.ticket=s.getTicket(this.broadcast),this.autoplay=n.autoplay||this.autoplay;var t=this._getFullMetadataPromise(),o=Math.random();this.requestId=o;return t.then(function(e){if(r.requestId!=o)throw z;return r.broadcast=e.broadcast,r.highlights=e.highlights||[],a.callbacks.onLoadBroadcast&&setTimeout(function(){return a.callbacks.onLoadBroadcast(r.broadcast)},0),e.view}).then(function(e){return i.UpdateContentSettings(e.settings||{}),e}).then(function(e){var t=null;return n.selectedHighlightId&&r.highlights.forEach(function(e){e.id==n.selectedHighlightId&&(t=e)}),t?(i.PlayHighlight(t),{}):e}).then(this._ignorePlaylistIfNotYetReady).then(this._saveViewOrRaiseIfError).then(function(){r.loading=!1,r.trigger()}).catch(this._handleViewError)},onRefreshSelectedBroadcastMeta:function(){var t=this,e=this._getFullMetadataPromise(),n=Math.random();this.requestId=n;return e.then(function(e){if(t.requestId!=n)throw z;return t.broadcast=e.broadcast,t.highlights=e.highlights||[],e.view}).then(function(e){return i.UpdateContentSettings(e.settings||{}),e}).then(this._ignorePlaylistIfNotYetReady).then(this._saveViewOrRaiseIfError).then(function(){var e=a.callbacks.onRefresh||l.onRefresh;e&&setTimeout(function(){return e(t)},0),t.trigger()}).catch(this._handleViewError)},onPlayHighlight:function(e){var t,n=this;K.log("SelectedBroadcastStore#onPlayHighlight"),this.selectedHighlight=e,this.view={},this.loading=!0,this.ended=!1,this.timeLimitedPreview=!1,this.timeLimitedPreviewExpired=!1,this.freeVariant=null,this.trigger(),t=this.id&&this.id==e.id?m.a.all([this._getViewPromise()]):m.a.all([this._getViewPromise(),this._loadBroadcastMetaForHighlight(e)]);var r=Math.random();this.requestId=r;return t.then(function(e){if(n.requestId!=r)throw z;return e[0]}).then(this._saveViewOrRaiseIfError).then(function(){var e=a.callbacks.onLoadHighlight||l.onLoadHighlight;e&&setTimeout(function(){return e(n.selectedHighlight)},0),n.loading=!1,n.trigger()}).catch(this._handleViewError)},onReturnToBroadcastFromHighlight:function(){var t=this;K.log("SelectedBroadcastStore#onReturnToBroadcastFromHighlight"),this.selectedHighlight=null,this.loading=!0,this.ended=!1,this.trigger();var e=this._getViewPromise(),n=Math.random();this.requestId=n;return e.then(function(e){if(t.requestId!=n)throw z;return a.callbacks.onLoadBroadcast&&setTimeout(function(){return a.callbacks.onLoadBroadcast(t.broadcast)},0),e}).then(this._ignorePlaylistIfNotYetReady).then(this._saveViewOrRaiseIfError).then(function(){t.loading=!1,t.trigger()}).catch(this._handleViewError)},onSwitchToPreview:function(){return K.log("SelectedBroadcastStore#onSwitchToPreview"),i.SelectBroadcast(this.broadcast,{timeLimitedPreview:!0})},onPreviewExpired:function(){K.log("SelectedBroadcastStore#onPreviewExpired"),this.timeLimitedPreviewExpired||(this.timeLimitedPreviewExpired=!0,this.broadcast.free_variant&&"none"!=this.broadcast.free_variant?i.SelectBroadcast(this.broadcast,{timeLimitedPreview:this.timeLimitedPreview,timeLimitedPreviewExpired:this.timeLimitedPreviewExpired,freeVariant:this.broadcast.free_variant}):this.trigger())},onTicketPurchaseCompleted:function(e,t,n){(K.log("SelectedBroadcastStore#onTicketPurchaseCompleted"),e.id==this.id)?(this.timeLimitedPreviewExpired=!1,this.ticket=n,l.autoOpenTicketWindow?(l.autoOpenTicketWindow=!1,null==i.SelectBroadcast(e,{timeLimitedPreview:!1})&&i.RefreshSelectedBroadcastMeta()):(this.timeLimitedPreview=!1,i.RefreshSelectedBroadcastMeta(),this.trigger())):K.warn("Did broadcast change during ticket purchase?",this.broadcast,e,n)},onDonationCompleted:function(){l.autoOpenTicketWindow&&(l.autoOpenTicketWindow=!1,i.RefreshSelectedBroadcastMeta())},onCurrentPlaybackEnded:function(){K.warn("SelectedBroadcastStore#onCurrentPlaybackEnded"),this.ended=!0,this.trigger()},onPlaybackErrorOccurred:function(e){K.warn("SelectedBroadcastStore#onPlaybackErrorOccurred",e),this.playbackError=e,this.trigger()},onPlaybackIsPlaying:function(){K.log("SelectedBroadcastStore#onPlaybackIsPlaying"),this.playbackError=null,this.ended=!1,this.autoplay=!0,this.trigger()},onRedirectToAllowedHost:function(e){throw K.log("SelectedBroadcastStore#onRedirectToAllowedHost",e),window.top.location.href=e,"halt"},onWatchBroadcastAgain:function(){this.ended=!1,i.RefreshSelectedBroadcastMeta()},_getFullMetadataPromise:function(){var e={broadcast:this._getBroadcastPromise(),view:this._getViewPromise(),highlights:this._shouldGetHighlights()?this._getHighlightsPromise():void 0};return m.a.props(e)},_shouldGetHighlights:function(){return"channel"==e&&l.showHighlights},_getBroadcastPromise:function(){return p.hasPreloadAvailable("broadcast")?p.fromPreload("broadcast"):p.get("/broadcasts/".concat(this.id))},_getHighlightsPromise:function(){return p.hasPreloadAvailable("highlights")?p.fromPreload("highlights"):p.get("/broadcasts/".concat(this.id,"/highlights"),{s:l.highlightsSort||"-streamed_at"})},_getViewPromise:function(){return this._canUsePreloadedView()?p.fromPreload("view"):this.selectedHighlight?p.get("/highlights/".concat(this.selectedHighlight.id,"/view"),this._getQueryArgsForHighlightView()):p.get("/broadcasts/".concat(this.id,"/view"),this._getQueryArgsForView())},_canUsePreloadedView:function(){return!!p.hasPreloadAvailable("view")&&(!l.auth&&(!l.trimSeconds&&!l.trim&&!!U()))},_getQueryArgsForView:function(){var e={channel_id:a.id||this.broadcast.channel_id,host:l.hostname||window.location.host};if(l.auth){var t=l.auth,n=t.token,r=t.resource,o=t.requestor;n&&(e.auth_token=n),r&&(e.auth_resource=r),o&&(e.auth_requestor=o)}l.trimSeconds?(e.start_seconds=l.trimSeconds.start,e.stop_seconds=l.trimSeconds.stop):l.trim?(e.start_segment=l.trim.start,e.stop_segment=l.trim.stop):l.dvr&&(e.extended="true"),this.timeLimitedPreview&&!this.timeLimitedPreviewExpired?e.preview="true":this.freeVariant&&(e.variant=this.freeVariant);var i=s.getTicket(this.broadcast);return l.ticketId?e.ticket_id=l.ticketId:i&&(e.ticket_id=i),U()&&(e.byteranges="true"),e},_getQueryArgsForHighlightView:function(){var e={host:l.hostname||window.location.host};if(l.auth){var t=l.auth,n=t.token,r=t.resource,o=t.requestor;n&&(e.auth_token=n),r&&(e.auth_resource=r),o&&(e.auth_requestor=o)}return l.ticketId&&(e.ticket_id=l.ticketId),U()&&(e.byteranges="true"),e},_ignorePlaylistIfNotYetReady:function(e){return e&&e.playlist&&e.status.indexOf("live")<0&&e.status.indexOf("recorded")<0&&(K.warn("Playlist not yet ready; status is [",this.view.status,"] for ",e.playlist),e.playlist=this.view.playlist),e},_saveViewOrRaiseIfError:function(e){if(this.view=e,this.view.error)throw this.view},_loadBroadcastMetaForHighlight:function(e){var t=this;if(!this.broadcast||this.broadcast.id!=e.broadcast_id)return p.get("/broadcasts/".concat(e.broadcast_id)).then(function(e){t.id=e.id,t.broadcast=e,a.callbacks.onLoadBroadcast&&setTimeout(function(){return a.callbacks.onLoadBroadcast(t.broadcast)},0)})},_handleViewError:function(e){e!=z&&(e=e||{},K.error(e,e.stack),(e.message||"").match(/Network request failed/i)?(e.error="client_disconnected",e.error_description="Your internet connection may have been lost."):(e.error=e.error||"unhandled_exception",e.error_description=e.error_description||"A server or network error occurred while loading the broadcast."),e.playlist=this.view.playlist,"payment_required"==e.error?(this.timeLimitedPreview||i.SwitchToPreview(),s.clearTicket(this.broadcast)):0<=e.error_description.indexOf("valid media token is required")?(a.callbacks.onTokenInvalid&&setTimeout(function(){return a.callbacks.onTokenInvalid()},0),this.view=e,this.loading=!1,this.trigger()):0<=e.error_description.indexOf("<a href=")?"ticket"==l.autoOpenTicketWindow?(this.timeLimitedPreview=!0,this.view={error:"ticket_via_redirect",error_description:"Please complete the payment before proceeding."},this.loading=!1,this.trigger()):"donate"==l.autoOpenTicketWindow&&s.modalOpen?(this.view={error:"donate_via_redirect",error_description:"Please complete the payment before proceeding."},this.loading=!1,this.trigger()):i.RedirectToAllowedHost(O.Util.getUrlFromLinkHtml(e.error_description)):(this.view=e,this.loading=!1,this.trigger()))}})}function V(n,i,e){return c.a.createStore({listenables:n,init:function(){this.channelId=null,this.highlights=[],this.highlightsByBroadcast=[],this.loading=!1,this.error=null,this.args={},this.callbacks={},this.pagination={},this.pageSize=20,this.sortOrder=e.highlightsSort||"-streamed_at"},getNextHighlightAfter:function(e){for(var t=!1,n=0;n<this.highlightsByBroadcast.length;n++){var r=this.highlightsByBroadcast[n].highlights,o=r.map(function(e){return e.id}).indexOf(e.id);if(0<=o&&o+1<r.length)return r[o+1];if(0<=o)t=!0;else if(t&&r.length)return r[0]}return null},onLoadHighlight:function(e,t){var n=this;$.log("HighlightListStore#onLoadHighlight",e,t),this.init(),this.callbacks.onLoadHighlights=t.onLoadHighlights,this.channelId=e,this.loading=!0,this.args=t,this.trigger();var r=Math.random();this.requestId=r;return this._playHighlightById(e).then(function(){n.loading=!1,n.trigger()}).then(function(){n.callbacks.onLoadHighlights&&setTimeout(function(){return n.callbacks.onLoadHighlights(n.highlights)},0)}).catch(function(e){if(n.requestId!=r)return null;n.error=e,n.loading=!1,n.trigger()})},onLoadHighlights:function(e,t){var n=this;$.log("HighlightListStore#onLoadHighlights",e,t),this.init(),this.callbacks.onLoadHighlights=t.onLoadHighlights,this.channelId=e,this.loading=!0,this.args=t,this.trigger();var r=Math.random();this.requestId=r;function o(){return n.requestId==r}return p.getWithPagination("/channels/".concat(this.channelId,"/highlights"),{s:this.sortOrder}).then(function(e){return o()?(n.pagination=e.pagination,n.highlights=e.data||[],n._groupByBroadcast(n.highlights)):null}).then(function(e){if(n.highlightsByBroadcast=e,n.args.autoplay){if(n.args.selectedHighlightId)return n._playHighlightById(n.args.selectedHighlightId);if(!i.selectedHighlight)return n._playFirstHighlight()}}).then(function(){n.loading=!1,n.trigger()}).then(function(){n.callbacks.onLoadHighlights&&setTimeout(function(){return n.callbacks.onLoadHighlights(n.highlights)},0)}).catch(function(e){if(!o())return null;n.error=e,n.loading=!1,n.trigger()})},onLoadMoreHighlights:function(){var t=this;if(this.pagination.next){this.loading=!0,this.trigger();var e=Math.random();this.requestId=e;var n=function(){return t.requestId==e};return p.getWithPagination("/channels/".concat(this.channelId,"/highlights"),{s:this.sortOrder,p:this.pagination.next}).then(function(e){return n()?(t.pagination=e.pagination,t.highlights=t.highlights.concat(e.data||[]),t._groupByBroadcast(t.highlights)):null}).then(function(e){t.highlightsByBroadcast=e,t.loading=!1,t.trigger()}).then(function(){t.callbacks.onLoadHighlights&&setTimeout(function(){return t.callbacks.onLoadHighlights(t.highlights)},0)}).catch(function(e){if(!n())return null;t.error=e,t.loading=!1,t.trigger()})}},_groupByBroadcast:function(e){var n=[],r={};return e.forEach(function(t){if(!r[t.broadcast_id]){var e=p.get("/broadcasts/".concat(t.broadcast_id)).then(function(e){return e.highlights=[],e});n.push(e),r[t.broadcast_id]=n.length-1}n[r[t.broadcast_id]].then(function(e){t.broadcast_name=e.name,e.highlights.push(t)})}),m.a.all(n)},_playFirstHighlight:function(){this.highlightsByBroadcast.length&&n.PlayHighlight(this.highlightsByBroadcast[0].highlights[0])},_playHighlightById:function(t){var e=this.highlights.filter(function(e){return e.id==t});return e&&e.length?n.PlayHighlight(e[0]):p.get("/highlights/".concat(t)).then(function(e){return n.PlayHighlight(e)})}})}function G(e,t,n){var r={};return r.contextType=n,r.Actions=c.a.createActions(["LoadChannel","LoadChannelError","LoadHighlight","LoadHighlights","LoadMoreHighlights","UpdateContentSettings","ContentSettingsChanged","SwitchToPreview","PreviewExpired","RefreshSelectedBroadcastMeta","WatchBroadcastAgain","RedirectToAllowedHost","SelectBroadcast","CurrentPlaybackEnded","PlaybackErrorOccurred","PlaybackIsPlaying","PlaylistSearch","PlaylistPaginate","PreviewVideoTimerTick","StripeTokenAcquired","TicketPurchaseCompleted","DonationCompleted","LoadStripeJs","OpenPaymentModal","ClosePaymentModal","PlayHighlight","ReturnToBroadcastFromHighlight","DVRModeChange","TimeUpdate","ReportTimeUpdated","SeekTo","ShowShareMenu","HideShareMenu","PasswordBlockUnlock"]),r.UserArgsStore=function(e,n,r){return c.a.createStore({listenables:e,init:function(){var t=this;this.channelId=n,r=r||{},Object.keys(r).forEach(function(e){t[e]=r[e]}),this.previousContentSettings={},this.updatedContentSettingsKeys=[],e.ContentSettingsChanged(this)},onUpdateContentSettings:function(t){var n=this;O.Util.areAnyChanged(this.previousContentSettings,t)&&(this.updatedContentSettingsKeys.forEach(function(e){delete n[e]}),this.updatedContentSettingsKeys=[],Object.keys(t).forEach(function(e){n[e]=t[e],n.updatedContentSettingsKeys.push(e)}),Object.keys(r).forEach(function(e){n[e]=r[e]}),this.trigger(),e.ContentSettingsChanged(this)),this.previousContentSettings=t}})}(r.Actions,e,t),r.CurrentChannelStore=b(r.Actions),r.PlaylistStore=D(r.Actions,r.UserArgsStore,r.CurrentChannelStore),r.TicketStore=function(i,a,e){return c.a.createStore({listenables:i,init:function(){this.loading=!1,this.modalOpen=!1,this.modalType="ticket",this.stripeLoadError=!1,this.stripe=null,this.stripeCard=null,e.autoOpenTicketWindow&&i.OpenPaymentModal(e.autoOpenTicketWindow)},getTicket:function(e){var t=e.admin_token;return!(t=t||O.BrowserStorage.getFromRingBuffer(W,""+e.id))&&e.channel_id&&(t=O.BrowserStorage.getFromRingBuffer(W,""+e.channel_id)),t||a.ticket},clearTicket:function(e){O.BrowserStorage.getFromRingBuffer(W,""+e.id)?O.BrowserStorage.addToRingBuffer(W,""+e.id,null,u.a.dict.purchasedBufferSize):O.BrowserStorage.getFromRingBuffer(W,""+e.channel_id)&&O.BrowserStorage.addToRingBuffer(W,""+e.channel_id,null,u.a.dict.purchasedBufferSize)},onLoadStripeJs:function(e){var t=this;if(void 0===window.Stripe&&!this.loadedStripeJs){var n=document.createElement("script");n.setAttribute("src","https://js.stripe.com/v3/"),n.onload=function(){t.stripe=Stripe(e),t.stripeCard=t.stripe.elements().create("card",u.a.get("stripeElementsOptions")),t.stripeLoadError=!1,t.trigger()},n.onerror=function(e){Y.error("Unable to load Stripe JavaScript",e),t.loadedStripeJs=!1,t.stripeLoadError=!0},document.head.appendChild(n),this.loadedStripeJs=!0}},onOpenPaymentModal:function(e){var t=0<arguments.length&&void 0!==e?e:"ticket";this.modalOpen=!0,this.modalType=t,this.trigger()},onClosePaymentModal:function(){this.modalOpen=!1,this.trigger()},onStripeTokenAcquired:function(e,t,n){Y.log("TicketStore#onStripeTokenAcquired",e,n);var r={email:n.email,name:n.name,stripe_token:n.id};n.amount&&(r.amount=n.amount),n.address&&(r.address=n.address),n.city&&(r.city=n.city),n.state&&(r.state=n.state),n.zip&&(r.zip=n.zip),this.loading=!0,this.trigger(),"ticket"==this.modalType?this._applyStripeTokenAsTicketPurchase(e,t,n,r):"donate"==this.modalType?this._applyStripeTokenAsDonation(e,t,n,r):Y.error("Invalid type specified:",this.modalType)},_applyStripeTokenAsDonation:function(e,t,n,r){var o=this;return _("send","event","creditCard.donate","ok",{nonInteraction:1}),p.post("/accounts/".concat(e.account_id,"/donations"),r).then(function(e){if(Y.log("TicketStore - got donation from api",e),e.error)throw new Error(e.error);_("send","event","creditCard.donate","complete",{nonInteraction:1}),i.DonationCompleted(),o.loading=!1,o.trigger()}).catch(function(e){Y.error("TicketStore - error redeeming token for donation",n,e),_("send","event","creditCard.donate","error",JSON.stringify(e),{nonInteraction:1}),setTimeout(function(){return alert("There was an error completing the donation.")}),o.loading=!1,o.trigger()})},_applyStripeTokenAsTicketPurchase:function(t,n,r,e){var o=this;return _("send","event","creditCard.pay","ok",{nonInteraction:1}),(n?p.post("/channels/".concat(a.id,"/tickets"),e):p.post("/broadcasts/".concat(t.id,"/tickets"),e)).then(function(e){if(e.error)throw e.error_description||e.error;if(Y.log("TicketStore - got ticket from api",e),e.error)throw new Error(e.error);i.TicketPurchaseCompleted(t,n,e.id),_("send","event","creditCard.pay","complete",{nonInteraction:1})}).catch(function(e){Y.error("TicketStore - error redeeming token for ticket",r,e),setTimeout(function(){return alert("There was an error completing the ticket purchase: "+e)}),o.loading=!1,o.trigger(),_("send","event","creditCard.pay","error",JSON.stringify(e),{nonInteraction:1})})},onTicketPurchaseCompleted:function(e,t,n){var r;t?(r=a.id,a.ticket=n):r=e.id,O.BrowserStorage.addToRingBuffer(W,""+r,n,u.a.dict.purchasedBufferSize),this.loading=!1,this.trigger(),a.callbacks.onTicketPurchaseCompleted&&setTimeout(function(){return a.callbacks.onTicketPurchaseCompleted(e,t,n)},0)}})}(r.Actions,r.CurrentChannelStore,r.UserArgsStore),r.SelectedBroadcastStore=H(r.contextType,r.Actions,r.CurrentChannelStore,r.TicketStore,r.UserArgsStore),r.HighlightListStore=V(r.Actions,r.SelectedBroadcastStore,r.UserArgsStore),r.PlaybackStore=function(e,r){return c.a.createStore({listenables:e,init:function(){S.log("PlaybackStore#init()"),this.state={},this.lastPlayedId=null},getStateForBroadcast:function(e,t){var n=1<arguments.length&&void 0!==t?t:null,r=this.state[e.id]||{};return n?r[n]:r},isSameAsLastPlayed:function(e){return e.id==this.lastPlayedId},onDVRModeChange:function(e){var t=r.selectedHighlight||r.broadcast;S.log("DVR mode changed",t.id,e),this.state[t.id]=this.state[t.id]||{},this.state[t.id].dvrInUse=e},onTimeUpdate:function(e,t){var n=r.selectedHighlight||r.broadcast;this.state[n.id]=this.state[n.id]||{},this.state[n.id].lastTime=e,this.state[n.id].totalTime=t,this.state[n.id].lastTimeUpdatedAt=(new Date).getTime()},onSelectBroadcast:function(e){e&&e.id&&(this.state[e.id]=this.state[e.id]||{})},onPlayHighlight:function(e){e&&e.id&&(this.state[e.id]=this.state[e.id]||{})},onPlaybackIsPlaying:function(){var e=r.selectedHighlight||r.broadcast;this.lastPlayedId=e.id}})}(r.Actions,r.SelectedBroadcastStore),r.FreePreviewStore=function(r,o,e){return c.a.createStore({listenables:r,init:function(){w.log("FreePreviewStore#init()"),this.maxPreviewTime=u.a.dict.previewSeconds,e.previewSeconds&&e.previewSeconds<this.maxPreviewTime&&(this.maxPreviewTime=e.previewSeconds)},getTimeRemaining:function(e){var t=O.BrowserStorage.getFromRingBuffer("bx:prv",""+e.id);return null==t?this.maxPreviewTime:isNaN(t)?0:t},onPreviewVideoTimerTick:function(e,t){t=void 0===t?1:t;var n=this.getTimeRemaining(e);o.playing&&(n=Math.max(0,parseInt(n,10)-t)),O.BrowserStorage.addToRingBuffer("bx:prv",""+e.id,n,u.a.dict.previewBufferSize),n<=0&&r.PreviewExpired(e),this.trigger()}})}(r.Actions,r.SelectedBroadcastStore,r.UserArgsStore),r.SocialStore=function(e){return c.a.createStore({listenables:e,init:function(){this.shareMenuVisible=!1},onShowShareMenu:function(){this.shareMenuVisible=!0,this.trigger()},onHideShareMenu:function(){this.shareMenuVisible=!1,this.trigger()}})}(r.Actions,r.UserArgsStore),r.GeoBlockStore=function(e,t,n){return c.a.createStore({listenables:e,init:function(){O.GeoBlock.initGA(L),this.geoblock=t.geoblock||{},this.isLoading=!1,this.isRestricted=!1,this._check()},onContentSettingsChanged:function(e){var t=e.geoblock||{};t=={}&&this.geoblock!={}?(this.geoblock={},this.isRestricted=!1,this.isLoading=!1,this.trigger()):t&&O.Util.areAnyChanged(this.geoblock,t)&&(this.geoblock=t,this._check())},lastFound:function(){return O.GeoBlock.lastFound},_check:function(){var t=this;O.Util.areAnyChanged({},this.geoblock)?(this.isLoading=!0,this.trigger(),O.GeoBlock.isCurrentUserAllowed(this.geoblock).then(function(e){t.isRestricted=!e,t.isLoading=!1,t.trigger(),t.isRestricted&&n.callbacks.onGeoBlockRestricted?setTimeout(function(){return n.callbacks.onGeoBlockRestricted()},0):!t.isRestricted&&n.callbacks.onGeoBlockAllowed&&setTimeout(function(){return n.callbacks.onGeoBlockAllowed()},0)}).catch(function(e){console.error(e),t.isRestricted=!0,t.isLoading=!1,t.trigger(),t.isRestricted&&n.callbacks.onGeoBlockRestricted?setTimeout(function(){return n.callbacks.onGeoBlockRestricted()},0):!t.isRestricted&&n.callbacks.onGeoBlockAllowed&&setTimeout(function(){return n.callbacks.onGeoBlockAllowed()},0)})):(this.isLoading=!1,this.isRestricted=!1)}})}(r.Actions,r.UserArgsStore,r.CurrentChannelStore),r.PasswordBlockStore=function(e,t,n){return c.a.createStore({listenables:e,init:function(){this.cryptblock=t.cryptblock||{},this.isRestricted=!1,this.isAttemptInvalid=!1,this.lastPassword=this.cryptblock.userPass,this._check()},onPasswordBlockUnlock:function(e){this.lastPassword=e,this._check(),this.isAttemptInvalid=this.isRestricted},onContentSettingsChanged:function(e){var t=e.cryptblock||{};t=={}&&this.cryptblock!={}?(this.cryptblock={},this.isRestricted=!1,this.isAttemptInvalid=!1,this.trigger()):t&&O.Util.areAnyChanged(this.cryptblock,t)&&(this.cryptblock=t,this._check())},_check:function(){O.Util.areAnyChanged({},this.cryptblock)&&this.cryptblock.crypt?(this.isRestricted=!this._isAllowed(this.lastPassword,this.cryptblock.crypt,this.cryptblock.salt),this.trigger(),this.isRestricted&&n.callbacks.onCryptBlockRestricted&&setTimeout(function(){return n.callbacks.onCryptBlockRestricted()},0)):(this.isRestricted=!1,this.trigger())},_isAllowed:function(e,t,n){for(var r=(e||"")+(n||""),o=0;o<20;o++)r=q(r);return r==t}})}(r.Actions,r.UserArgsStore,r.CurrentChannelStore),r}var K=O.Logger.getInstance("models"),z="ignore_request_error",W="bx:tkt",Y=O.Logger.getInstance("components"),$=O.Logger.getInstance("models"),q=o(212),X=o(26),Q=o.n(X),J=o(25),Z=o(41);var ee={componentDidMount:function(){this.initBoxOfficeReloadMixin()},componentWillUnmount:function(){clearTimeout(this.boxOfficeReloadTimeout)},initBoxOfficeReloadMixin:function(){clearTimeout(this.boxOfficeReloadTimeout),this.scheduleNextBoxOfficeReloadTick()},scheduleNextBoxOfficeReloadTick:function(){var e=this,t=function(e){var t=e.broadcast,n=e.view,r=e.playbackError;if((n=n||{}).status&&(0<=n.status.indexOf("live")||0<=n.status.indexOf("recorded"))){if(n.playlist&&!r)return null;if(r)return 3e4}var o=Object(g.timeframe)(t);return"recently-ended"==o||"processing_recording"==n.status?5e3:"current"==o?1e4:"future"==o?6e4:3e5}(this.props.model.SelectedBroadcastStore);this.boxOfficeReloadTimeout=null!=t?setTimeout(function(){return e.handleBoxOfficeReloadTick()},t):setTimeout(function(){return e.scheduleNextBoxOfficeReloadTick()},1e3)},handleBoxOfficeReloadTick:function(){this.props.model.Actions.RefreshSelectedBroadcastMeta(),this.scheduleNextBoxOfficeReloadTick()}},te={componentWillMount:function(){var n=this,r=this.props.model||this.context.model;try{for(var e in this.unsubscribeHandles=this.unsubscribeHandles||[],this.refluxModelListeners)if(this.refluxModelListeners.hasOwnProperty(e)){var t=this.refluxModelListeners[e];if("Actions"==e)t.forEach(function(e){var t=r.Actions[e.on].listen(n[e.trigger]);n.unsubscribeHandles.push(t)});else{var o=r[e].listen(this[t]);this.unsubscribeHandles.push(o)}}}catch(e){console.error("Error in RefluxModelListenerMixin",e)}},componentWillUnmount:function(){this.unsubscribeHandles.forEach(function(e){return e()})}};function ne(e){return e<=500?"xs":e<=768?"sm":e<=1024?"md":"lg"}var re={componentDidMount:function(){var e=this;this.$resizeMixin$domNode=a.a.findDOMNode(this);var t=this.$resizeMixin$getWidth();this.setState({componentWidth:t,componentWidthDesc:ne(t)}),0==t&&(this.$resizeMixin$interval=setInterval(function(){return e.$resizeMixin$onResize()},100)),window.addEventListener("resize",this.$resizeMixin$onResize,!0)},componentWillUnmount:function(){window.removeEventListener("resize",this.$resizeMixin$onResize,!0),this.$resizeMixin$interval&&clearInterval(this.$resizeMixin$interval)},$resizeMixin$getWidth:function(){return this.$resizeMixin$domNode.getBoundingClientRect().width},$resizeMixin$onResize:function(){var e;try{e=this.$resizeMixin$getWidth()}catch(e){if(console.error("Error computing width",e),this.$resizeMixin$interval)return clearInterval(this.$resizeMixin$interval),void(this.$resizeMixin$interval=null)}e!=this.state.width&&(this.setState({componentWidth:e,componentWidthDesc:ne(e)}),this.$resizeMixin$interval&&(clearInterval(this.$resizeMixin$interval),this.$resizeMixin$interval=null))}};function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ie=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return function(e,t,n){t&&oe(e.prototype,t),n&&oe(e,n)}(n,null,[{key:"applyRedirectRulesOnLoad",value:function(e,t){return t.disableRedirectRulesOnLoad||(n.needsToPurchaseTicketNow(t)?(t.ticketId=null,t.autoOpenTicketWindow="ticket"):n.needsToDonateNow(t)&&(t.ticketId=null,t.autoOpenTicketWindow="donate"),n.channelFromRedirect()&&(e=n.channelFromRedirect()),n.ticketFromRedirect()&&(t.ticketId=n.ticketFromRedirect())),{channelId:e,args:t}}},{key:"redirectNowToPurchase",value:function(e){var t="".concat(e.ticketPurchaseUrl,"/").concat(e.channelId,"/").concat(e.ticketId,"?referrer=").concat(encodeURIComponent(window.location.href));throw window.location.href=t,"halt"}},{key:"needsToPurchaseTicketNow",value:function(e){return"~pay"==e.ticketId}},{key:"needsToDonateNow",value:function(e){return"~donate"==e.ticketId}},{key:"channelFromRedirect",value:function(){var e=window.location.hash.match(/#\/([\w-]+)/);return e?e[1]:null}},{key:"ticketFromRedirect",value:function(){var e=window.location.hash.match(/#\/[\w-]+\/\~tkt\~([\w-]+)/);return e?e[1]:null}}]),n}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=le(this,ce(t).call(this))).state={isSSL:"https:"==window.location.protocol},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,j.a.Component),function(e,t,n){t&&se(e.prototype,t),n&&se(e,n)}(t,[{key:"render",value:function(){var e=this.context.model.UserArgsStore,t=this.context.env;return this.state.isSSL?this.renderRealButton():t("allowNonSSLCheckout")||e.allowNonSSLCheckout?this.renderRealButton():(console.warn("Current site is not SSL, will need to redirect to BoxCast to complete transaction"),this.renderRedirectButton())}},{key:"redirectToPurchaseTicket",value:function(){alert("You will now be redirected to the secure BoxCast web site to complete the ticket purchase..."),ie.redirectNowToPurchase({ticketPurchaseUrl:this.context.env("ticketPurchaseUrl"),channelId:this.getChannelInfo().channelId,ticketId:"~pay"})}},{key:"renderRedirectButton",value:function(){var e=this;return j.a.createElement("span",{onClick:function(){return e.redirectToPurchaseTicket()}},this.props.children)}},{key:"showModal",value:function(){this.context.model.Actions.OpenPaymentModal("ticket")}},{key:"getChannelInfo",value:function(){var e,t,n,r,o=this.context.model,i=o.CurrentChannelStore,a=o.SelectedBroadcastStore,s=a.broadcast;return r=i.isTicketed?(e=i.id,t=!0,n=i.ticketPrice,"Ticket for ".concat(i.name," channel")):(e=a.broadcast.channel_id,t=!1,n=s.ticket_price,"Ticket for ".concat(s.name)),{broadcast:s,channelId:e,channelTicket:t,ticketPrice:n,description:r}}},{key:"renderRealButton",value:function(){var e=this;return j.a.createElement("span",{onClick:function(){return e.showModal()}},this.props.children)}}]),t}();de.contextTypes={model:j.a.PropTypes.object,env:j.a.PropTypes.func};var pe=de,he=j.a.createClass({displayName:"CountdownTimer",getInitialState:function(){var e=this.props.date,t=Math.max(0,e.getTime()-(new Date).getTime())/1e3,n=t,r=Math.floor(n/86400);n-=86400*r;var o=Math.floor(n/3600)%24;n-=3600*o;var i=Math.floor(n/60)%60;return n-=60*i,{totalSeconds:t,seconds:Math.floor(n%60),minutes:i,hours:o,days:r}},componentDidMount:function(){var e=this;this._interval=setInterval(function(){return e.update()},1e3)},componentWillUnmount:function(){clearInterval(this._interval)},update:function(){this.setState(this.getInitialState())},render:function(){return this.state.totalSeconds<60?j.a.createElement("div",{className:"boxcast-countdown"},j.a.createElement("div",{className:"boxcast-countdown-blocks"},j.a.createElement("div",{className:"boxcast-countdown-message"},"Scheduled to start in less than one minute."))):j.a.createElement("div",{className:"boxcast-countdown"},j.a.createElement("div",{className:"boxcast-countdown-blocks"},j.a.createElement("div",{className:"boxcast-countdown-block"},this.state.days,j.a.createElement("div",{className:"boxcast-countdown-label"},"days")),j.a.createElement("div",{className:"boxcast-countdown-block"},this.state.hours,j.a.createElement("div",{className:"boxcast-countdown-label"},"hours")),j.a.createElement("div",{className:"boxcast-countdown-block"},this.state.minutes,j.a.createElement("div",{className:"boxcast-countdown-label"},"minutes")),j.a.createElement("div",{className:"boxcast-countdown-block"},this.state.seconds,j.a.createElement("div",{className:"boxcast-countdown-label"},"seconds"))))}});function fe(e){return j.a.createElement("span",null," ")}var me=j.a.createClass({displayName:"ticketed-seconds-remaining",propTypes:{broadcast:j.a.PropTypes.object.isRequired},contextTypes:{model:j.a.PropTypes.object,m:j.a.PropTypes.func},refluxModelListeners:{FreePreviewStore:"onStoreChanged"},mixins:[te],getInitialState:function(){return{secondsRemaining:0}},onStoreChanged:function(){var e=this.context.model.FreePreviewStore;this.setState({secondsRemaining:e.getTimeRemaining(this.props.broadcast)})},render:function(){var e=this.context.model.SelectedBroadcastStore,t=this.context.m,n=e.isFlex();return j.a.createElement("div",null,this.state.secondsRemaining," Seconds Remaining.",j.a.createElement(fe,null),j.a.createElement(pe,null,j.a.createElement("a",null,t(n?"payment_ticker_flex_subtitle":"payment_ticker_subtitle"))),".")},componentDidMount:function(){var e=this,t=this.context.model.Actions;t.PreviewVideoTimerTick(this.props.broadcast,0),this.interval=setInterval(function(){t.PreviewVideoTimerTick(e.props.broadcast,1)},1e3)},componentWillUnmount:function(){clearInterval(this.interval)}});O.Logger.getInstance("components");var ge=j.a.createClass({displayName:"SocialButtons",contextTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,env:j.a.PropTypes.func},mixins:[te],refluxModelListeners:{SelectedBroadcastStore:"onStoreChanged"},getInitialState:function(){var e=this.context.model.SelectedBroadcastStore;return{broadcast:e.broadcast,selectedHighlight:e.selectedHighlight}},onStoreChanged:function(){this.setState(this.getInitialState())},componentDidMount:function(){var e=this.context.userArgs;e.showSocialShare&&e.facebookAppId&&function(e){if(window.fbAsyncInit)return;window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!1,version:"v2.8"})},function(e,t,n){var r,o=e.getElementsByTagName("script")[0];e.getElementById(n)||((r=e.createElement("script")).id=n,r.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(r,o))}(document,0,"facebook-jssdk")}(e.facebookAppId)},render:function(){var e=this.state,t=e.broadcast,n=(e.selectedHighlight,this.context.userArgs);return n.showSocialShare&&t.channel_id?j.a.createElement("div",{className:"boxcast-social"},n.facebookAppId?this.renderFacebook():j.a.createElement("span",null),this.renderTwitter()):j.a.createElement("span",null)},renderFacebook:function(){var e=this;return j.a.createElement("button",{type:"button",className:"boxcast-button",style:{color:"#3b5998",borderColor:"#3b5998"},onClick:function(){return e.shareOnFacebook()}},j.a.createElement("i",{className:"boxcast-icon-facebook"}),j.a.createElement(fe,null),"Share on Facebook")},renderTwitter:function(){var e=this;return j.a.createElement("button",{type:"button",className:"boxcast-button",style:{color:"#55acee",borderColor:"#55acee"},onClick:function(){return e.shareOnTwitter()}},j.a.createElement("i",{className:"boxcast-icon-twitter"}),j.a.createElement(fe,null),"Share on Twitter")},getLinkToShare:function(){var e=this.state,t=e.broadcast,n=e.selectedHighlight,r=this.context,o=r.model,i=r.env,a=r.userArgs;if(a.socialShareURL)return a.socialShareURL;var s=o.CurrentChannelStore.id,l=t.channel_id,c=i("socialShareUrlPrefix");if(s==l){var u="b=".concat(t.id||n.broadcast_id);return n&&(u+="&h=".concat(n.id)),"".concat(c,"/view/").concat(s,"?").concat(u)}if(s){u="b=".concat(t.id||n.broadcast_id);return n&&(u+="&h=".concat(n.id)),"".concat(c,"/channel/").concat(s,"?").concat(u)}if(n&&n.id==o.HighlightListStore.channelId)return"".concat(c,"/highlights/").concat(l,"/").concat(t.id||n.broadcast_id,"/").concat(n.id);u="b=".concat(t.id||n.broadcast_id);return n&&(u+="&h=".concat(n.id)),"".concat(c,"/highlights/").concat(o.HighlightListStore.channelId,"?").concat(u)},shareOnFacebook:function(){var e=this.state,t=e.broadcast,n=e.selectedHighlight,r=this.context.env;if(FB){var o=(n||t).preview||r("defaultSocialShareThumb");FB.ui({method:"feed",link:this.getLinkToShare(),name:(n||t).name,description:(n||t).description,picture:O.broadcast.ensureHttpOnProtocolRelativeUrl(o),caption:"BoxCast :: a smarter way to stream",type:"video"},function(e){console.log(e)})}else alert("The Facebook SDK is not initialized so we cannot share this link right now. Please refresh and try again.")},shareOnTwitter:function(){var e=this.state,t=e.broadcast,n=(e.selectedHighlight||t).name,r=encodeURIComponent(this.getLinkToShare()),o=encodeURIComponent("Watch ".concat(n," online at"));window.open("https://twitter.com/intent/tweet?url="+r+"&text="+o,"Promote on Twitter","dependent=1,height=420,width=550,resizable=1")}});function ye(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}O.Logger.getInstance("components");function be(e){var t=e.title,n=e.description,r=e.small;"object"==ve(n)&&(n=JSON.stringify(n));var o=r?"boxcast-errors-small":"boxcast-errors",i=0==(t||"").indexOf(J.a)?"animated-ellipsis-after":"",a=0==(n||"").indexOf(J.a)?"animated-ellipsis-after":"";return j.a.createElement("div",{className:o},j.a.createElement("h3",{className:i},t),n?j.a.createElement("p",{className:a},n):j.a.createElement("span",null),e.children)}function _e(e){e.preventDefault()}var Ae=j.a.createClass({displayName:"BoxOfficeErrors",contextTypes:{model:j.a.PropTypes.object,m:j.a.PropTypes.func},mixins:[te],refluxModelListeners:{CurrentChannelStore:"onStoreChanged",SelectedBroadcastStore:"onStoreChanged",TicketStore:"onStoreChanged",SocialStore:"onStoreChanged",PlaylistStore:"onStoreChanged",UserArgsStore:"onStoreChanged",GeoBlockStore:"onStoreChanged"},getInitialState:function(){var e=this.context.model,t=e.CurrentChannelStore,n=e.SelectedBroadcastStore,r=e.TicketStore,o=e.SocialStore,i=e.PlaylistStore,a=e.UserArgsStore,s=e.GeoBlockStore;return{broadcast:n.broadcast,selectedHighlight:n.selectedHighlight,view:n.view,isLoading:!!(n.loading||t.loading||r.loading||i.loading),timeLimitedPreview:n.timeLimitedPreview,freeVariant:n.freeVariant,ended:n.ended,playbackError:n.playbackError,channelError:t.error||i.error,shareMenuVisible:o.shareMenuVisible,showCountdown:a.showCountdown,isGeoBlockLoading:s.isLoading,isGeoBlockResticted:s.isRestricted}},onStoreChanged:function(){this.setState(this.getInitialState())},render:function(){var e=this.state,t=e.broadcast,n=e.view,r=e.isLoading,o=e.timeLimitedPreview,i=e.freeVariant,a=e.ended,s=e.channelError,l=e.playbackError,c=e.shareMenuVisible,u=e.selectedHighlight,d=e.showCountdown,p=e.isGeoBlockLoading,h=e.isGeoBlockResticted,f=this.context.model,m=f.Actions,g=(f.UserArgsStore,this.context.m),y=O.Clock.parse(t.starts_at);function v(e,t){for(var n=0;n<e.length;n++){var r=g.apply(void 0,[e[n]].concat(ye(t)));if(r)return r}}if(c)return j.a.createElement(be,{title:"",description:""},j.a.createElement("div",{style:{pointerEvents:"all"}},j.a.createElement("a",{style:{position:"absolute",top:"5px",right:"15px",border:"none",fontSize:"25px"},href:"javascript://",onClick:function(){return m.HideShareMenu()}},""),j.a.createElement("div",{style:{textAlign:"center",zoom:"150%"}},j.a.createElement(ge,null))));if(p)return j.a.createElement(be,{title:g("geoblock_loading_title"),description:g("geoblock_loading_subtitle")});if(h)return j.a.createElement(be,{title:g("geoblock_restricted_title"),description:g("geoblock_restricted_subtitle")});if(n&&n.error){var b=g("player_".concat(n.error,"_title"))||"An Error Occurred (".concat(n.error,")");return j.a.createElement(be,{title:b,description:n.error_description})}if(n&&"processing_recording"==n.status)return u?j.a.createElement(be,{title:g("player_processing_highlight_title"),description:g("player_processing_highlight_subtitle",n.progress)}):j.a.createElement(be,{title:g("player_processing_recording_title"),description:g("player_processing_recording_subtitle",n.progress)});if(!n||n.playlist||r){if(l){var _=l.error,A=_.message,E=_.code,k=_.error,x=_.data,T=_.stuck_on_discontinuity;A=A||"Unknown playback error",k&&k.code&&(E=k.code),x&&"networkError"==x.type&&(E=4);b=g("player_error_code_".concat(E,"_title"))||g("player_error_unknown_title"),P=g("player_error_code_".concat(E,"_subtitle"))||g("player_error_unknown_subtitle",A,E);return"buffering_too_long"==E&&T&&(P=g("player_error_code_buffering_too_long_stalled_subtitle")),j.a.createElement(be,{title:b,description:P},j.a.createElement("p",null,j.a.createElement("a",{href:"javascript://",onClick:function(){return m.WatchBroadcastAgain(!0)}},"Click to reload the broadcast")))}return i?j.a.createElement(be,{small:!0,title:g("watching_free_variant_title")},j.a.createElement("div",{className:"boxcast-errors-detail"},j.a.createElement(pe,null,j.a.createElement("a",null,g("payment_flex_title"))),".")):o?j.a.createElement(be,{title:g("watching_preview_title")},j.a.createElement("div",{className:"boxcast-errors-detail"},j.a.createElement(me,{broadcast:t}))):a?j.a.createElement(be,{title:g("broadcast_ended_title")},j.a.createElement("p",null,j.a.createElement("a",{href:"javascript://",onClick:function(){return m.WatchBroadcastAgain()}},g("broadcast_ended_watch_again_description")))):j.a.createElement("span",null)}var w=("upcoming"==n.status||"preparing"==n.status)&&d,S=n.reason||n.status||s&&s.error_description,C=[O.Clock.formatRelative(y),O.Clock.formatTime(y),n.progress,S||"Unknown error loading playlist",t.name],b=v(["player_".concat(n.reason,"_title"),"player_".concat(n.status,"_title"),"player_".concat(s&&s.error_description,"_title"),"player_genericreason_title"],C),P=v(["player_".concat(n.reason,"_subtitle"),"player_".concat(n.status,"_subtitle"),"player_".concat(s&&s.error,"_subtitle"),"player_genericreason_subtitle"],C);return j.a.createElement(be,{title:b,description:P},w?j.a.createElement(he,{date:y}):"")}});function Ee(e){e?document.body.classList.add("boxcast-noscroll"):document.body.classList.remove("boxcast-noscroll"),B.a&&B.a.os&&"iOS"==B.a.os.family||(e?document.body.addEventListener("touchmove",_e,!1):document.body.removeEventListener("touchmove",_e,!1))}var ke=j.a.createClass({displayName:"Modal",propTypes:{className:j.a.PropTypes.string,children:j.a.PropTypes.node.isRequired,onClickOverlay:j.a.PropTypes.func.isRequired,opacity:j.a.PropTypes.number,visible:j.a.PropTypes.bool,animation:j.a.PropTypes.string},getDefaultProps:function(){return{className:"Modal",opacity:.5}},getInitialState:function(){return{styles:this.getStyles(),overlayVisible:this.props.visible,modalVisible:this.props.visible}},componentWillReceiveProps:function(e){var t=this,n={};e.visible?n={overlayVisible:!0,modalVisible:!0}:this.props.animation?(n={modalVisible:!1},setTimeout(function(){t.setState({overlayVisible:!1})},300)):n={overlayVisible:!1,modalVisible:!1},this.setState(n)},getStyles:function(){return{overlay:{background:"rgba(0,0,0,".concat(this.props.opacity,")"),bottom:0,display:"block",left:0,overflowY:"auto",overflowScrolling:"touch",WebkitOverflowScrolling:"touch",position:"fixed",right:0,top:0,zIndex:1e3},wrapper:{bottom:0,boxSizing:"border-box",display:"table",height:"100%",left:0,position:"absolute",right:0,textAlign:"center",top:0,width:"100%"},subWrapper:{display:"table-cell",verticalAlign:"middle"},modal:{background:"white",margin:"0 auto",position:"relative"},x:{fontSize:"16px",fontWeight:"bold",color:"#aaa",border:"1px solid",borderRadius:"50%",position:"absolute",top:"10px",right:"10px",width:"30px",height:"30px",lineHeight:"30px",cursor:"pointer"}}},componentDidMount:function(){},componentWillUnmount:function(){document.body.classList.remove("boxcast-noscroll")},renderModal:function(){return this.state.modalVisible?j.a.createElement("div",{style:this.state.styles.modal,className:this.props.className,onClick:this.stopPropagation},j.a.createElement("div",{style:this.state.styles.x,onClick:this.props.onClickOverlay},""),this.props.children):null},renderContentOverlay:function(){return this.props.animation?j.a.createElement(Q.a,{transitionAppear:!0,transitionName:this.props.animation,component:"div",style:this.state.styles.subWrapper,onClick:this.props.onClickOverlay,transitionAppearTimeout:700,transitionEnterTimeout:700,transitionLeaveTimeout:700},this.renderModal()):j.a.createElement("div",{style:this.state.styles.subWrapper,onClick:this.props.onClickOverlay},this.renderModal())},renderOverlay:function(){return this.state.overlayVisible?(Ee(!0),j.a.createElement("div",{style:this.state.styles.overlay},j.a.createElement("div",{style:this.state.styles.wrapper},this.renderContentOverlay()))):(Ee(!1),null)},render:function(){return this.props.animation?j.a.createElement(Q.a,{transitionName:"fade",transitionAppear:!0,component:"div",transitionAppearTimeout:700,transitionEnterTimeout:700,transitionLeaveTimeout:700},this.renderOverlay()):j.a.createElement("div",null,this.renderOverlay())},stopPropagation:function(e){e.stopPropagation()}});function xe(e){var t=e.description,n=e.cta,r=e.onDismiss;return j.a.createElement("div",{style:{textAlign:"center"}},j.a.createElement("div",{className:"boxcast-payment-title",style:{margin:"60px 0 30px"}},"Payment Complete"),j.a.createElement("div",{className:"boxcast-payment-details"},t),j.a.createElement("div",{className:"boxcast-form-field",style:{marginTop:"60px"}},j.a.createElement("button",{className:"boxcast-ticket-button-solid",type:"button",onClick:r},n)))}function Te(e){var t=e.description,n=e.accountName,r=e.channelTicket,o=e.ticketPrice,i=e.disclaimer;return j.a.createElement("div",null,j.a.createElement("div",{className:"boxcast-payment-subtitle",style:{marginBottom:"20px"}},"Order Summary"),j.a.createElement("div",{className:"boxcast-payment-details boxcast-overflow-ellipse"},t),j.a.createElement("div",{className:"boxcast-payment-label boxcast-overflow-ellipse"},n),r?j.a.createElement("div",{className:"boxcast-payment-label-sm",style:{marginTop:"30px"}},"This ticket entitles you to all broadcasts in the channel."):j.a.createElement("span",null),j.a.createElement("div",{className:"boxcast-row",style:{marginTop:"30px",paddingTop:"10px",borderTop:"1px solid #ccc"}},j.a.createElement("div",{className:"boxcast-col-50 boxcast-payment-label"},"Total"),j.a.createElement("div",{className:"boxcast-col-50 boxcast-payment-total-amt"},"$",o)),j.a.createElement("div",{className:"boxcast-payment-label-sm",style:{marginTop:"60px"}},i),j.a.createElement("div",{className:"boxcast-payment-label",style:{fontWeight:"normal",marginTop:"10px"}},j.a.createElement("a",{href:"https://boxcast.zendesk.com/hc/en-us/sections/200415183-Viewer-FAQs",target:"_blank"},"Need help? Ask the BoxCast support team.")))}function we(e){var t=e.description,n=e.accountName,r=e.channelTicket,o=e.ticketPrice;return j.a.createElement("div",{className:"boxcast-order-summary-xs boxcast-visible-xs boxcast-hidden-sm boxcast-hidden-md boxcast-hidden-lg"},j.a.createElement("div",{className:"boxcast-payment-subtitle"},"Order Summary"),j.a.createElement("div",{className:"boxcast-payment-details boxcast-overflow-ellipse"},t),j.a.createElement("div",{className:"boxcast-payment-label boxcast-overflow-ellipse"},n),r?j.a.createElement("div",{className:"boxcast-payment-label-sm",style:{marginTop:"10px"}},"This ticket entitles you to all broadcasts in the channel."):j.a.createElement("span",null),j.a.createElement("div",{className:"boxcast-row",style:{marginTop:"20px"}},j.a.createElement("div",{className:"boxcast-col-50 boxcast-payment-label"},"Total"),j.a.createElement("div",{className:"boxcast-col-50 boxcast-payment-total-amt"},"$",o)))}var Se=j.a.createClass({displayName:"StripeElementsCc",componentDidMount:function(){this.props.card.mount("#stripe-elements-card")},render:function(){return j.a.createElement("div",{id:"stripe-elements-card"})}}),Ce=O.Logger.getInstance("components"),Pe=j.a.createClass({displayName:"PaymentModal",contextTypes:{model:j.a.PropTypes.object,env:j.a.PropTypes.func,m:j.a.PropTypes.func},mixins:[te],refluxModelListeners:{TicketStore:"onStoreChanged",Actions:[{on:"TicketPurchaseCompleted",trigger:"onTicketPurchaseCompleted"},{on:"DonationCompleted",trigger:"onDonationCompleted"}]},getInitialState:function(){return{modalOpen:this.context.model.TicketStore.modalOpen,submitting:!1,completed:!1,invalidFormFields:{},showAddressFields:!1,formError:!1,donationAmount:0,donationRoundUp:!1,consent:!1}},componentDidMount:function(){this.context.model.Actions.LoadStripeJs(this.context.env("stripeKey"))},onStoreChanged:function(){var e=this.context.model.TicketStore;e.modalOpen?this.setState({modalOpen:!0}):this.setState({modalOpen:!1,submitting:!1,invalidFormFields:{},formError:!1,completed:!1,consent:!1}),e.stripeLoadError&&this.setState({formError:this.context.m("stripe_not_loaded")})},hideModal:function(){this.context.model.Actions.ClosePaymentModal()},render:function(){var e=this,t=this.context.model.TicketStore.modalType;return j.a.createElement(ke,{onClickOverlay:function(){return e.hideModal()},visible:this.state.modalOpen,opacity:.85,className:"boxcast-payment-modal"},this.state.completed?this.renderCompleted():j.a.createElement("div",{className:"boxcast-row"},j.a.createElement("div",{className:"boxcast-col-60 boxcast-col-xs-100",style:{textAlign:"left"}},"donate"==t?this.renderInfoFormForDonation():this.renderInfoFormForTicket(),this.renderCreditCardForm()),j.a.createElement("div",{className:"boxcast-col-40 boxcast-hidden-xs boxcast-order-summary"},this.renderOrderSummaryLg())))},renderCompleted:function(){var e=this,t=this.context,n=t.m,r=t.model,o=n("payment_modal_ticket_complete"),i="Watch Broadcast";return"donate"==r.TicketStore.modalType&&(o=n("payment_modal_donate_complete"),i="Return To Broadcast"),j.a.createElement(xe,{description:o,cta:i,onDismiss:function(){return e.hideModal()}})},onSubmit:function(e){var n=this;e.preventDefault(),L("".concat(l,":submitted"),"","ticket");var t=this.context.model,r=t.Actions,o=t.CurrentChannelStore,i=t.SelectedBroadcastStore,a=t.TicketStore,s=t.UserArgsStore,l=a.modalType,c=this.refs.ccForm;if(!a.stripe)return this.setState({invalidFormFields:{},formError:this.context.m("stripe_not_loaded")}),r.LoadStripeJs(this.context.env("stripeKey")),void L("".concat(l,":error"),"stripe-undefined","ticket");var u={};if(["name","number","expiry","cvc","email","addressLine","city","state","zip"].forEach(function(e){(c[e]&&!c[e].value||"email"===e&&!O.Util.isValidEmail(c.email.value))&&(u[e]=!0)}),Object.keys(u).length)return this.setState({invalidFormFields:u,formError:"Please enter all required fields."}),void L("".concat(l,":invalid"),u,"ticket");if(!this.state.consent)return this.setState({invalidFormFields:u,formError:"You must review and agree to the consent before submitting."}),void L("".concat(l,":invalid"),"consent_not_checked","ticket");var d=null;if("donate"==l&&(d=this._getDonationAmount(),isNaN(d)||d<10))return this.setState({formError:"Please enter a donation amount of at least $".concat(10,".")}),void L("".concat(l,":invalid"),"donation-too-low","ticket");var p={email:c.email.value,name:c.name.value};return s.billingZip&&(p.address_zip=s.billingZip),this.setState({formError:null,invalidFormFields:{},submitting:!0}),a.stripe.createToken(a.stripeCard,p).then(function(e){if(Ce.log("Stripe response:",e),e.error)n.setState({submitting:!1,formError:"The credit card could not be processed. "+e.error.message}),L("".concat(l,":error"),e.error.message,"ticket");else if(s.billingZip&&e.card&&"fail"==e.card.address_zip_check)n.setState({submitting:!1,formError:"The credit card could not be processed. The billing zip code verification failed."}),L("".concat(l,":error"),"billing-zip-mismatch","ticket");else{var t={id:e.token.id,email:c.email.value,name:c.name.value};n.state.showAddressFields&&"donate"==l&&(t.address=c.addressLine.value,t.city=c.city.value,t.state=c.state.value,t.zip=c.zip.value),d&&(t.amount=d),r.StripeTokenAcquired(i.broadcast,o.isTicketed,t),L("".concat(l,":stripe_complete"),"","ticket")}}),!1},onTicketPurchaseCompleted:function(){this.setState({completed:!0}),L("ticket:success","","ticket")},onDonationCompleted:function(){this.setState({completed:!0}),L("ticket:success","","ticket")},getChannelInfo:function(){var e,t,n,r,o=this.context.model,i=o.CurrentChannelStore,a=o.SelectedBroadcastStore,s=o.TicketStore.modalType,l=a.broadcast;return r=i.isTicketed?(e=i.id,t=!0,n=i.ticketPrice,"Ticket for ".concat(i.name," channel")):(e=a.broadcast.channel_id,t=!1,n=l.ticket_price,"Ticket for ".concat(l.name)),"donate"==s?(n=this._getDonationAmount(),r=this.context.m("payment_modal_donate_item_name"),t=!1):n=parseFloat(Math.round(100*n)/100).toFixed(2),{broadcast:l,channelId:e,channelTicket:t,ticketPrice:n,description:r}},renderInfoFormForTicket:function(){return j.a.createElement("div",{className:"boxcast-payment-instructions",style:{textAlign:"left"}},j.a.createElement("div",{className:"boxcast-payment-title"},"Purchase a Ticket"),this.renderOrderSummarySm())},renderInfoFormForDonation:function(){var t=this,e=this.context.model,n=e.SelectedBroadcastStore,r=e.CurrentChannelStore,o=e.UserArgsStore,i=n.broadcast.account_name;r.id;return j.a.createElement("div",{className:"boxcast-payment-instructions",style:{textAlign:"left"}},j.a.createElement("div",{className:"boxcast-payment-subtitle"},"Donate to ",i),o.donateMessage?j.a.createElement("div",{className:"boxcast-payment-details"},o.donateMessage):j.a.createElement("span",null),j.a.createElement("div",{className:"boxcast-payment-label",style:{marginTop:"20px"}},"Select a Donation Amount"),j.a.createElement("div",{className:"boxcast-button-group"},[10,20,50,100].map(function(e){return j.a.createElement("button",{key:"btn-"+e,type:"button",className:"boxcast-button"+(t.state.donationAmount==e?" active":""),onClick:function(){return t.setState({showOtherAmount:!1,donationAmount:e})}},"$",e)}),j.a.createElement("button",{type:"button",className:"boxcast-button",onClick:function(){return t.setState({showOtherAmount:!0,donationAmount:0})}},"Other")),this.state.showOtherAmount?j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("input",{onChange:function(){return t.setState({donationAmount:t.refs.otherAmount.value})},ref:"otherAmount",type:"number","aria-label":"Other Amount"})):j.a.createElement("span",null),j.a.createElement("label",{className:"boxcast-payment-label",style:{margin:"10px 0 20px 0"}},j.a.createElement("input",{type:"checkbox",ref:"donationRoundUp",onChange:function(){return t.setState({donationRoundUp:t.refs.donationRoundUp.checked})}})," ","Round up donation to cover processing fees*"),this.renderOrderSummarySm())},renderOrderSummaryLg:function(){var e=this.context.model.TicketStore.modalType,t=this.getChannelInfo(),n=t.broadcast,r=t.ticketPrice,o=t.channelTicket,i=t.description;return j.a.createElement(Te,{description:i,accountName:n.account_name,channelTicket:o,ticketPrice:r,disclaimer:this.context.m("payment_modal_".concat(e,"_disclaimer_text"),6)})},renderOrderSummarySm:function(){var e=this.getChannelInfo(),t=e.broadcast,n=e.ticketPrice,r=e.channelTicket,o=e.description;return j.a.createElement(we,{description:o,accountName:t.account_name,channelTicket:r,ticketPrice:n})},renderAddressFormForDonation:function(){var e=this.state,t=e.submitting,n=(e.formError,e.invalidFormFields);return j.a.createElement("div",{className:"boxcast-donation-address",style:{textAlign:"left"}},j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("input",{className:n.addressLine?"boxcast-form-error":"",disabled:t,ref:"addressLine",name:"addressLine",type:"text",placeholder:"Address","aria-label":"Address"})),j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("input",{className:n.city?"boxcast-form-error":"",disabled:t,ref:"city",name:"city",type:"text",placeholder:"City","aria-label":"City"})),j.a.createElement("div",null,j.a.createElement("div",{className:"boxcast-form-field half-width"},j.a.createElement("input",{className:n.state?"boxcast-form-error":"",disabled:t,ref:"state",name:"state",type:"text",placeholder:"State/Province","aria-label":"State/Province"})),j.a.createElement("div",{className:"boxcast-form-field half-width"},j.a.createElement("input",{className:n.zip?"boxcast-form-error":"",disabled:t,ref:"zip",name:"zip",type:"number",placeholder:"Zip/Postal Code","aria-label":"Zip/Postal Code"}))))},renderCreditCardForm:function(){var t=this,e=this.context.model.TicketStore,n=e.modalType,r=e.stripeCard,o=this.context.model.UserArgsStore,i=this.state,a=i.submitting,s=i.formError,l=i.invalidFormFields,c=this.getChannelInfo().ticketPrice,u=this.context.m("payment_modal_".concat(n,"_email_text")),d=this.context.m("payment_modal_".concat(n,"_button_text"),c);return j.a.createElement("div",{className:"boxcast-payment-cc"},j.a.createElement("form",{ref:"ccForm",onSubmit:function(e){return t.onSubmit(e)}},s?j.a.createElement("div",{className:"boxcast-form-error"},s):j.a.createElement("span",null),j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("div",{className:"boxcast-payment-label"},"Full Name"),j.a.createElement("input",{className:l.name?"boxcast-form-error":"",disabled:a,placeholder:"",type:"text",name:"name","aria-label":"Full name"})),j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("div",{className:"boxcast-payment-label"},"Credit Card"),r?j.a.createElement(Se,{card:r}):"Loading Credit Card Form..."),o.billingZip?j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("p",{className:"boxcast-disclaimer"},this.context.m("ticket_zip_code_match",o.billingZip))):j.a.createElement("span",null),j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("div",{className:"boxcast-payment-label"},"Email Address"),j.a.createElement("input",{className:l.email?"boxcast-form-error":"",disabled:a,placeholder:"",type:"email",name:"email","aria-label":"Email address"}),j.a.createElement("div",{className:"boxcast-payment-label-sm",style:{marginTop:"3px"}},u)),"donate"==n?this.renderAddressFormReveal():j.a.createElement("span",null),j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("label",{className:"boxcast-payment-label"},j.a.createElement("input",{type:"checkbox",value:"consent",onClick:function(e){return t.setState({consent:!t.state.consent})}})," ","I have reviewed and expressly consent to the BoxCast "," ",j.a.createElement("a",{href:"https://www.boxcast.com/legal/privacy",target:"_blank"},"Privacy Policy"),", "," ",j.a.createElement("a",{href:"https://www.boxcast.com/legal/terms",target:"_blank"},"Terms of Use"),", and "," ",j.a.createElement("a",{href:"https://boxcast.zendesk.com/hc/en-us/articles/208593826-What-is-the-BoxCast-refund-policy-",target:"_blank"},"Refund Policy"),".")),j.a.createElement("div",{className:"boxcast-form-field"},j.a.createElement("button",{className:"boxcast-ticket-button-solid",disabled:a},d))))},renderAddressFormReveal:function(){var t=this;return j.a.createElement("div",{className:"boxcast-form-field",id:"boxcast-donation-address"},j.a.createElement("label",{className:"boxcast-payment-label"},j.a.createElement("input",{type:"checkbox",value:"donation_address_checkbox",onClick:function(e){return t.setState({showAddressFields:!t.state.showAddressFields})}})," ","Include mailed statement of donation"),this.state.showAddressFields?this.renderAddressFormForDonation():null)},_getDonationAmount:function(){var e=Math.max(0,parseFloat(this.state.donationAmount,10)||0);return this.state.donationRoundUp&&(e/=.94),e.toFixed(2)}});function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Re(this,Le(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(e,j.a.Component),function(e,t,n){t&&Oe(e.prototype,t),n&&Oe(e,n)}(e,[{key:"render",value:function(){return j.a.createElement("aside",null,this.renderTags(this.props.broadcast))}},{key:"renderTags",value:function(e){return j.a.createElement("dl",null,Object(g.tagsForBroadcast)(e).map(function(e){return j.a.createElement("span",{key:e.label,className:e.className},j.a.createElement("dt",null,e.label),j.a.createElement("dd",null,e.value))}))}}]),e}();function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Fe(this,Be(t).call(this))).state={hover:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,j.a.Component),function(e,t,n){t&&Ne(e.prototype,t),n&&Ne(e,n)}(t,[{key:"onClick",value:function(e){if(this.props.onClick)return this.props.onClick(e)}},{key:"renderDuration",value:function(){return"current"!=this.props.timeframe&&this.props.duration?j.a.createElement("div",{className:"boxcast-preview-duration"},this.props.duration):j.a.createElement("span",null)}},{key:"renderLiveNow",value:function(){return"current"==this.props.timeframe?j.a.createElement("div",{className:"boxcast-preview-timeframe"},"Live"):j.a.createElement("span",null)}},{key:"render",value:function(){var t=this,e={backgroundImage:'url("'.concat(this.props.image,'")'),transform:"scale(".concat(this.state.hover?"1.1":"1.0",")")},n={opacity:this.state.hover?"1.0":"0"};return j.a.createElement("div",{className:"boxcast-preview-icon",onMouseOver:function(){return t.setState({hover:!0})},onMouseOut:function(){return t.setState({hover:!1})},onClick:function(e){return t.onClick(e)}},j.a.createElement("div",{className:"boxcast-preview-icon-preview",style:e}),j.a.createElement("div",{className:"boxcast-preview-icon-play",style:n},j.a.createElement("i",{className:"boxcast-icon-play"})),this.renderDuration(),this.renderLiveNow())}}]),t}();function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ye=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ke(this,ze(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(e,j.a.Component),function(e,t,n){t&&Ge(e.prototype,t),n&&Ge(e,n)}(e,[{key:"render",value:function(){var e,t=this.props,n=t.broadcast,r=t.mode,o=Object(g.timeframe)(n),i=O.Clock.format(O.Clock.parse(n.starts_at)),a=O.Clock.format(O.Clock.parse(n.stops_at));if((n.stops_at||"").startsWith("9999")&&(a=""),"current"==o)e=this.context.m("start_stop_description_current",i,a);else if("future"==o)e=this.context.m("start_stop_description_future",i,a);else{if(!n.starts_at||!n.stops_at)return j.a.createElement("span",null);e=this.context.m("start_stop_description_past",i,a)}return e.endsWith(" - ")?e=e.replace(" - ",""):e.endsWith(" (ending )")&&(e=e.replace(" (ending )","")),"inline"==r?j.a.createElement("span",null,e):j.a.createElement("p",{className:"boxcast-start-stop"},e)}}]),e}();Ye.contextTypes={m:j.a.PropTypes.func};var $e=Ye,qe=j.a.createClass({displayName:"playlist",contextTypes:{model:j.a.PropTypes.object,m:j.a.PropTypes.func,env:j.a.PropTypes.func},refluxModelListeners:{SelectedBroadcastStore:"onStoreChanged",PlaylistStore:"onStoreChanged"},mixins:[te],getInitialState:function(){var e=this.context.model,t=e.PlaylistStore,n=e.SelectedBroadcastStore;return{broadcasts:t.broadcasts,selectedBroadcast:n.broadcast,filter:t.filter,currentPage:t.currentPage,pageCount:t.pageCount(),pagination:t.pagination,loading:t.loading,pageSize:t.pageSize}},onStoreChanged:function(){this.setState(this.getInitialState())},applyFilter:function(){this.context.model.Actions.PlaylistSearch(this.refs.search.value.toLowerCase())},paginate:function(e){this.context.model.Actions.PlaylistPaginate(e)},render:function(){var e=this.context.m("related_title");return j.a.createElement("div",{className:"boxcast-playlist boxcast-well"},j.a.createElement("div",{className:"boxcast-well-title"},j.a.createElement("div",{style:{float:"left"}},j.a.createElement("h3",null,e)),this.state.filter||1<this.state.pageCount?j.a.createElement("div",{style:{float:"right"}},this.renderSearchForm()):j.a.createElement("span",null),j.a.createElement("br",{style:{clear:"both"}})),this.renderList(),this.renderPageControls())},renderPageControls:function(){var e=this,t=this.state.pageCount;return 1<t?j.a.createElement("div",{className:"boxcast-page-controls"},j.a.createElement("a",{href:"javascript://",disabled:1==this.state.currentPage,onClick:function(){return e.paginate(e.state.currentPage-1)}},"Previous Page"),j.a.createElement("span",null,"Page ",this.state.currentPage," of ",t),j.a.createElement("a",{href:"javascript://",disabled:this.state.currentPage==t,onClick:function(){return e.paginate(e.state.currentPage+1)}},"Next Page")):j.a.createElement("span",null)},renderList:function(){var t=this,e=this.state,n=e.broadcasts,r=e.loading,o="";if(0==n.length){if(r)return this.renderLoading();o="No related broadcasts were found."}return j.a.createElement("div",{className:"boxcast-playlist-list"},o?j.a.createElement("em",null,o):j.a.createElement("span",null),j.a.createElement("ul",null,n.map(function(e){return t.renderBroadcast(e)})))},renderLoading:function(){for(var e=[],t=0;t<this.state.pageSize;t++)e.push(t+1);return j.a.createElement("div",{className:"boxcast-playlist-list boxcast-playlist-loading-skeleton"},j.a.createElement("ul",null,e.map(function(e){return j.a.createElement("li",{className:"boxcast-playlist-item boxcast-selectable",key:e},j.a.createElement("div",{className:"boxcast-preview-icon"}),j.a.createElement("div",{className:"boxcast-playlist-item-meta"},j.a.createElement("h3",{style:{width:"50%"}},j.a.createElement(fe,null)),j.a.createElement("p",{style:{width:"100%"}},j.a.createElement(fe,null)),j.a.createElement("p",{style:{width:"25%"}},j.a.createElement(fe,null))))})))},renderSearchForm:function(){var t=this;return j.a.createElement("div",{className:"boxcast-playlist-search"},j.a.createElement("input",{ref:"search",type:"text",placeholder:"search...","aria-label":"Search Playlist",onBlur:function(){return t.applyFilter()},onKeyDown:function(e){return 13==e.keyCode&&t.applyFilter()}}))},renderBroadcast:function(e){var t=this,n="boxcast-playlist-item boxcast-selectable";return e.id==this.state.selectedBroadcast.id&&(n+=" boxcast-selected"),j.a.createElement("li",{key:e.id,className:n},j.a.createElement(He,{image:e.preview,duration:Object(g.duration)(e),timeframe:Object(g.timeframe)(e),onClick:function(){return t.changeVideo(e,!0)}}),j.a.createElement("div",{className:"boxcast-playlist-item-meta"},j.a.createElement("h3",null,j.a.createElement("a",{href:"javascript://",onClick:function(){return t.changeVideo(e)}},e.name)),j.a.createElement("p",null,e.description),j.a.createElement("p",null,j.a.createElement($e,{broadcast:e,mode:"inline"}))))},changeVideo:function(e,t){this.context.model.Actions.SelectBroadcast(e,{autoplay:t,fromPlaylist:!0}),_("send","event","playlist","changeVideo")}});o(13);function Xe(e){var t=e.url;return j.a.createElement("div",{className:"boxcast-playlist-list"},t?j.a.createElement("div",{style:{position:"relative",paddingTop:"100%"}},j.a.createElement("iframe",{src:"//docs.google.com/gview?url="+encodeURIComponent(t)+"&embedded=true",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0"})):j.a.createElement("p",null,"No file has been uploaded."))}var Qe=j.a.createClass({displayName:"video-index",contextTypes:{model:j.a.PropTypes.object},propTypes:{cues:j.a.PropTypes.array},render:function(){var t=this,e=this.props.cues,n=0;return j.a.createElement("div",{className:"boxcast-playlist-list"},j.a.createElement("ul",null,e.map(function(e){return t.renderCue(e,n++)})))},renderCue:function(e,t){var n=this;return j.a.createElement("li",{key:t,className:"boxcast-playlist-item boxcast-selectable",style:{minHeight:"auto"}},j.a.createElement("p",{style:{float:"right"}},"(",e.playback_start_time_fmt,")"),j.a.createElement("h3",null,j.a.createElement("a",{href:"javascript://",onClick:function(){return n.switchTo(e)}},e.name)))},switchTo:function(e){this.context.model.Actions.SeekTo(O.Clock.formattedToSeconds(e.playback_start_time_fmt)),_("send","event","cue","switchTo")}}),Je=j.a.createClass({displayName:"documents-and-index",contextTypes:{model:j.a.PropTypes.object,m:j.a.PropTypes.func,env:j.a.PropTypes.func},refluxModelListeners:{SelectedBroadcastStore:"onStoreChanged"},mixins:[te],getInitialState:function(e){var t=this.context.model,n=t.SelectedBroadcastStore,r=t.UserArgsStore,o=n.getContentSettings(),i={cues:o.cues||[],hasCues:(o.cues||[]).length,allowCues:r.showIndex,documents:n.getDocuments(),hasDocuments:n.getDocuments().length,allowDocuments:r.showDocuments,selectedDocument:null};return e&&this.state.userTabPref?(!i.hasCues&&this.state.cuesSelected?i.cuesSelected=!1:i.cuesSelected="cue"==this.state.userTabPref,i.documentsSelected=!i.cuesSelected):(i.cuesSelected=i.hasCues,i.documentsSelected=!i.hasCues),i.allowCues||(i.cuesSelected=!1),i.allowDocuments||(i.documentsSelected=!1),i},onStoreChanged:function(){this.setState(this.getInitialState(!0))},render:function(){var e=this.state,t=e.cuesSelected,n=e.hasDocuments,r=e.hasCues;return n||r?j.a.createElement("div",{className:"boxcast-playlist boxcast-well"},this.renderTitle(),t?j.a.createElement(Qe,{cues:this.state.cues}):this.renderDocumentList()):j.a.createElement("span",null)},renderTitle:function(){var e=this.state,t=e.hasCues,n=e.hasDocuments,r=e.cuesSelected,o=(e.documentsSelected,e.documents),i=e.allowCues,a=e.allowDocuments,s=this.context.m("cue_title"),l=this.context.m("documents_title");return 1==o.length&&(l=o[0].name||this.context.m("documents_title")),t&&n&&r&&i&&a?j.a.createElement("div",{className:"boxcast-well-title boxcast-tabbed"},j.a.createElement("h3",{className:"active"},s),j.a.createElement("h3",{onClick:this.changeTabDocuments},l),j.a.createElement("br",{style:{clear:"both"}})):t&&n&&i&&a?j.a.createElement("div",{className:"boxcast-well-title boxcast-tabbed"},j.a.createElement("h3",{onClick:this.changeTabCue},s),j.a.createElement("h3",{className:"active"},l),j.a.createElement("br",{style:{clear:"both"}})):t&&!n&&i?j.a.createElement("div",{className:"boxcast-well-title"},j.a.createElement("h3",null,s)):n?j.a.createElement("div",{className:"boxcast-well-title"},j.a.createElement("h3",null,l)):j.a.createElement("span",null)},renderDocumentList:function(){var n=this,e=this.state,t=e.documents,r=e.selectedDocument;if(1==t.length)return j.a.createElement(Xe,{url:t[0].url});if(r)return j.a.createElement("div",null,j.a.createElement("p",null,j.a.createElement("a",{href:"javascript://",onClick:function(e){return n.showDocument(e,null)}},"< Back")),j.a.createElement(Xe,{url:r.url}));var o=0;return j.a.createElement("div",{className:"boxcast-playlist-list"},j.a.createElement("ul",null,t.map(function(t){return j.a.createElement("li",{key:++o,className:"boxcast-playlist-item boxcast-selectable",style:{minHeight:"auto"}},j.a.createElement("h3",null,j.a.createElement("a",{href:"javascript://",onClick:function(e){return n.showDocument(e,t)}},t.name)))})))},showDocument:function(e,t){e.preventDefault(),this.setState({selectedDocument:t})},changeTabCue:function(e){e.preventDefault(),this.setState({documentsSelected:!1,cuesSelected:!0,userTabPref:"cue"})},changeTabDocuments:function(e){e.preventDefault(),this.setState({documentsSelected:!0,cuesSelected:!1,userTabPref:"documents"})}});function Ze(e){var t="https://www.boxcast.com"+({college:"/solutions/sports-streaming-services","high-school":"/solutions/sports-streaming-services",smb:"/solutions/video-streaming-events","house-of-worship":"/solutions/church-streaming","sports-venue":"/solutions/sports-streaming-services","stage-performance":"/solutions/video-streaming-events","conference-hospitality":"/solutions/video-streaming-events",church:"/solutions/church-streaming"}[e.market]||"");return j.a.createElement("a",{className:"boxcast-linkback",href:t,target:"_blank"},"Powered by ",j.a.createElement("strong",null,"BoxCast"))}function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=nt(this,rt(t).call(this))).state={isSSL:"https:"==window.location.protocol},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,j.a.Component),function(e,t,n){t&&tt(e.prototype,t),n&&tt(e,n)}(t,[{key:"render",value:function(){var e=this.context.model.UserArgsStore,t=this.context.env;return e.donateURL?this.renderRedirectButton():this.state.isSSL?this.renderRealButton():t("allowNonSSLCheckout")||e.allowNonSSLCheckout?this.renderRealButton():(console.warn("Current site is not SSL, will need to redirect to BoxCast to complete transaction"),this.renderRedirectButton())}},{key:"redirectToDonate",value:function(){var e=this.context.model.UserArgsStore;if(e.donateURL)return window.open(e.donateURL),!1;alert("You will now be redirected to the secure BoxCast web site to complete the donation..."),ie.redirectNowToPurchase({ticketPurchaseUrl:this.context.env("ticketPurchaseUrl"),channelId:this.context.model.CurrentChannelStore.id,ticketId:"~donate"})}},{key:"renderRedirectButton",value:function(){var e=this;return j.a.createElement("span",{onClick:function(){return e.redirectToDonate()}},this.props.children)}},{key:"showModal",value:function(){this.context.model.Actions.OpenPaymentModal("donate")}},{key:"renderRealButton",value:function(){var e=this;return j.a.createElement("span",{onClick:function(){return e.showModal()}},this.props.children)}}]),t}();it.contextTypes={model:j.a.PropTypes.object,env:j.a.PropTypes.func};var at=it;function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ct(this,ut(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(e,j.a.Component),function(e,t,n){t&&lt(e.prototype,t),n&&lt(e,n)}(e,[{key:"render",value:function(){var t=this,e=this.props.highlights;return e&&e.length?j.a.createElement("div",{className:"boxcast-highlights"},null===this.props.title?j.a.createElement("span",null):j.a.createElement("h4",null,this.props.title||"Highlights"),j.a.createElement("ul",null,e.map(function(e){return t.renderHighlight(e)}))):j.a.createElement("span",null)}},{key:"renderHighlight",value:function(t){var n=this,e=this.context.model,r=e.CurrentChannelStore,o=e.HighlightListStore,i=e.SelectedBroadcastStore,a=(r.id||o.channelId,i.selectedHighlight),s="boxcast-selectable";return t===a&&(s+=" boxcast-selected"),j.a.createElement("li",{key:t.id,className:s},j.a.createElement(He,{image:t.preview,duration:O.Clock.durationFormatted(t.duration),onClick:function(e){return n.playHighlight(e,t)}}),j.a.createElement("h5",null,j.a.createElement("a",{href:"javascript://",onClick:function(e){return n.playHighlight(e,t)}},t.name)),j.a.createElement("p",null,"(",t.duration," sec)"))}},{key:"playHighlight",value:function(e,t){var n=this.context.model.Actions;e.preventDefault(),n.PlayHighlight(t),_("send","event","highlight","playHighlight")}}]),e}();pt.contextTypes={model:j.a.PropTypes.object};var ht=pt,ft=(O.Logger.getInstance("components"),j.a.createClass({displayName:"TitleDescriptionWell",contextTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,m:j.a.PropTypes.func},mixins:[te],refluxModelListeners:{SelectedBroadcastStore:"onStoreChanged",UserArgsStore:"onStoreChanged",Actions:[{on:"DonationCompleted",trigger:"onDonationCompleted"}]},getInitialState:function(){var e=this.context.model,t=e.SelectedBroadcastStore,n=e.CurrentChannelStore,r=e.UserArgsStore;return{broadcast:t.broadcast,highlights:t.highlights,selectedHighlight:t.selectedHighlight,isPreview:t.timeLimitedPreview,ticket:t.ticket||n.ticket,autoOpenTicketWindow:r.autoOpenTicketWindow,showDonations:r.showDonations,donateMessage:r.donateMessage,showLinkback:!r.hide_linkback,accountMarket:r.market||t.broadcast.account_market}},onStoreChanged:function(){this.setState(this.getInitialState())},onDonationCompleted:function(){this.setState({donationCompleted:!0})},render:function(){var e=this.state,t=e.broadcast,n=e.highlights,r=e.selectedHighlight,o=e.showLinkback,i=e.accountMarket,a=this.context.userArgs;if(a.showTitle||a.showDescription||a.showHighlights||a.showDonations){var s=r||t;return j.a.createElement("div",{className:"boxcast-well"},a.showTitle?j.a.createElement("h1",{className:"boxcast-title"},s.name):j.a.createElement("span",null),a.showDescription?j.a.createElement("p",{className:"boxcast-description"},s.description):j.a.createElement("span",null),a.showDescription?j.a.createElement($e,{broadcast:s}):j.a.createElement("span",null),j.a.createElement(De,{broadcast:t}),this.renderBuyTicketButton(),this.renderDonationsWidget(),a.showSocialShare&&!s.is_private?j.a.createElement(ge,null):j.a.createElement("span",null),this.renderBackToBroadcastFromHighlight(),this.props.showHighlights?j.a.createElement(ht,{highlights:n}):j.a.createElement("span",null),o?j.a.createElement(Ze,{market:i}):j.a.createElement("span",null))}return j.a.createElement("span",null)},renderDonationsWidget:function(){var e=this.context.m;return this.state.donationCompleted?j.a.createElement("div",{className:"boxcast-ticket"},j.a.createElement("p",null,j.a.createElement("strong",null,e("donation_complete")))):this.state.showDonations?j.a.createElement("div",{className:"boxcast-ticket"},this.state.donateMessage?j.a.createElement("p",null,this.state.donateMessage):j.a.createElement("span",null),j.a.createElement(at,null,j.a.createElement("button",{type:"button",className:"boxcast-ticket-button"},e("donation_button_label")))):j.a.createElement("span",null)},renderBackToBroadcastFromHighlight:function(){var e=this.state,t=e.broadcast,n=e.selectedHighlight,r=this.context.model.Actions;return n?j.a.createElement("h4",null,"Highlight from ",j.a.createElement("a",{href:"javascript://",onClick:function(){return r.ReturnToBroadcastFromHighlight()}},t.name)):j.a.createElement("span",null)},renderBuyTicketButton:function(){var e,t,n=this.state,r=n.broadcast,o=n.isPreview,i=n.ticket,a=n.autoOpenTicketWindow,s=this.context.model.CurrentChannelStore,l=this.context.m;if(t=s.isTicketed?(e=!0,s.ticketPrice):(e=!1,r.ticket_price),o){var c=l("purchase_".concat(e?"channel_":"","ticket_button"),"$"+t);return j.a.createElement("div",{className:"boxcast-ticket"},j.a.createElement(pe,{autoOpenTicketWindow:a},j.a.createElement("button",{type:"button",className:"boxcast-ticket-button"},c)))}if(i){var u=l("purchase_".concat(e?"channel_":"","ticket_success_subtitle"),i);return j.a.createElement("div",{className:"boxcast-ticket"},j.a.createElement("p",{className:"boxcast-ticket-purchased"},u))}return j.a.createElement("span",null)}})),mt=j.a.createClass({displayName:"HighlightEndedOverlay",contextTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,m:j.a.PropTypes.func},render:function(){var e=this.props,t=e.showSocialShare,n=e.broadcast;e.channelId,this.context.model.Actions;return j.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0}},j.a.createElement("div",{style:{background:"rgba(0,0,0,0.8)",padding:"15px"}},t?j.a.createElement("div",{style:{marginBottom:"10px"}},j.a.createElement(ge,null)):j.a.createElement("span",null),j.a.createElement("div",{style:{display:"flex"}},j.a.createElement("div",{style:{width:"70px",marginRight:"10px",height:"40px",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundImage:'url("'.concat(n.preview,'")')}}),j.a.createElement("div",{style:{flex:1}},j.a.createElement("p",{style:{color:"#ccc"}},j.a.createElement("em",null,"From ",n.name))))))}}),gt=(O.Logger.getInstance("components"),j.a.createClass({displayName:"PasswordEntry",contextTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,m:j.a.PropTypes.func},mixins:[te],refluxModelListeners:{PasswordBlockStore:"onStoreChanged"},getInitialState:function(){var e=this.context.model.PasswordBlockStore;return{isRestricted:e.isRestricted,isAttemptInvalid:e.isAttemptInvalid,lastPassword:e.lastPassword}},onStoreChanged:function(){this.setState(this.getInitialState())},onTryPassword:function(e){e.preventDefault(),this.context.model.Actions.PasswordBlockUnlock(this.refs.password.value)},render:function(){var t=this,e=this.state,n=e.isRestricted,r=e.isAttemptInvalid;e.lastPassword;return n?j.a.createElement("div",{style:{background:"rgba(0,0,0,0.8)",height:"100%",padding:"15px"}},j.a.createElement("form",{action:"",onSubmit:function(e){return t.onTryPassword(e)}},j.a.createElement("h3",{style:{color:"#fff",textAlign:"center"}},this.context.m("password_required_title")),r?j.a.createElement("p",{style:{color:"#fff"}},this.context.m("password_invalid_title")):j.a.createElement("span",null),j.a.createElement("div",null,j.a.createElement("div",{className:"boxcast-form-field half-width"},j.a.createElement("input",{className:r?"boxcast-form-error":"",style:{color:"#000"},ref:"password",name:"password",type:"password",placeholder:"Enter Password","aria-label":"Enter Password"})),j.a.createElement("div",{className:"boxcast-form-field half-width"},j.a.createElement("button",{type:"submit",className:"boxcast-button",style:{color:"#fff",backgroundColor:"transparent"}},"Submit"))))):j.a.createElement("span",null,"Password accepted.")}})),yt=o(112),vt=o.n(yt),bt=O.Logger.getInstance("player");function _t(e,t){var n=(e=e||{}).code||e.data&&e.data.code,r=e.message;r=!r&&e.data?e.data.details||JSON.stringify(e.data):e.toString(),(r="[object MediaError]")&&(r="MediaError occurred");var o={message:r,code:n,data:e.data};return t&&(o.source=t),o}function At(r,o){var i=r.core.getCurrentPlayback();if(i){var e="hls"===i.name,t="html5_video"===i.name;if(e||t){i.trigger("playback:play:intent"),i._stopped=!1,i._setupSrc(i._src),i._handleBufferingEvents();var n=i.el.play();n&&n.catch&&n.catch(function(e){if(bt.log("Error trying to autoplay:",e),"try-muted"===o){var t=!0===i.el.muted||0===i.el.volume;r.mute();var n=i.el.play();n&&n.catch&&n.catch(function(e){bt.log("Error trying to autoplay even after muting:",e),t||r.unmute()}),n&&n.then&&n.then(function(){bt.log("firing autoplay muted event"),i.trigger("custom:autoplay:muted")})}}),n&&n.then&&n.then(function(){!0!==i.el.muted&&0!==i.el.volume||(bt.log("firing autoplay muted event due to playback already muted when starting"),i.trigger("custom:autoplay:muted"))}),e&&i._startTimeUpdateTimer()}else r.play()}else r.play()}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kt=O.Logger.getInstance("analytics"),xt="play".split(" "),Tt="pause buffer idle stop complete error".split(" "),wt=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.player=e,this.env=n,this.Actions=t.Actions,this.SelectedBroadcastStore=t.SelectedBroadcastStore,this.UserArgsStore=t.UserArgsStore,this.CurrentChannelStore=t.CurrentChannelStore,this.GeoBlockStore=t.GeoBlockStore,this.lastReportAt=null,this.lastBufferStart=null,this.isPlaying=!1,this.isBuffering=!1,this.durationPlaying=0,this.activeBufferingDuration=0,this.totalDurationBuffering=0,this.currentLevelHeight=0,this.dvrInUse=!1,this.headers={},this.browser={},this.position=0,this._queue=[],this.attach()}return function(e,t,n){t&&Et(e.prototype,t),n&&Et(e,n)}(r,[{key:"attach",value:function(){var t=this,e=this.player,n=e.core.getCurrentPlayback();n.on("playback:buffering",function(){t.handleBufferingStart()}),n.on("playback:play",function(e){t.handleBufferingEnd()}),n.on("playback:error",function(e){t.handlePlaybackError(e)}),n.on("playback:bitrate",function(e){t.currentLevelHeight=e.height}),n.on("playback:dvr",function(e){t.dvrInUse=e}),e.on("timeupdate",function(){t.reportTime()}),e.on("play",function(){t.handleNormalOperation(),t.report("play"),t.handleBufferingEnd()}),e.on("seek",function(e){t.handleNormalOperation(),t.report("seek",{offset:e})}),e.on("pause",function(){t.handleNormalOperation(),t.report("pause"),t.handleBufferingEnd()}),e.on("stop",function(){t.handleNormalOperation(),t.stoppedHACK=!0,t.report("stop"),t.handleBufferingEnd()}),e.on("ended",function(){t.handleNormalOperation(),t.report("complete"),t.handleBufferingEnd()})}},{key:"detach",value:function(){var e=this.player,t=this.player.core.getCurrentPlayback();t.off("playback:buffering"),t.off("playback:error"),t.off("playback:bitrate"),e.off("timeupdate"),e.off("play"),e.off("seek"),e.off("pause"),e.off("stop"),e.off("ended")}},{key:"handleBufferingStart",value:function(){this.isBuffering=!0,this.lastBufferStart=this.lastBufferStart||O.MonotonicClock.now(),this.report("buffer")}},{key:"handleNormalOperation",value:function(){this.stoppedHACK=!1}},{key:"handleBufferingEnd",value:function(){this.isBuffering=!1,this.lastBufferStart=null,this.totalDurationBuffering+=this.activeBufferingDuration,this.activeBufferingDuration=0}},{key:"handlePlaybackError",value:function(e){if(this.stoppedHACK)kt.warn("An error occurred, but playback is stopped so this should not be a problem",e);else if(null===e)kt.warn("An error event was fired, but the error was null");else{var t=O.Util.mergeDict(this.browser,{error_object:_t(e,this.player.options.source)});this.report("error",t)}}},{key:"setup",value:function(){var e=this.UserArgsStore;this.browser={user_agent:navigator.userAgent,language:navigator.language,platform:B.a.product||"",browser_name:B.a.name,browser_version:B.a.version,os:(B.a.os||"").toString(),player_version:this.env("version"),host:e.hostname||window.location.hostname},this.headers=O.Util.mergeDict({view_id:O.Util.uuid().replace(/-/g,""),viewer_id:O.BrowserStorage.getItem("boxcast-viewer-id",null)||O.BrowserStorage.setItem("boxcast-viewer-id",O.Util.uuid().replace(/-/g,""))},this.playerInfo),this.durationPlaying=0,this.isPlaying=!1}},{key:"getCurrentLevelHeight",value:function(){return this.currentLevelHeight||(this.player.core.$el.find("video").get(0)||{}).videoHeight}},{key:"reportTime",value:function(){var e=this.Actions;return!(!this.isSetup||!this.isPlaying)&&(6e4<O.MonotonicClock.now()-this.lastReportAt&&(this.report("time"),void e.ReportTimeUpdated(this.durationPlaying)))}},{key:"report",value:function(e,t){var n=this.UserArgsStore;if(this.SelectedBroadcastStore.view.playlist)if(n.disableMetrics)kt.log("Metrics are disabled. Not reporting metrics.",e,t);else{kt.log("Reporting",e,t),this.isSetup||(this.setup(),this.isSetup=!0,this.report("setup",this.browser));var r=O.MonotonicClock.now();this.isPlaying&&(this.durationPlaying+=r-(this.lastReportAt||r)),this.isBuffering&&(this.activeBufferingDuration=r-(this.lastBufferStart||r)),this.isPlaying=0<=xt.indexOf(e)||this.isPlaying&&!(0<=Tt.indexOf(e)),this.lastReportAt=r;var o=O.Clock.now();t=t||{},(t=O.Util.mergeDict(this.headers,t)).timestamp=o.toISOString(),t.hour_of_day=o.getHours(),t.day_of_week=o.getDay(),t.action=e,t.position=this.player.getCurrentTime(),t.duration=Math.round(this.durationPlaying/1e3),t.duration_buffering=Math.round((this.totalDurationBuffering+this.activeBufferingDuration)/1e3),t.videoHeight=this.getCurrentLevelHeight(),t.dvr=this.dvrInUse,t.remote_ip=u.a.get("clientRemoteIP"),this._queue.push(t),this._dequeue()}else kt.log("View playlist not avaiable. Not reporting metrics.",e,t)}},{key:"_dequeue",value:function(){var e=this,n=[];this._queue.forEach(function(t){Object(O.fetch)(e.env("metricsUrl"),{method:"POST",body:JSON.stringify(t)}).catch(function(e){t.__attempts=(t.__attempts||0)+1,t.__attempts<=5?(console.error("Unable to post metrics; will retry",e,t),n.push(t)):console.error("Unable to post metrics; will not retry",e,t)})}),this._queue=n}},{key:"playerInfo",get:function(){var e=this.SelectedBroadcastStore,t=this.CurrentChannelStore,n=this.GeoBlockStore,r=e.view.status||"",o=0<=r.indexOf("live")||0<=r.indexOf("stalled")||0<=r.indexOf("prepared"),i={account_id:e.broadcast.account_id,is_live:o,channel_id:t.id,ticket_id:e.ticket||t.ticket||null};e.selectedHighlight?i.highlight_id=e.selectedHighlight.id:i.broadcast_id=e.broadcast.id;var a=n.lastFound();if(0<Object.keys(a).length)for(var s in i.location={},a)if(a.hasOwnProperty(s)){var l=a[s];l&&(i.location[s]=l)}return i}}]),r}();function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ct=O.Logger.getInstance("watchdog"),Pt=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.player=e,this.model={Actions:t.Actions,SelectedBroadcastStore:t.SelectedBroadcastStore},this.timerBuffer=null,this.stoppedHACK=!1,this.attach(),document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}return function(e,t,n){t&&St(e.prototype,t),n&&St(e,n)}(n,[{key:"onVisibilityChange",value:function(){document.hidden&&this.timerBuffer&&(Ct.info("Pausing playback due to visibility change while buffering"),this.player.pause(),this.handleNormalOperation(),_("send","event","watchdog","pause-while-buffering"))}},{key:"handleBufferingStart",value:function(){var e=this;this.timerBuffer?Ct.info("Buffering started (duplicate event fired)"):(Ct.info("Buffering started"),this.timerBuffer=setTimeout(function(){return e.handleBufferingForTooLong()},3e4))}},{key:"handleBufferingForTooLong",value:function(){var e=this.model.Actions;Ct.error("Buffering for too long"),e.PlaybackErrorOccurred({error:{code:"buffering_too_long",stuck_on_discontinuity:this.stuckOnDiscontinuity}}),_("send","event","watchdog","buffering-too-long")}},{key:"handlePlaybackError",value:function(e){var t=this.model.Actions;this.stoppedHACK?Ct.warn("An error occurred, but playback is stopped so this should not be a problem",e):null===e?Ct.warn("An error event was fired, but the error was null"):(Ct.error("An error occurred",e),t.PlaybackErrorOccurred({error:_t(e)}))}},{key:"initPlaybackEvents",value:function(){var i=this;this.checkMediaSupport();var a=this.player.core.getCurrentPlayback();a&&a._hls&&a._hls.on("hlsLevelUpdated",function(e,t){var n=t.details.fragments,r=t.details.endCC,o=n[n.length-1].cc;"live"==a.getPlaybackType()&&o<r?i.stuckOnDiscontinuity=!0:i.stuckOnDiscontinuity=!1,i.fragments=n,i.endCC=r})}},{key:"checkMediaSupport",value:function(){var e=this.model.Actions,t=this.player.core.getCurrentPlayback();"no_op"==(t&&t.getPlaybackType())&&(Ct.error("Media not supported; no_op playback detected for",this.player.options.source),e.PlaybackErrorOccurred({error:{code:4}}),_("send","event","watchdog","media-not-supported",this.player.options.source))}},{key:"handleNormalOperation",value:function(){clearTimeout(this.timerBuffer),this.timerBuffer=null,this.stoppedHACK=!1}},{key:"attach",value:function(){var t=this,e=this.model,n=e.Actions,r=e.SelectedBroadcastStore,o=this.player,i=o.core.getCurrentPlayback();i.on("playback:buffering",function(){t.handleBufferingStart()}),i.on("playback:error",function(e){t.handlePlaybackError(e)}),i.on("playback:dvr",function(e){n.DVRModeChange(e)}),i.on("playback:bufferfull",function(){t.timerBuffer&&Ct.info("back to normal; bufferfull"),t.handleNormalOperation()}),i.on("playback:play",function(){t.timerBuffer&&Ct.info("back to normal; playing"),t.handleNormalOperation(),r.playing=!0,n.PlaybackIsPlaying()}),o.on("timeupdate",function(e){n.TimeUpdate(e.current,e.total)}),o.on("pause",function(){t.timerBuffer&&Ct.info("back to normal; paused"),t.handleNormalOperation(),r.playing=!1}),o.on("stop",function(){t.timerBuffer&&Ct.info("back to normal; stopped"),t.handleNormalOperation(),r.playing=!1,t.stoppedHACK=!0}),o.on("ended",function(){t.timerBuffer&&Ct.info("back to normal; ended"),t.handleNormalOperation(),r.playing=!1,n.CurrentPlaybackEnded()}),this.player.isReady?this.initPlaybackEvents():this.player.on("ready",function(){return t.initPlaybackEvents()})}},{key:"detach",value:function(){clearTimeout(this.timerBuffer),this.timerBuffer=null;var e=this.player,t=this.player.core.getCurrentPlayback();t.off("playback:buffering"),t.off("playback:error"),t.off("playback:dvr"),e.off("play"),e.off("timeupdate"),e.off("pause"),e.off("stop"),e.off("ended"),document.removeEventListener("visibilitychange",this.onVisibilityChange.bind(this))}}]),n}();function jt(e){var t=0<arguments.length&&void 0!==e?e:null;if(void 0!==window.peer5)return m.a.resolve(window.peer5);if(!("WebSocket"in window&&"RTCPeerConnection"in window&&"MediaSource"in window))return m.a.reject("browser_not_supported");window.Clappr=y.a;var n=u.a.get("peer5Key"),r=m.a.all([O.dom.loadScript("https://api.peer5.com/peer5.js?id="+n),O.dom.loadScript("https://api.peer5.com/peer5.clappr.plugin.js")]).then(function(){return window.peer5});return t?r.timeout(t):r}var Ot=d.MediaControl.extend({bindContainerEvents:function(){var e=this;if(this.container){this.listenTo(this.container,d.Events.CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,d.Events.CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,d.Events.CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,d.Events.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,d.Events.CONTAINER_PROGRESS,this.updateProgressBar),this.listenTo(this.container,d.Events.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container,d.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.settingsUpdate),this.listenTo(this.container,d.Events.CONTAINER_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.container,d.Events.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,d.Events.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,d.Events.CONTAINER_ENDED,this.ended),this.listenTo(this.container,d.Events.CONTAINER_VOLUME,this.onVolumeChanged),this.listenTo(this.container,d.Events.CONTAINER_OPTIONS_CHANGE,this.setInitialVolume),"video"===this.container.playback.el.nodeName.toLowerCase()&&this.listenToOnce(this.container,d.Events.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag),this.allowNativeFullscreen&&this.listenTo(this.container,d.Events.CONTAINER_DBLCLICK,this.toggleFullscreen);var t=this.container.playback.el;"video"===t.nodeName.toLowerCase()&&(this.listenToOnce(this.container,d.Events.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag),t.addEventListener("touchstart",function(){return e.show()}),t.addEventListener("webkitendfullscreen",function(){t.removeAttribute("controls")},!1))}},get allowNativeFullscreen(){return!this.options.fullscreenPlaceholder},get events(){var e={"click [data-play]":"play","click [data-pause]":"pause","click [data-playpause]":"togglePlayPause","click [data-stop]":"stop","click [data-playstop]":"togglePlayStop","click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mouseenter .drawer-container[data-volume]":"showVolumeBar","mouseleave .drawer-container[data-volume]":"hideVolumeBar","mousedown .bar-container[data-volume]":"startVolumeDrag","mousemove .bar-container[data-volume]":"mousemoveOnVolumeBar","click .bar-container[data-seekbar]":"clickOrTapToSeek","mousedown .bar-scrubber[data-seekbar]":"startSeekDrag","mousemove .bar-container[data-seekbar]":"mousemoveOnSeekBar","mouseleave .bar-container[data-seekbar]":"mouseleaveOnSeekBar","mouseenter .media-control-layer[data-controls]":"setUserKeepVisible","mouseleave .media-control-layer[data-controls]":"resetUserKeepVisible"};return d.Browser.isiOS&&(e["touchstart .bar-scrubber[data-seekbar]"]="startSeekDrag",e["touchmove .bar-container[data-seekbar]"]="touchMoveOnSeekBar",e["touchend .bar-container[data-seekbar]"]="touchEndOnSeekbar"),this.allowNativeFullscreen&&(e["click [data-fullscreen]"]="toggleFullscreen"),e},clickOrTapToSeek:function(e){this.seek(e),this.mouseleaveOnSeekBar(e)},touchMoveOnSeekBar:function(e){this.mousemoveOnSeekBar(e),this.$seekBarHover.css({opacity:1})},touchEndOnSeekbar:function(e){this.mouseleaveOnSeekBar(e),this.draggingSeekBar=!0,this.stopDrag(e),e.preventDefault(),this.$seekBarHover.css({opacity:0})},show:function(e){var t=this;if(!this.disabled){var n=e&&e.clientX!==this.lastMouseX&&e.clientY!==this.lastMouseY;e&&!n&&!navigator.userAgent.match(/firefox/i)||(clearTimeout(this.hideId),this.$el.show(),this.trigger(d.Events.MEDIACONTROL_SHOW,this.name),this.container&&this.container.trigger(d.Events.CONTAINER_MEDIACONTROL_SHOW,this.name),this.$el.removeClass("media-control-hide"),this.hideId=setTimeout(function(){return t.hide()},2e3),e&&(this.lastMouseX=e.clientX,this.lastMouseY=e.clientY));this.updateCursorStyle(!0),this.allowNativeFullscreen||this.$el.find("[data-fullscreen]:not(.placeholder)").hide()}}});function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}O.Logger.getInstance("player");var Nt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),It(this,Dt(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(e,j.a.Component),function(e,t,n){t&&Lt(e.prototype,t),n&&Lt(e,n)}(e,[{key:"componentDidMount",value:function(){this.refs.backButton.focus()}},{key:"render",value:function(){var r=this,e=this.props,o=e.currentLevel,t=e.levels.sort(function(e,t){if(-1==e.id)return-1;if(-1==t.id)return 1;if(t.level&&t.level.height&&e.level&&e.level.height){var n=t.level.height-e.level.height;if(0!=n)return n}return t.id-e.id});return j.a.createElement("ul",{className:"boxcast-clappr-menu"},j.a.createElement("li",null,j.a.createElement("span",{className:"boxcast-clappr-menu-title"},"Quality"),j.a.createElement("button",{ref:"backButton",type:"button","aria-label":"Back",className:"boxcast-unstyled-button boxcast-clappr-menu-icon-left",onClick:function(){return r.props.onBack()}},j.a.createElement("i",{className:"boxcast-icon-chevron-left"}))),t.map(function(e){var t=e.id==o,n=function(e){return 720<=e.label.substring(0,e.label.indexOf("p"))}(e);!function(e){e.label.indexOf("p60")}(e);return j.a.createElement("li",{key:e.id,className:t?"link active":"link"},j.a.createElement("button",{type:"button","aria-label":"Change quality to ".concat(e.label),className:"boxcast-unstyled-button",onClick:function(){return r.props.onChangeLevel(e.id)}},j.a.createElement("span",{className:"boxcast-clappr-menu-label"},j.a.createElement("span",{className:"boxcast-clappr-menu-quality-label"},e.label),n?j.a.createElement("span",{className:"boxcast-clappr-menu-quality-hd"},"HD"):""),j.a.createElement("span",{className:"boxcast-clappr-menu-icon-right"},j.a.createElement("i",{className:t?"boxcast-icon-check":""}))))}))}}]),e}();function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}O.Logger.getInstance("player");var Gt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ut(this,Ht(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(e,j.a.Component),function(e,t,n){t&&Bt(e.prototype,t),n&&Bt(e,n)}(e,[{key:"componentDidMount",value:function(){var e=this.refs.qualityButton||this.refs.rateButton||this.refs.ccButton;e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.showQualitySelector,n=e.showRateSelector;return j.a.createElement("ul",{className:"boxcast-clappr-menu"},j.a.createElement("li",null,j.a.createElement("span",{className:"boxcast-clappr-menu-title"},"Playback Settings")),t?this.renderQualityRow():"",n?this.renderRateRow():"")}},{key:"renderQualityRow",value:function(){var e=this,t=this.props,n=t.currentLevel,r=t.levels,o=t.nextLevelIndex;return j.a.createElement("li",{className:"link"},j.a.createElement("button",{type:"button",ref:"qualityButton","aria-label":"Show Quality Level Options",className:"boxcast-unstyled-button",onClick:function(){return e.props.onChangeMenu("quality")}},j.a.createElement("span",{className:"boxcast-clappr-menu-label"},"Quality"),j.a.createElement("span",{className:"boxcast-clappr-menu-value"},function(e,t,n){{if(-1==t){var r="Auto";return e.forEach(function(e){e.id==n&&"Auto"!=e.label&&(r="Auto (".concat(e.label,")"))}),r}var o="Auto";return e.forEach(function(e){e.id==t&&(o=e.label)}),o}}(r,n,o)),j.a.createElement("span",{className:"boxcast-clappr-menu-icon-right"},j.a.createElement("i",{className:"boxcast-icon-chevron-right"}))))}},{key:"renderRateRow",value:function(){var e=this,t=this.props,n=t.currentRate,r=t.rates;return j.a.createElement("li",{className:"link"},j.a.createElement("button",{type:"button",ref:"rateButton","aria-label":"Show Playback Speed Options",className:"boxcast-unstyled-button",onClick:function(){return e.props.onChangeMenu("speed")}},j.a.createElement("span",{className:"boxcast-clappr-menu-label"},"Speed"),j.a.createElement("span",{className:"boxcast-clappr-menu-value"},function(e,t){var n="1x";return e.forEach(function(e){e.id==t&&(n=e.label)}),n}(r,n)),j.a.createElement("span",{className:"boxcast-clappr-menu-icon-right"},j.a.createElement("i",{className:"boxcast-icon-chevron-right"}))))}}]),e}();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}O.Logger.getInstance("player");var qt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wt(this,Yt(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(e,j.a.Component),function(e,t,n){t&&zt(e.prototype,t),n&&zt(e,n)}(e,[{key:"componentDidMount",value:function(){this.refs.backButton.focus()}},{key:"render",value:function(){var n=this,e=this.props,r=e.currentRate,t=e.rates;return j.a.createElement("ul",{className:"boxcast-clappr-menu"},j.a.createElement("li",null,j.a.createElement("span",{className:"boxcast-clappr-menu-title"},"Speed"),j.a.createElement("button",{ref:"backButton",type:"button","aria-label":"Back",className:"boxcast-unstyled-button boxcast-clappr-menu-icon-left",onClick:function(){return n.props.onBack()}},j.a.createElement("i",{className:"boxcast-icon-chevron-left"}))),t.map(function(e){var t=e.id==r;return j.a.createElement("li",{key:e.id,className:t?"link active":"link"},j.a.createElement("button",{type:"button","aria-label":"Change rate to ".concat(e.label),className:"boxcast-unstyled-button",onClick:function(){return n.props.onChangeRate(e.id)}},j.a.createElement("span",{className:"boxcast-clappr-menu-label"},j.a.createElement("span",{className:"boxcast-clappr-menu-rate-label"},e.label),e.tag?j.a.createElement("span",{className:"boxcast-clappr-menu-rate-tag"},e.tag):""),j.a.createElement("span",{className:"boxcast-clappr-menu-icon-right"},j.a.createElement("i",{className:t?"boxcast-icon-check":""}))))}))}}]),e}();function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}O.Logger.getInstance("player");var nn=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Zt(this,en(t).call(this))).state={menuVisible:!1,submenu:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,j.a.Component),function(e,t,n){t&&Jt(e.prototype,t),n&&Jt(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showQualitySelector,r=t.showRateSelector,o=(t.forceMenuClose,t.isHD);return n||r?j.a.createElement("div",null,j.a.createElement("button",{type:"button",className:"boxcast-clappr-button","data-playback-rate-button":!0,"aria-label":"Player Settings (Quality, Speed, CC)",onClick:function(){return e.toggleMenu()}},j.a.createElement("i",{className:"boxcast-icon-cog"}),o?j.a.createElement("span",{className:"boxcast-cog-hd"},"HD"):""),this.state.menuVisible?this.renderMenu():j.a.createElement("span",null)):j.a.createElement("span",null)}},{key:"componentWillReceiveProps",value:function(e){e.forceMenuClose&&(this.setState({menuVisible:!1}),this.props.onToggleMenuVisibility(!1))}},{key:"onChangeRate",value:function(e){this.props.onChangeRate&&this.props.onChangeRate(e),this.setState({submenu:null})}},{key:"onChangeLevel",value:function(e){this.props.onChangeLevel&&this.props.onChangeLevel(e),this.setState({submenu:null})}},{key:"renderMenu",value:function(){var t=this;return"quality"==this.state.submenu?j.a.createElement(Nt,{onBack:function(){return t.setState({submenu:null})},onChangeLevel:function(e){return t.onChangeLevel(e)},currentLevel:this.props.currentLevel,nextLevelIndex:this.props.nextLevelIndex,levels:this.props.levels}):"speed"==this.state.submenu?j.a.createElement(qt,{onBack:function(){return t.setState({submenu:null})},onChangeRate:function(e){return t.onChangeRate(e)},currentRate:this.props.currentRate,rates:this.props.rates}):j.a.createElement(Gt,Qt({onChangeMenu:function(e){return t.setState({submenu:e})}},this.props))}},{key:"toggleMenu",value:function(){var e=this.state.menuVisible;this.setState({menuVisible:!e,submenu:null}),this.props.onToggleMenuVisibility(!e)}}]),t}();o(221);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function sn(e,t,n){return(sn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ln(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}O.Logger.getInstance("player");var un=[{id:-1,label:"Auto"}],dn=[{id:"0.25",label:"0.25x",tag:"Slow"},{id:"0.5",label:"0.5x"},{id:"1.0",label:"1x",tag:"Normal"},{id:"1.25",label:"1.25x"},{id:"1.5",label:"1.5x"},{id:"2.0",label:"2x",tag:"Fast"}],pn=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),an(this,ln(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(e,d["UICorePlugin"]),function(e,t,n){t&&on(e.prototype,t),n&&on(e,n)}(e,[{key:"bindEvents",value:function(){var e=this.core.mediaControl,t=this.core.activeContainer;this.core.isReady?this.bindPlaybackEvents():this.listenTo(this.core,d.Events.CORE_READY,this.bindPlaybackEvents),t&&this.listenTo(t,d.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.render),this.listenTo(this.core,d.Events.CORE_ACTIVE_CONTAINER_CHANGED,this.reload),this.listenTo(e,d.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(e,d.Events.MEDIACONTROL_HIDE,this.onHide),this.listenTo(e,d.Events.MEDIACONTROL_SHOW,this.onShow)}},{key:"labelifyLevels",value:function(){this.levels.forEach(function(e){var t=e.level||{};if(t.height){var n=(t.attrs||{})["FRAME-RATE"]||30;e.label="".concat(e.level.height,50<=n?"p60":"p")}})}},{key:"bindPlaybackEvents",value:function(){var t=this,e=this.core.getCurrentPlayback();this.listenTo(e,d.Events.PLAYBACK_LEVELS_AVAILABLE,function(e){t.levels=un.concat(e),t.labelifyLevels(),t.render()}),this.listenTo(e,d.Events.PLAYBACK_LEVEL_SWITCH_START,function(e){t.nextLevelIndex=e,t.switchingLevel=!0,t.render()}),this.listenTo(e,d.Events.PLAYBACK_LEVEL_SWITCH_END,function(){t.nextLevelIndex=t.bestGuessCurrentLevel,t.switchingLevel=!1,t.render()})}},{key:"unBindEvents",value:function(){var e=this.core.mediaControl,t=this.core.activeContainer,n=this.core.getCurrentPlayback();this.stopListening(this.core,d.Events.CORE_READY),t&&this.stopListening(t,d.Events.CONTAINER_PLAYBACKDVRSTATECHANGED),this.stopListening(e,d.Events.CORE_ACTIVE_CONTAINER_CHANGED),this.stopListening(e,d.Events.MEDIACONTROL_RENDERED),this.stopListening(e,d.Events.MEDIACONTROL_HIDE),this.stopListening(e,d.Events.MEDIACONTROL_SHOW),this.stopListening(n,d.Events.PLAYBACK_LEVELS_AVAILABLE),this.stopListening(n,d.Events.PLAYBACK_LEVEL_SWITCH_START),this.stopListening(n,d.Events.PLAYBACK_LEVEL_SWITCH_END)}},{key:"reload",value:function(){this.levels=[],this.switchingLevel=!1,this.nextLevelIndex=-1,this.currentRate="1.0",this.unBindEvents(),this.bindEvents()}},{key:"render",value:function(){var t=this;return this.core.mediaControl.$(".media-control-right-panel").append(this.el),setTimeout(function(){var e=j.a.createElement(nn,t.reactComponentProps);a.a.render(e,t.el)},0),this}},{key:"destroy",value:function(){sn(ln(e.prototype),"destroy",this).call(this),a.a.unmountComponentAtNode(this.el)}},{key:"onChangeRate",value:function(e){this.core.$el.find("video, audio").get(0).playbackRate=e,this.currentRate=e,this.render(),_("send","event","player","changeRate",e)}},{key:"onChangeLevel",value:function(e){(this.core.getCurrentPlayback()||{}).currentLevel=e,this.currentLevel=e,this.render(),_("send","event","player","changeLevel",e)}},{key:"onHide",value:function(){this.core.$el.removeClass("bump-text-track"),this.forceMenuClose=!0,this.onToggleMenuVisibility(!1),this.render()}},{key:"onShow",value:function(){this.core.$el.addClass("bump-text-track"),this.forceMenuClose=!1}},{key:"onToggleMenuVisibility",value:function(e){var t=this.core.$el.find("[data-watermark]");e?t.addClass("settings-menu-open"):t.removeClass("settings-menu-open")}},{key:"name",get:function(){return"clappr_settings"}},{key:"attributes",get:function(){return{class:"playback_rate","data-playback-rate-select":""}}},{key:"bestGuessCurrentLevel",get:function(){var e=this.core.getCurrentPlayback()||{},t=e._hls||e.hls,n=-1;return t&&(n=t.levelController.currentLevelIndex),0<=n?n:n=(this.core.getCurrentPlayback()||{}).currentLevel}},{key:"isHD",get:function(){var t,n=this.bestGuessCurrentLevel;return isNaN(n)||n<0?(this.core.mediaControl||{}).isHD:(this.levels.forEach(function(e){e.id==n&&(t=e)}),t&&720<=t.label.substring(0,t.label.indexOf("p")))}},{key:"reactComponentProps",get:function(){var t=this;return(isNaN(this.nextLevelIndex)||this.nextLevelIndex<0)&&(this.nextLevelIndex=this.bestGuessCurrentLevel),{currentLevel:(this.core.getCurrentPlayback()||{}).currentLevel,isHD:this.isHD,levels:this.levels,rates:dn,switchingLevel:this.switchingLevel,nextLevelIndex:this.nextLevelIndex,currentRate:this.currentRate,showQualitySelector:this.showQualitySelector,showRateSelector:this.showRateSelector,forceMenuClose:this.forceMenuClose,onChangeRate:function(e){return t.onChangeRate(e)},onChangeLevel:function(e){return t.onChangeLevel(e)},onToggleMenuVisibility:function(e){return t.onToggleMenuVisibility(e)}}}},{key:"showQualitySelector",get:function(){return this.levels&&2<this.levels.length}},{key:"isLive",get:function(){var e=this.core.getCurrentPlayback();return e&&e.getPlaybackType()==d.Playback.LIVE}},{key:"showRateSelector",get:function(){var e=(this.core.getCurrentContainer()||{}).dvrInUse;return!this.isLive||e}}]),e}();pn.type="core";o(224);var hn=o(113),fn=o.n(hn);function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t,n){return t&&vn(e.prototype,t),n&&vn(e,n),e}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var An=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=gn(this,yn(r).call(this,e));var n=e.options.closedCaptionsConfig;return t._initialized=!1,t._trackId,t._ariaLabel=n&&n.ariaLabel?n.ariaLabel:"cc-button",t._labelCb=n&&n.labelCallback&&"function"==typeof n.labelCallback?n.labelCallback:function(e){return e.name},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(r,y.a.UICorePlugin),bn(r,[{key:"name",get:function(){return"closed_captions"}},{key:"template",get:function(){return y.a.template('<button type="button" class="cc-button media-control-button media-control-icon" data-cc-button\n      aria-label="<%= ariaLabel %>"></button>')}},{key:"events",get:function(){return{"click [data-cc-button]":"toggleCC"}}},{key:"attributes",get:function(){return{class:"cc-controls","data-cc-controls":""}}}]),bn(r,[{key:"bindEvents",value:function(){this.listenTo(this.core,y.a.Events.CORE_ACTIVE_CONTAINER_CHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,y.a.Events.MEDIACONTROL_RENDERED,this.render),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,y.a.Events.CONTAINER_SUBTITLE_AVAILABLE,this.onSubtitleAvailable),this.listenTo(this.container,y.a.Events.CONTAINER_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,y.a.Events.CONTAINER_STOP,this.onContainerStop))}},{key:"onContainerStop",value:function(){this.ccAvailable(!1)}},{key:"containerChanged",value:function(){this.ccAvailable(!1),this.stopListening(),this.bindEvents()}},{key:"onSubtitleAvailable",value:function(){this.renderCcButton(),this.ccAvailable(!0)}},{key:"onSubtitleChanged",value:function(e){if(this.setCurrentTrack(e.id),this._initialized){var t=-1!==e.id;O.BrowserStorage.setItem("bx:cc-on",t)}else O.BrowserStorage.getItem("bx:cc-on",!1)&&(this.container.closedCaptionsTrackId=0),this._initialized=!0}},{key:"ccAvailable",value:function(e){var t=e?"addClass":"removeClass";this.$el[t]("available")}},{key:"setCurrentTrack",value:function(e){this._trackId!==e&&(this._trackId=e),this.updateCCButton()}},{key:"renderCcButton",value:function(){for(var e=this.container?this.container.closedCaptionsTracks:[],t=0;t<e.length;t++)e[t].label=this._labelCb(e[t]);this.$el.html(this.template({ariaLabel:this._ariaLabel})),this.$ccButton=this.$el.find("button.cc-button[data-cc-button]"),this.$ccButton.append(fn.a),this.$el.append(this.style)}},{key:"render",value:function(){this.renderCcButton(),this.updateCCButton();var e=this.core.mediaControl.$el.find("button[data-fullscreen]");return e[0]?this.$el.insertAfter(e):this.core.mediaControl.$el.find(".media-control-right-panel[data-media-control]").prepend(this.$el),this}},{key:"updateCCButton",value:function(){-1===this._trackId?this.$ccButton.removeClass("enabled"):this.$ccButton.addClass("enabled")}},{key:"toggleCC",value:function(){var e=this.container?this.container.closedCaptionsTracks:[];-1===this.container.closedCaptionsTrackId&&0<e.length?this.container.closedCaptionsTrackId=e[0].id:this.container.closedCaptionsTrackId=-1}}]),r}();o(226);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t,n){return t&&Tn(e.prototype,t),n&&Tn(e,n),e}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=kn(this,xn(n).call(this,e)))._loaded=!1,t._show=!1,t._hoverPosition=0,t._thumbs=[],t._$backdropCarouselImgs=[],t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(n,d["UICorePlugin"]),wn(n,[{key:"name",get:function(){return"scrub-thumbnails"}},{key:"attributes",get:function(){return{class:this.name}}}]),wn(n,[{key:"bindEvents",value:function(){var r=this;this.listenTo(this.core.mediaControl,d.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,d.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this._onMouseMove),this.listenTo(this.core.mediaControl,d.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this._onMouseLeave),this.listenTo(this.core.mediaControl,d.Events.MEDIACONTROL_RENDERED,this._onMediaControlRendered),setTimeout(function(){var e=r.core.getCurrentPlayback();e&&"function"==typeof e._setup&&(e._hls||e._setup(),e._hls.on("hlsLevelUpdated",function(e,t){var n=t.details.fragments;t.details.live&&(n=n.slice(0,0<n.length-3?n.length-3:0)),r._init(n)}))},0)}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"_thumbsRaw",value:function(e){var r=this._getOptions().thumbnailUrlTemplate;if(!r)return[];var t=e;return this._getOptions().maxThumbs&&t.length>this._getOptions().maxThumbs&&(t=O.Util.sampleArray(t,this._getOptions().maxThumbs)),t.map(function(e){return{time:e.start,url:function(e){var t=e.url.indexOf(".ts"),n=e.url.substring(t-8,t)+".jpg";return r.replace("%08d.jpg",n)}(e),h:190,w:320}})}},{key:"_init",value:function(e){var t=this;this._initInFlight||(this._initInFlight=!0,this._loadThumbnails(this._thumbsRaw(e),function(e){e.length&&(t._thumbs=e,t._loadBackdrop(),t._loaded=!0,t._initInFlight=!1,t._renderPlugin())}))}},{key:"_getOptions",value:function(){if(!("scrubThumbnails"in this.core.options))throw"'scrubThumbnails property missing from options object.";return this.core.options.scrubThumbnails}},{key:"_appendElToMediaControl",value:function(){var e=this.core.mediaControl.$el.find(".media-control-background");return!!e.length&&(e.first().after(this.$el),!0)}},{key:"_onMediaControlRendered",value:function(){this._appendElToMediaControl()}},{key:"_onMouseMove",value:function(e){this._calculateHoverPosition(e),this._show=!0,this._renderPlugin()}},{key:"_onMouseLeave",value:function(){this._show=!1,this._renderPlugin()}},{key:"_calculateHoverPosition",value:function(e){var t=e.pageX-this.core.mediaControl.$seekBarContainer.offset().left;this._hoverPosition=Math.min(1,Math.max(t/this.core.mediaControl.$seekBarContainer.width(),0))}},{key:"_loadThumbnails",value:function(t,a){var s=this,l=[],c=t.length,u=[];if(0!==c)for(var e=function(n){var r=t[n];if(!r)return"continue";var e=n<t.length-1?t[n+1]:null,o=e?e.time-r.time:null,i=Object(d.$)('<img alt="Preview Thumbnail" aria-hidden="true" />');i.one("load",function(){-1===l.indexOf(r.url)&&(s._$imageCache.append(i),l.push(r.url));var e=i[0].width,t=i[0].height;u[n]={imageW:e,imageH:t,x:r.x||0,y:r.y||0,w:r.w||e,h:r.h||t,url:r.url,time:r.time,duration:o},0==--c&&a(u)}).one("error",function(e){0==--c&&a(u)}).attr("src",r.url)},n=0;n<t.length;n++)e(n);else a(u)}},{key:"_buildImg",value:function(e,t){var n=t/e.h,r=Object(d.$)('<img alt="Preview Thumbnail" aria-hidden="true" />').addClass("thumbnail-img").attr("src",e.url),o=Object(d.$)("<div />").addClass("thumbnail-container");return o.width(e.w*n),o.height(t),r.css({height:e.imageH*n,left:-1*e.x*n,top:-1*e.y*n}),o.append(r),o}},{key:"_loadBackdrop",value:function(){var n=this;this._getOptions().backdropHeight&&(this._thumbs.length<12?this._$backdrop.hide():this._$backdrop.show(),this._$backdropCarousel.empty(),this._$backdropCarouselImgs=[],this._thumbs.forEach(function(e){var t=n._buildImg(e,n._getOptions().backdropHeight);n._$backdropCarousel.append(t),n._$backdropCarouselImgs.push(t)}))}},{key:"_updateCarousel",value:function(){if(this._getOptions().backdropHeight){var e=this._hoverPosition,t=this.core.activeContainer.getDuration(),n=t*e,r=this._$backdrop.width(),o=this._$backdropCarousel.width(),i=this._thumbs,a=o/i.length,s=this._getThumbIndexForTime(n),l=i[s],c=l.duration;null===c&&(c=Math.max(t-l.time,0));var u=s*a+a*((n-l.time)/c),d=u-e*r;this._$backdropCarousel.css("left",-d);for(var p=0;p<i.length;p++){var h=a*p-u;h<0&&(h=Math.min(0,h+a))}}}},{key:"_updateSpotlightThumb",value:function(){if(this._getOptions().spotlightHeight){var e=this._hoverPosition,t=this.core.activeContainer.getDuration()*e,n=this._getThumbIndexForTime(t),r=this._thumbs[n];this._$spotlight.empty(),this._$spotlight.append(this._buildImg(r,this._getOptions().spotlightHeight));var o=this.$el.width(),i=this._$spotlight.width(),a=o*e-i/2;a=Math.max(Math.min(a,o-i),0),this._$spotlight.css("left",a)}}},{key:"_getThumbIndexForTime",value:function(e){for(var t=this._thumbs,n=t.length-1;0<=n;n--){var r=t[n];if(r&&r.time<=e)return n}return 0}},{key:"_renderPlugin",value:function(){this._loaded&&(this._show&&this._getOptions().thumbnailUrlTemplate?(this.$el.removeClass("hidden"),this._updateCarousel(),this._updateSpotlightThumb()):this.$el.addClass("hidden"))}},{key:"render",value:function(){this._$imageCache=Object(d.$)("<div />").addClass("image-cache"),this.$el.append(this._$imageCache),this._getOptions().backdropHeight&&(this._$backdrop=Object(d.$)("<div />").addClass("backdrop"),this._$backdrop.height(this._getOptions().backdropHeight),this._$backdropCarousel=Object(d.$)("<div />").addClass("carousel"),this._$backdrop.append(this._$backdropCarousel),this.$el.append(this._$backdrop));var e=this._getOptions().spotlightHeight;return e&&(this._$spotlight=Object(d.$)("<div />").addClass("spotlight"),this._$spotlight.height(e),this.$el.append(this._$spotlight)),this.$el.addClass("hidden"),this._appendElToMediaControl(),this}}]),n}();function Pn(e,t,n){return(Pn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t,n){return t&&Rn(e.prototype,t),n&&Rn(e,n),e}function In(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Cn.type="core";var Fn=function(){function e(){return On(this,e),In(this,Dn(e).apply(this,arguments))}return Mn(e,j.a.Component),Ln(e,[{key:"render",value:function(){var e=this;return j.a.createElement("div",null,j.a.createElement("button",{type:"button",className:"boxcast-clappr-button","data-social-button":!0,"aria-label":"Share via Social Media",onClick:function(){return e.props.onShow()}},j.a.createElement("i",{className:"boxcast-icon-share"})))}}]),e}(),Bn=function(){function e(){return On(this,e),In(this,Dn(e).apply(this,arguments))}return Mn(e,d["UICorePlugin"]),Ln(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,d.Events.MEDIACONTROL_RENDERED,this.render)}},{key:"render",value:function(){var t=this;return this.core.mediaControl.$(".media-control-right-panel").append(this.el),setTimeout(function(){var e=j.a.createElement(Fn,t.reactComponentProps);a.a.render(e,t.el)},0),this}},{key:"destroy",value:function(){Pn(Dn(e.prototype),"destroy",this).call(this),a.a.unmountComponentAtNode(this.el)}},{key:"name",get:function(){return"clappr_social"}},{key:"attributes",get:function(){return{class:"social","data-social-select":""}}},{key:"reactComponentProps",get:function(){return{onShow:this.core.options.socialSharing.onShow,onHide:this.core.options.socialSharing.onHide}}}]),e}();Bn.type="core";o(228);var Un=o(114),Hn=o.n(Un);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yn=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kn(this,zn(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(e,d["UICorePlugin"]),function(e,t,n){t&&Gn(e.prototype,t),n&&Gn(e,n)}(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,d.Events.MEDIACONTROL_HIDE,this.onControlsHide),this.listenTo(this.mediaControl,d.Events.MEDIACONTROL_SHOW,this.onControlsShow),this.listenTo(this.mediaControl,d.Events.MEDIACONTROL_RENDERED,this.render)}},{key:"onControlsShow",value:function(){this.container.$el.find("[data-watermark]").addClass("with-media-controls-shown")}},{key:"onControlsHide",value:function(){this.container.$el.find("[data-watermark]").removeClass("with-media-controls-shown")}},{key:"render",value:function(){var e=this;if(this.rendered)return this;if(!this.container)return setTimeout(function(){return e.render()},100),this;var t={position:this.options.position||"bottom-right"};return this.container.$el.append(this.template(t)),this.rendered=!0,this}},{key:"name",get:function(){return"watermark"}},{key:"template",get:function(){return Object(d.template)(Hn.a)}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"container",get:function(){return this.core.getCurrentContainer()}}]),e}();Yn.type="core";var $n=o(115),qn=o.n($n),Xn=o(116),Qn=o.n(Xn);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rr=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),er(this,tr(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(e,d["UICorePlugin"]),function(e,t,n){t&&Zn(e.prototype,t),n&&Zn(e,n)}(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,d.Events.MEDIACONTROL_RENDERED,this.render)}},{key:"onClickFullscreen",value:function(){var e=this.options.fullscreenPlaceholder||{};try{e.onClick&&e.onClick()}catch(e){console.error(e)}this.setShrinkOrExpandIcon()}},{key:"setShrinkOrExpandIcon",value:function(){var e=this.options.fullscreenPlaceholder||{};try{var t=e.observeIsFullscreen&&e.observeIsFullscreen();this.btnFullscreen.html(t?Qn.a:qn.a)}catch(e){console.error(e)}}},{key:"render",value:function(){var e=this;return this.mediaControl.$el.find("[data-fullscreen]:not(.fullscreen-placeholder)").length&&(console.warn("Fullscreen placeholder plugin requested, but native fullscreen found. Hiding native functionality."),this.mediaControl.$el.find("[data-fullscreen]:not(.placeholder)").hide()),this.mediaControl.$el.find(".media-control-right-panel").prepend('\n      <button type="button" class="media-control-button media-control-icon placeholder" data-fullscreen aria-label="fullscreen"></button>\n    '),this.btnFullscreen=this.mediaControl.$el.find(".media-control-right-panel [data-fullscreen]"),this.btnFullscreen.on("click",function(){return e.onClickFullscreen()}),this.setShrinkOrExpandIcon(),this}},{key:"name",get:function(){return"fullscreen-placeholder"}},{key:"mediaControl",get:function(){return this.core.mediaControl}}]),e}();rr.type="core";o(230);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),e}function ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pr=function(){function n(e){var t;return ir(this,n),(t=ar(this,sr(n).call(this,e)))._markers=[],t._duration=null,t._createInitialMarkers(),t}return ur(n,d["UICorePlugin"]),cr(n,[{key:"name",get:function(){return"cue-points-plugin"}},{key:"attributes",get:function(){return{class:this.name}}}],[{key:"Marker",get:function(){return gr}}]),cr(n,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,d.Events.MEDIACONTROL_RENDERED,this._onMediaControlRendered),this.listenTo(this.core,d.Events.CORE_ACTIVE_CONTAINER_CHANGED,this._onMediaControlContainerChanged),this.listenTo(this.core,"boxcast:cue-points:update-cues",this._onUpdateCues)}},{key:"_bindContainerEvents",value:function(){this._container&&(this.stopListening(this._container,d.Events.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.stopListening(this._container,d.Events.CONTAINER_MEDIACONTROL_SHOW,this._onMediaControlShow)),this._container=this.core.activeContainer,this.listenTo(this._container,d.Events.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.listenTo(this._container,d.Events.CONTAINER_MEDIACONTROL_SHOW,this._onMediaControlShow)}},{key:"_getOptions",value:function(){if(!("cuePointsPlugin"in this.core.options))throw"'cuePointsPlugin' property missing from options object.";return this.core.options.cuePointsPlugin}},{key:"_buildInternalMarker",value:function(e){var t=e.getTooltipEl();return t=t&&Object(d.$)(t),{source:e,emitter:e.getEmitter(),$marker:Object(d.$)(e.getMarkerEl()),markerLeft:null,$tooltip:t,$tooltipContainer:null,tooltipContainerLeft:null,tooltipContainerBottom:null,tooltipChangedHandler:null,time:e.getTime(),timeChangedHandler:null,onDestroy:e.onDestroy}}},{key:"_createInitialMarkers",value:function(){var t=this,e=(this._getOptions().cues||[]).map(function(e){return new gr(O.Clock.formattedToSeconds(e.playback_start_time_fmt),e.name)});this._markers=[],e.forEach(function(e){t._markers.push(t._buildInternalMarker(e))}),this._markers.forEach(function(e){t._createMarkerEl(e)}),this._renderMarkers()}},{key:"_createMarkerEl",value:function(t){var n=this,e=t.$marker;t.timeChangedHandler=function(){n._updateMarkerTime(t)},t.emitter.on("timeChanged",t.timeChangedHandler),e.click(function(e){n._container.seek(t.time),e.preventDefault(),e.stopImmediatePropagation()}),this._$markers.append(e);var r=t.$tooltip;if(r){var o=Object(d.$)("<div />").addClass("tooltip-container");(t.$tooltipContainer=o).append(r),this._$tooltips.append(o),t.tooltipChangedHandler=function(){n._updateTooltipPosition(t)},t.emitter.on("tooltipChanged",t.tooltipChangedHandler),this._updateTooltipPosition(t)}}},{key:"_updateMarkerTime",value:function(e){e.time=e.source.getTime(),this._renderMarkers()}},{key:"_updateTooltipPosition",value:function(e){if(this._mediaControlContainerLoaded&&this._duration){var t=e.$tooltipContainer;if(t){var n=this._getOptions().tooltipBottomMargin||17,r=t.width(),o=this._$tooltips.width(),i=o*(e.time/this._duration)-r/2;i=Math.max(0,Math.min(i,o-r)),n===e.tooltipContainerBottom&&i===e.tooltipContainerLeft||(t.css({bottom:n+"px",left:i+"px"}),e.tooltipContainerBottom=n,e.tooltipContainerLeft=i)}}}},{key:"_onMediaControlRendered",value:function(){this._appendElToMediaControl()}},{key:"_updateDuration",value:function(){this._duration=this._container.getDuration()||null}},{key:"_onMediaControlContainerChanged",value:function(){this._bindContainerEvents(),this._mediaControlContainerLoaded=!0,this._updateDuration(),this._renderMarkers()}},{key:"_onTimeUpdate",value:function(){this._updateDuration(),this._renderMarkers()}},{key:"_onMediaControlShow",value:function(){this._renderMarkers()}},{key:"_onUpdateCues",value:function(e){this.destroy(),this._$markers.remove(),this._$tooltips.remove(),this.render(),this._getOptions().cues=e,this._createInitialMarkers()}},{key:"_renderMarkers",value:function(){var r=this;this._mediaControlContainerLoaded&&this._duration&&this._markers.forEach(function(e){var t=e.$marker,n=Math.min(Math.max(e.time/r._duration*100,0),100);e.markerLeft!==n&&(t.css("left",n+"%"),e.markerLeft=n),r._updateTooltipPosition(e)})}},{key:"_appendElToMediaControl",value:function(){this.core.mediaControl.$el.find(".bar-container").first().append(this.el)}},{key:"render",value:function(){this._$markers=Object(d.$)("<div />").addClass("cue-points-plugin-markers"),this._$tooltips=Object(d.$)("<div />").addClass("cue-points-plugin-tooltips");var e=Object(d.$)(this.el);return e.append(this._$markers),e.append(this._$tooltips),this._appendElToMediaControl(),this}},{key:"destroy",value:function(){this._markers.forEach(function(e){e.tooltipChangedHandler&&e.emitter.clear(),e.onDestroy()}),this._markers=[]}}]),n}(),hr=function(){function e(){ir(this,e),this._subs={}}return cr(e,[{key:"on",value:function(e,t){this._subs[e]||(this._subs[e]=[]),this._subs[e].push(t)}},{key:"emit",value:function(e){(this._subs[e]||[]).forEach(function(e){return setTimeout(e,0)})}},{key:"clear",value:function(){this._subs={}}}]),e}(),fr=function(){function e(){ir(this,e),this._emitter=new hr({})}return cr(e,[{key:"getEmitter",value:function(){return this._emitter}},{key:"notifyTimeChanged",value:function(){this._emitter.emit("timeChanged")}},{key:"notifyTooltipChanged",value:function(){this._emitter.emit("tooltipChanged")}},{key:"getTime",value:function(){throw"Not implemented!"}},{key:"getMarkerEl",value:function(){throw"Not implemented!"}},{key:"getTooltipEl",value:function(){throw"Not implemented!"}},{key:"onDestroy",value:function(){}}]),e}(),mr=function(){function n(e){var t;return ir(this,n),(t=ar(this,sr(n).call(this)))._time=e,t._$marker=t._buildMarkerEl(),t._$tooltip=null,t}return ur(n,fr),cr(n,[{key:"getTime",value:function(){return this._time}},{key:"setTime",value:function(e){this._time=e,this.notifyTimeChanged()}},{key:"getMarkerEl",value:function(){return this._$marker}},{key:"getTooltipEl",value:function(){return this._$tooltip}},{key:"_buildMarkerEl",value:function(){var e=Object(d.$)("<div />").addClass("standard-marker");return e.append(Object(d.$)("<div />").addClass("standard-marker-inner")),e}},{key:"_setTooltipEl",value:function(e){if(this._$tooltip)throw new Error("Tooltip can only be set once.");this._$tooltip=e,this._addListenersForTooltip()}},{key:"_addListenersForTooltip",value:function(){var e=this;if(this._$tooltip){var t=this._$marker,n=!1;t.bind("mouseover",function(){n||(n=!0,e._$tooltip.attr("data-show","1"),e.notifyTooltipChanged())}),t.bind("mouseout",function(){n&&(n=!1,e._$tooltip.attr("data-show","0"))})}}}]),n}(),gr=function(){function r(e,t){var n;return ir(this,r),(n=ar(this,sr(r).call(this,e)))._tooltipText=t||null,n._tooltipText&&n._setTooltipEl(n._buildTooltipEl()),n}return ur(r,mr),cr(r,[{key:"_buildTooltipEl",value:function(){return Object(d.$)("<div />").addClass("standard-tooltip").text(this._tooltipText)}}]),r}();function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Er=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),br(this,_r(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(e,y.a.UICorePlugin),function(e,t,n){t&&vr(e.prototype,t),n&&vr(e,n)}(e,[{key:"bindEvents",value:function(){var e=this;this.core.isReady?this._bindPlaybackEvents():this.listenTo(this.core,y.a.Events.CORE_READY,function(){return e._bindPlaybackEvents()})}},{key:"_bindPlaybackEvents",value:function(){var t=this;this.listenTo(this.playback,"custom:autoplay:muted",function(){return t._show()}),this.listenTo(this.container,y.a.Events.CONTAINER_VOLUME,function(e){return t._onVolumeUpdate(e)})}},{key:"_show",value:function(){var e=this;this._rendered?this.$button.show():(this.core.$el.append(this.template({})),this.$button=this.core.$el.find("[data-tap-to-unmute] button"),this.$button.on("click",function(){return e._onTapToUnmute()}),this._rendered=!0)}},{key:"_onVolumeUpdate",value:function(e){0<e&&this._hide()}},{key:"_onTapToUnmute",value:function(){this.core.setVolume(100),this._hide()}},{key:"_hide",value:function(){this._rendered&&this.$button.hide()}},{key:"name",get:function(){return"tap_to_unmute"}},{key:"template",get:function(){return y.a.template('<div data-tap-to-unmute><button type="button">Tap To Unmute</button></div>')}},{key:"container",get:function(){return this.core&&this.core.activeContainer}},{key:"playback",get:function(){return this.core&&this.core.activePlayback}}]),e}();function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Er.type="core";var Cr=O.Logger.getInstance("player"),Pr=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Tr(this,wr(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(e,y.a.Poster),function(e,t,n){t&&xr(e.prototype,t),n&&xr(e,n)}(e,[{key:"template",get:function(){return y.a.template('<button type="button" aria-label="Play Video" class="play-wrapper" data-poster style="background:none;border:none;display:block;flex:1;"></button>')}}]),e}();Pr.type="container";var jr=j.a.createClass({displayName:"player",propTypes:{broadcast:j.a.PropTypes.object,broadcastView:j.a.PropTypes.object,autoplay:j.a.PropTypes.oneOf([!0,!1,"try-muted"]),loop:j.a.PropTypes.bool},contextTypes:{userArgs:j.a.PropTypes.object,model:j.a.PropTypes.object,env:j.a.PropTypes.func},refluxModelListeners:{Actions:[{on:"WatchBroadcastAgain",trigger:"onWatchBroadcastAgain"},{on:"OpenPaymentModal",trigger:"onOpenPaymentModal"},{on:"SeekTo",trigger:"onSeekTo"},{on:"ContentSettingsChanged",trigger:"onContentSettingsChanged"}]},mixins:[te],lastPlaylist:null,shouldComponentUpdate:function(e,t){var n=!1;return e.broadcastView&&this.lastPlaylist&&(n=e.broadcastView.playlist==this.lastPlaylist),this.props=e,this.state=t,n||(Cr.log("Switching playlists from ",this.lastPlaylist,"to",(this.props.broadcastView||{}).playlist),this.changeBroadcast(e.broadcast,e.broadcastView)),this.lastPlaylist=(this.props.broadcastView||{}).playlist,!1},componentDidMount:function(){Cr.log("Player#componentDidMount()",this.props),this.changeBroadcast(this.props.broadcast,this.props.broadcastView),this.lastPlaylist=(this.props.broadcastView||{}).playlist},componentWillUnmount:function(){Cr.log("Player#componentWillUnmount()"),this.unmounted=!0,this.seekTimeout&&clearTimeout(this.seekTimeout);try{this.destroyPlayer()}catch(e){Cr.error(e)}},destroyPlayer:function(){var e=this.context.model.SelectedBroadcastStore;if(this.player&&this.player.destroy){try{this.analytics.detach()}catch(e){console.error(e)}try{this.watchdog.detach()}catch(e){console.error(e)}try{this.player.destroy()}catch(e){console.error(e)}}this.player=null,e.playing=!1},changeBroadcast:function(e,t){var r=this,n=this.context.model,o=n.SelectedBroadcastStore,i=n.PlaybackStore;if(Cr.log("Player#changeBroadcast()",e.name,t.playlist),this.player&&(this.destroyPlayer(),this.player=null),e&&t&&t.playlist){var a=this.props.autoplay,s="live"==t.status;o.autoplay?a=!0:!1===this.props.autoplay?a=!1:s&&(a=!0);var l="audio"==e.transcoder_profile,c=!l;this.context.userArgs.alwaysShowMediaControl&&(c=!1);var u={core:[pn,Ot,Er,An],container:[Pr]};l||s||this.context.userArgs.chromeless||u.core.push(Cn),this.context.userArgs.showSocialShare&&!e.is_private&&u.core.push(Bn),this.context.userArgs.plugins&&this.context.userArgs.plugins.fullscreenPlaceholder&&u.core.push(rr),this.context.userArgs.clapprPlugins&&(u.core=u.core.concat(this.context.userArgs.clapprPlugins)),(this.context.model.UserArgsStore.embed_branded||(t.settings||{}).embed_branded)&&u.core.push(Yn),u.core.push(pr);var d={tooltipBottomMargin:25,cues:(t.settings||{}).cues||[]},p="";p=this.props.customPoster?this.props.customPoster:l?e.preview:(e.content_settings||{}).preview?e.content_settings.preview:e.poster;var h={parent:this.refs.player,source:t.playlist,width:"100%",height:"100%",cuePointsPlugin:d,playback:{playInline:this.context.userArgs.playInline?"true":void 0,poster:p,preload:"metadata",hlsjsConfig:{enableWorker:!0,manifestLoadingMaxRetry:50,levelLoadingMaxRetry:50,fragLoadingMaxRetry:50,autoStartLoad:!0,startFragPrefetch:!0,maxBufferHole:2,maxSeekHole:2,stretchShortVideoTrack:!1,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0,maxBufferLength:30,maxBufferSize:3e6}},baseUrl:this.context.env("assetBase"),poster:p,chromeless:this.context.userArgs.chromeless,loop:this.props.loop,audioOnly:l,hideMediaControl:c,autoSeekFromUrl:!1,disableVideoTagContextMenu:!0,exitFullscreenOnEnd:!0,playbackNotSupportedMessage:"",scrubThumbnails:{backdropHeight:47.5,spotlightHeight:95,maxThumbs:72,thumbnailUrlTemplate:e.thumbnail_url_template},socialSharing:{onShow:function(){r.context.model.Actions.ShowShareMenu(),r.player&&r.player.pause()}},fullscreenPlaceholder:(this.context.userArgs.plugins||{}).fullscreenPlaceholder,plugins:u};if(o.timeLimitedPreview?Cr.log("Time-limited preview. Disabling Chromecast."):o.view.playlist?(h.plugins.core.push(vt.a),h.chromecast={appId:this.context.env("chromecastReceiverAppID"),customNamespace:"boxcast",media:{title:e.name||"",subtitle:e.description||""},customData:{type:"BOXCAST_METADATA",data:this.getChromecastMetadata()},poster:"".concat(this.context.env("assetBase"),"/chromecast-playing.png")}):Cr.log("View playlist not avaiable. Disabling Chromecast."),this.context.userArgs.debug&&(y.a.Log.setLevel(y.a.Log.LEVEL_WARN),h.playback.hlsjsConfig.debug=!0),this.context.userArgs.dvr&&(this.context.userArgs.greedyBuffer&&(Cr.warn("Turning on DVR mode hls.js settings"),h.playback.hlsjsConfig.maxBufferLength=600,h.playback.hlsjsConfig.manifestLoadingMaxRetry=600,t.settings&&t.settings.p2p_enabled&&(t.settings.p2p_enabled=!1)),i.isSameAsLastPlayed(e)&&i.getStateForBroadcast(e,"dvrInUse"))){var f=i.getStateForBroadcast(e,"lastTime")||0,m=i.getStateForBroadcast(e,"totalTime")||0,g=i.getStateForBroadcast(e,"lastTimeUpdatedAt")||0;Cr.info("Will transition live DVR",{lastTime:f,lastDuration:m,lastTimeUpdatedAt:g},e),delete h.poster,a=!0,this.player=new y.a.Player(h),this.player.core.getCurrentPlayback().once("playback:loadedmetadata",function(){var e=r.player.getDuration();if(f&&m&&e){var t=m-f,n=Math.min(((new Date).getTime()-g)/1e3,10);r.player.seek(Math.max(0,e-t-n))}else f&&r.player.seek(f)})}this.context.userArgs.clapprConfig&&(h=O.Util.mergeDict(h,this.context.userArgs.clapprConfig)),this.context.userArgs.hlsjsConfig&&(h.playback.hlsjsConfig=O.Util.mergeDict(h.playback.hlsjsConfig,this.context.userArgs.hlsjsConfig)),this.player?this.onPlayerReady(this.player,a,s):this.makePlayer(h,t).then(function(e){r.onPlayerReady(e,a,s)})}else Cr.warn("No broadcast to load, not creating player")},makePlayer:function(t,e){var n=this;return this.context.userArgs.p2p_enabled||e.settings&&e.settings.p2p_enabled?jt(500).then(function(e){if(!n.unmounted)return Cr.log("Loading player with peer5 support",e),n.context.userArgs.debug&&e.setLogLevel(1e6),new y.a.Player(t)}).catch(function(e){if(!n.unmounted)return"browser_not_supported"!=e&&Cr.error("Unable to load peer5 plugin:",e),new m.a(function(e){return e(new y.a.Player(t))})}):new m.a(function(e){return e(new y.a.Player(t))})},onPlayerReady:function(e,t,n){var r=this;if(!this.unmounted){var o=this.context.model.SelectedBroadcastStore;this.player=e,function(n,r){var e=n.core.getCurrentPlayback();if(e&&"hls"==e.name){var o=e._hls;if(o||(e._setup(),o=e._hls),r.startAtHighestQuality?o.on("hlsManifestParsed",function(e,t){o.startLevel=t.levels.length-1,o.startLoad(),r.autoplay&&At(n,r.autoplay)}):(o.startLevel=-1,o.startLoad(),r.autoplay&&At(n,r.autoplay)),r.isLive&&!r.autoplay){var t=Date.now();n.listenToOnce(n,"play",function(){6e3<Date.now()-t&&setTimeout(function(){return n.seekPercentage(100)},50)})}}else r.autoplay&&At(n,r.autoplay)}(this.player,{autoplay:t,startAtHighestQuality:o.selectedHighlight,isLive:n}),this.analytics&&this.analytics.detach(),this.watchdog&&this.watchdog.detach(),this.analytics=new wt(this.player,this.context.model,this.context.env),this.watchdog=new Pt(this.player,this.context.model),this.context.model.player=this.player,this.context.model.analytics=this.analytics,this.context.model.watchdog=this.watchdog,this.context.userArgs.onPlayerStateChanged&&(["play","seek","pause","stop","ended"].forEach(function(t){r.player.on(t,function(e){return r.context.userArgs.onPlayerStateChanged(t,e)})}),["error","buffering","dvr"].forEach(function(t){e.core.getCurrentPlayback().on("playback:".concat(t),function(e){return r.context.userArgs.onPlayerStateChanged(t,e)})})),this.context.userArgs.onLoadPlayer&&setTimeout(function(){return r.context.userArgs.onLoadPlayer(r.player)},0)}},getChromecastMetadata:function(){var e=this.context.model,t=e.SelectedBroadcastStore,n=e.CurrentChannelStore,r=e.UserArgsStore,o=t.view.status||"",i=0<=o.indexOf("live")||0<=o.indexOf("stalled")||0<=o.indexOf("prepared"),a={account_id:t.broadcast.account_id,is_live:i,channel_id:n.id,ticket_id:t.ticket||n.ticket||null,remote_ip:u.a.get("clientRemoteIP"),host:r.hostname||window.location.hostname};return t.selectedHighlight?a.highlight_id=t.selectedHighlight.id:a.broadcast_id=t.broadcast.id,a},onSeekTo:function(e){var t=this;this.player?("flashls"==(this.player.core.getCurrentPlayback()||{}).name?this.player.isPlaying()?this.player.seek(e):(this.player.play(),this.seekTimeout=setTimeout(function(){return t.onSeekTo(e)},1e3)):(this.player.seek(e),this.player.play()),this.player.core.mediaControl.show()):Cr.warn("Player is not ready; cannot seek")},onOpenPaymentModal:function(){this.player&&this.player.pause()},onWatchBroadcastAgain:function(e){e?(Cr.log("Attempting to forcefully destroy and re-watch broadcast with same time"),this.changeBroadcast(this.props.broadcast,this.props.broadcastView)):this.player.play()},onContentSettingsChanged:function(e){this.player&&this.player.core.trigger("boxcast:cue-points:update-cues",e.cues||[])},render:function(){return j.a.createElement("div",null,j.a.createElement("div",{ref:"player"}))}}),Or=(O.Logger.getInstance("components"),j.a.createClass({displayName:"BoxOffice",propTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object},refluxModelListeners:{CurrentChannelStore:"onStoreChanged",SelectedBroadcastStore:"onStoreChanged",TicketStore:"onStoreChanged",UserArgsStore:"onStoreChanged",GeoBlockStore:"onStoreChanged",PasswordBlockStore:"onStoreChanged",Actions:[{on:"SelectBroadcast",trigger:"onSelectBroadcast"}]},mixins:[ee,te,re],childContextTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,m:j.a.PropTypes.func,env:j.a.PropTypes.func},getChildContext:function(){return{model:this.props.model,userArgs:this.props.userArgs,m:this.m,env:this.env}},m:function(){return J.b.factory(this.props.userArgs.messages).apply(void 0,arguments)},env:function(e){return u.a.factory(this.props.userArgs.env)(e)},getDefaultProps:function(){return{model:{},userArgs:{}}},getInitialState:function(){var e=this.props.model,t=e.SelectedBroadcastStore,n=e.CurrentChannelStore,r=e.TicketStore,o=e.PlaylistStore,i=e.UserArgsStore,a=e.GeoBlockStore,s=e.PasswordBlockStore;(t.broadcast||{}).content_settings;return{broadcast:t.broadcast,view:t.view,highlights:t.highlights,selectedHighlight:t.selectedHighlight,isLoading:!!(t.loading||n.loading||r.loading||o.loading),blockEverything:r.loading,paymentModalOpen:r.modalOpen,isPreviewExpired:t.timeLimitedPreviewExpired,freeVariant:t.freeVariant,isPreview:t.timeLimitedPreview,ended:t.ended,channelId:n.id,poster:i.preview||i.poster,customPreroll:i.customPreroll,hidePreBroadcastTextOverlay:i.hidePreBroadcastTextOverlay,isGeoBlockLoading:a.isLoading,isGeoBlockResticted:a.isRestricted,isPasswordBlockRestricted:s.isRestricted,isBlocked:t.isBlocked()}},onStoreChanged:function(){this.setState(this.getInitialState()),this.initBoxOfficeReloadMixin()},onSelectBroadcast:function(e,t){if(this.initBoxOfficeReloadMixin(),t&&t.fromPlaylist){var n=a.a.findDOMNode(this.refs.playerElement);Object(Z.animateIntoView)(n,500)}},renderPlayer:function(e){var t,n,r,o,i,a=this.state,s=a.broadcast,l=a.view,c=a.selectedHighlight,u=a.isPreviewExpired,d=a.isGeoBlockLoading,p=a.isGeoBlockResticted,h=a.isPasswordBlockRestricted,f=a.freeVariant,m=a.poster,g=a.customPreroll,y=a.hidePreBroadcastTextOverlay,v=a.isBlocked,b=this.props.userArgs;d||p||h?t=!1:u&&!f?t=!1:l&&l.playlist?(t=!0,n=c||s,r=l,o=b.autoplay):g?(n=c||s,r={playlist:g},i=o=t=!0):t=!1;var _=h;return!y||"future"!=s.timeframe&&"preroll"!=s.timeframe||(_=!0),v?j.a.createElement("div",{className:"boxcast-player-wrapper"},j.a.createElement("div",{className:"boxcast-player-inner"},j.a.createElement("h3",null,"This account is not eligible to broadcast."))):j.a.createElement("div",{className:"boxcast-player-wrapper"},j.a.createElement("div",{className:"boxcast-player-inner",style:e},t?j.a.createElement(jr,{broadcast:n,broadcastView:r,autoplay:o,customPoster:m,loop:i}):null,h?j.a.createElement(gt,null):null),_?null:j.a.createElement(Ae,null),this.renderLoading(),this.renderEnded())},renderLoading:function(){var e=this.state.isLoading;return j.a.createElement(Q.a,{transitionName:"boxcast-loader-react-transition",transitionEnter:!1,transitionLeaveTimeout:300},e?j.a.createElement("div",{key:"box-office-loading",className:"boxcast-loader-overlay"},j.a.createElement("div",{className:"boxcast-loader"},"Loading...")):j.a.createElement("span",{key:"box-office-not-loading"}))},renderEnded:function(){return this.state.ended&&this.state.selectedHighlight?j.a.createElement(mt,{showSocialShare:this.props.userArgs.showSocialShare,broadcast:this.state.broadcast,channelId:this.state.channelId}):j.a.createElement("span",null)},renderPaymentModal:function(){var e=this.state,t=e.isPreview,n=e.paymentModalOpen;if(t||n)return j.a.createElement(Pe,null)},renderBlockEverything:function(){return this.state.blockEverything?j.a.createElement("div",{className:"boxcast-block-everything"}):j.a.createElement("span",null)},render:function(){var e=this.props.userArgs,t=this.state,n=t.componentWidthDesc,r=t.poster,o={};r&&(o.backgroundImage='url("'.concat(r,'")'),o.backgroundSize="cover",o.backgroundRepeat="no-repeat",o.backgroundPosition="50% 50%");var i=(e.aspectRatio||"16:9").replace(":","_"),a=["boxcast-boxoffice","boxcast-theme-".concat(e.theme||"light"),"boxcast-ar-".concat(i),"boxcast-size-".concat(n)].join(" ");return"playlist-to-right"==e.layout?this.renderWithPlaylistToRight(a,o):this.renderWithTitlePlaylistSideBySide(a,o)},renderWithTitlePlaylistSideBySide:function(e,t){var n=this.props.userArgs;return j.a.createElement("div",{className:e},j.a.createElement("div",{className:"boxcast-player-container",ref:"playerElement"},this.renderPlayer(t)),j.a.createElement("div",{className:"boxcast-well-container"},j.a.createElement(ft,{showHighlights:n.showHighlights}),n.showIndex||n.showDocuments?j.a.createElement(Je,null):j.a.createElement("span",null),n.showRelated?j.a.createElement(qe,null):j.a.createElement("span",null)),this.renderPaymentModal(),this.renderBlockEverything())},renderWithPlaylistToRight:function(e,t){var n=this.props.userArgs;return j.a.createElement("div",{className:e},j.a.createElement("div",{className:"boxcast-with-playlist-to-right"},j.a.createElement("div",{className:"boxcast-well-container boxcast-with-playlist-to-right-col-1"},j.a.createElement("div",{className:"boxcast-player-container",ref:"playerElement"},this.renderPlayer(t)),j.a.createElement(ft,{showHighlights:!1})),j.a.createElement("div",{className:"boxcast-well-container boxcast-with-playlist-to-right-col-2"},this.state.highlights.length?j.a.createElement("div",{className:"boxcast-well"},j.a.createElement("div",{className:"boxcast-well-title"},j.a.createElement("h3",null,"Highlights")),j.a.createElement(ht,{title:null,highlights:this.state.highlights})):j.a.createElement("span",null),n.showIndex||n.showDocuments?j.a.createElement(Je,null):j.a.createElement("span",null),n.showRelated?j.a.createElement(qe,null):j.a.createElement("span",null)),this.renderPaymentModal(),this.renderBlockEverything()))}})),Rr=(j.a.createClass({displayName:"UpNextOverlay",contextTypes:{model:j.a.PropTypes.object,m:j.a.PropTypes.func},mixins:[te],refluxModelListeners:{SelectedBroadcastStore:"onStoreChanged"},getInitialState:function(){return{ended:this.context.model.SelectedBroadcastStore.ended,timer:this.state&&this.state.timer||5}},onStoreChanged:function(){var e=this;this.setState(this.getInitialState()),this.state.ended&&!this._interval?this._interval=setInterval(function(){e.setState({timer:Math.max(0,e.state.timer-1)}),e.state.timer<=0&&(e._playNextHighlight(),clearInterval(e._interval))},1e3):this.state.ended||(clearInterval(this._interval),this._interval=void 0,this.state.timer=5)},componentWillUnmount:function(){clearInterval(this._interval)},_getNextHighlight:function(){var e=this.context.model,t=e.HighlightListStore,n=e.SelectedBroadcastStore.selectedHighlight;return t.getNextHighlightAfter(n)},_playNextHighlight:function(){var e=this.context.model,t=e.Actions,n=(e.SelectedBroadcastStore,this._getNextHighlight());n&&t.PlayHighlight(n)},render:function(){var e=this,t=this.state,n=t.ended,r=t.timer,o=this.context.model,i=o.Actions,a=(o.SelectedBroadcastStore,this.context.m,this._getNextHighlight());return n&&a?j.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0}},j.a.createElement("div",{style:{background:"rgba(0,0,0,0.5)",padding:"30px"}},j.a.createElement("div",{style:{float:"left",marginRight:"20px"}},j.a.createElement("a",{href:"javascript://",onClick:function(){return e._playNextHighlight()},style:{border:"none"}},j.a.createElement("img",{src:a.preview,alt:"Play Next",style:{height:"75px",border:"3px solid rgba(255,255,255,0.8)"}}))),j.a.createElement("div",{style:{float:"left"}},j.a.createElement("p",{style:{color:"#ccc"}},j.a.createElement("em",null,"Up next (",r," sec)...")),j.a.createElement("h3",null,j.a.createElement("a",{href:"javascript://",onClick:function(){return i.PlayHighlight(a)},style:{border:"none"}},a.name))),j.a.createElement("div",{style:{clear:"both"}}))):j.a.createElement("span",null)}}),O.Logger.getInstance("components"),j.a.createClass({displayName:"HighlightLayout",propTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,showList:j.a.PropTypes.bool},refluxModelListeners:{HighlightListStore:"onStoreChanged",CurrentChannelStore:"onStoreChanged",SelectedBroadcastStore:"onStoreChanged",Actions:[{on:"SelectBroadcast",trigger:"onSelectBroadcast"},{on:"PlayHighlight",trigger:"onSelectBroadcast"}]},mixins:[ee,te,re],childContextTypes:{model:j.a.PropTypes.object,userArgs:j.a.PropTypes.object,m:j.a.PropTypes.func,env:j.a.PropTypes.func},getChildContext:function(){return{model:this.props.model,userArgs:this.props.userArgs,m:this.m,env:this.env}},m:function(){return J.b.factory(this.props.userArgs.messages).apply(void 0,arguments)},env:function(e){return u.a.factory(this.props.userArgs.env)(e)},getDefaultProps:function(){return{model:{},userArgs:{}}},getInitialState:function(){var e=this.props.model,t=e.SelectedBroadcastStore,n=e.CurrentChannelStore,r=e.HighlightListStore,o=null;if(null==t.selectedHighlight){var i=this.state||{};o=i.selectedHighlight||i.lastSelectedHighlight}return{channelId:r.channelId,broadcast:t.broadcast,view:t.view,highlightsByBroadcast:r.highlightsByBroadcast,highlights:r.highlights,selectedHighlight:t.selectedHighlight,pagination:r.pagination,isLoading:!!(t.loading||n.loading||r.loading),ended:t.ended,lastSelectedHighlight:o}},onStoreChanged:function(){this.setState(this.getInitialState()),this.initBoxOfficeReloadMixin()},onSelectBroadcast:function(){this.initBoxOfficeReloadMixin()},renderPlayer:function(){var e=this.state,t=e.broadcast,n=e.view,r=e.selectedHighlight,o=this.props.userArgs;return n&&n.playlist?j.a.createElement(jr,{broadcast:r||t,broadcastView:n,autoplay:o.autoplay||this._autoplayOnNext,customPoster:o.poster,ref:"playerElement"}):j.a.createElement("span",null)},renderLoading:function(){var e=this.state.isLoading;return j.a.createElement(Q.a,{transitionName:"boxcast-loader-react-transition",transitionEnter:!1,transitionLeaveTimeout:300},e?j.a.createElement("div",{key:"box-office-loading",className:"boxcast-loader-overlay"},j.a.createElement("div",{className:"boxcast-loader"})):j.a.createElement("span",{key:"box-office-not-loading"}))},render:function(){var e=this.props,t=e.userArgs,n=e.model,r=e.showList,o=this.state,i=(o.selectedHighlight,o.broadcast,o.componentWidthDesc),a=o.highlights,s=o.pagination,l=o.isLoading,c=n.Actions,u={};t.poster&&(u.backgroundImage='url("'.concat(t.poster,'")'),u.backgroundSize="cover",u.backgroundRepeat="no-repeat",u.backgroundPosition="50% 50%");var d=(t.aspectRatio||"16:9").replace(":","_"),p=["boxcast-boxoffice","boxcast-theme-".concat(t.theme||"light"),"boxcast-ar-".concat(d),"boxcast-size-".concat(i)].join(" ");return r?j.a.createElement("div",{className:p},l||a.length?this.renderHighlightsGrid(a):j.a.createElement("h4",null,"No highlights were found"),s.next?j.a.createElement("button",{type:"button",disabled:l,onClick:function(){return!l&&c.LoadMoreHighlights()}},l?"Loading...":"Load More"):j.a.createElement("span",null)):j.a.createElement("div",{className:p},j.a.createElement("div",{className:"boxcast-highlights boxcast-highlights-large"},this.renderPlayerWrapper()))},renderHighlightsGrid:function(e){var t=this;return j.a.createElement("div",{className:"boxcast-highlights boxcast-highlights-large"},j.a.createElement("ul",null,e.map(function(e){return t.renderHighlight(e)})))},renderHighlight:function(t){var n=this,e=this.state,r=(e.channelId,e.selectedHighlight),o=e.lastSelectedHighlight,i=(e.broadcast,e.ended,this.props);i.userArgs,i.model;return t===r?j.a.createElement("li",{key:t.id,className:"boxcast-highlight-list-item boxcast-highlight-list-item-playing"},this.renderPlayerWrapper()):!r&&o&&t===o?j.a.createElement("li",{key:t.id,className:"boxcast-highlight-list-item boxcast-highlight-list-item-playing"},this.renderPlayerWrapper()):j.a.createElement("li",{key:t.id,className:"boxcast-highlight-list-item"},j.a.createElement(He,{image:t.preview,duration:O.Clock.durationFormatted(t.duration),onClick:function(e){return n.playHighlight(e,t)}}),j.a.createElement("div",{className:"boxcast-highlights-overlay"},j.a.createElement("h3",null,t.name),j.a.createElement("h5",null,O.Clock.formatRelative(O.Clock.parse(t.streamed_at)),j.a.createElement("span",{style:{opacity:.6}},j.a.createElement(fe,null),"|",j.a.createElement(fe,null)),O.Clock.durationFormatted(t.duration,"hms")),j.a.createElement("h5",null,"From ",t.broadcast_name)))},renderPlayerWrapper:function(){return j.a.createElement("div",{key:"player-container-visible"},j.a.createElement("div",{className:"boxcast-player-container"},j.a.createElement("div",{className:"boxcast-player-wrapper"},j.a.createElement("div",{className:"boxcast-player-inner"},this.renderPlayer()),j.a.createElement(Ae,null),this.renderLoading(),this.renderEnded())))},renderEnded:function(){var e=this.props.userArgs;return this.state.ended?j.a.createElement(mt,{showSocialShare:e.showSocialShare,broadcast:this.state.broadcast,channelId:this.state.channelId}):j.a.createElement("span",null)},playHighlight:function(e,t){var n=this.props.model.Actions;this._autoplayOnNext=!0,e.preventDefault(),n.PlayHighlight(t),_("send","event","highlight","playHighlight")}}));o(232);function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ir=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._selector=e,this._boxcast=t,this._model=null,this._layout=null,this._initialHtml=null}return function(e,t,n){t&&Lr(e.prototype,t),n&&Lr(e,n)}(n,[{key:"loadChannel",value:function(n,r){var o=this;return I("context.loadChannel",[n,r],function(){o._model&&o._layout&&o._el&&(console.warn("Trying to load channel on top of existing channel. Will clear out original."),o.unload()),r=Dr(r),u.a.seed(r);var e=ie.applyRedirectRulesOnLoad(n,r);n=e.channelId,r=e.args,o._model=G(n,r,"channel"),r.debug&&(o._boxcast.debug=!0),o._boxcast.model=o._model;var t=o.load(Or,{userArgs:r||{},model:o._model});return t.then(function(){return o._model&&o._model.Actions.LoadChannel(n,r)}),t})}},{key:"loadHighlights",value:function(t,n){var r=this;return I("context.loadHighlights",[t,n],function(){r._model&&r._layout&&r._el&&(console.warn("Trying to load channel on top of existing channel. Will clear out original."),r.unload()),n=Dr(n),u.a.seed(n),r._model=G(t,n,"highlights"),n.debug&&(r._boxcast.debug=!0),r._boxcast.model=r._model;var e=r.load(Rr,{userArgs:n||{},model:r._model,showList:!0});return e.then(function(){return r._model&&r._model.Actions.LoadHighlights(t,n)}),e})}},{key:"loadHighlight",value:function(t,n){var r=this;return I("context.loadHighlight",[t,n],function(){r._model&&r._layout&&r._el&&(console.warn("Trying to load channel on top of existing channel. Will clear out original."),r.unload()),n=Dr(n),u.a.seed(n),r._model=G(t,n,"highlight"),n.debug&&(r._boxcast.debug=!0),r._boxcast.model=r._model;var e=r.load(Rr,{userArgs:n||{},model:r._model,showList:!1});return e.then(function(){return r._model&&r._model.Actions.LoadHighlight(t,n)}),e})}},{key:"loadLowLatency",value:function(e,t){var r=this;return I("context.loadLowLatency",[e,t],function(){r._model&&r._layout&&r._el&&(console.warn("Trying to load channel on top of existing channel. Will clear out original."),r.unload()),t=Dr(t),u.a.seed(t),r._model={},t.debug&&(r._boxcast.debug=!0),r._boxcast.model=r._model;var n={rtmpUrl:e,userArgs:t||{},model:r._model};return Promise.all([o.e(1),o.e(2)]).then(o.bind(null,241)).then(function(e){var t=e.default;return r.load(t,n)})})}},{key:"loadScoreboard",value:function(){console.error("WARNING: boxcast(...).loadScoreboard has been removed. Please contact support@boxcast.com for assistance.")}},{key:"load",value:function(r,o){var i=document.querySelectorAll(this._selector);return i.length<=0?m.a.reject('selector "'.concat(this._selector,'" did not match any elements')):1<i.length?m.a.reject('selector "'.concat(this._selector,'" matched more than one element')):0<=(i=i[0]).className.indexOf("boxcast-widget")?m.a.reject('selector "'.concat(this._selector,'" has already been loaded')):(this._el=i,this._initialHtml=i.innerHTML,this._layout=r,new m.a(function(e,t){var n=j.a.createElement(r,o);a.a.render(n,i,e)}))}},{key:"unload",value:function(){this._layout&&(a.a.unmountComponentAtNode(this._el),this._layout=void 0),this._model&&(this._model=void 0),this._el&&(this._el.innerHtml=this._initialHtml,this._el.className=this._el.className.replace("boxcast-widget",""),this._el=void 0)}}]),n}();function Dr(e){return void 0===e.dvr&&(e.dvr=!0),e.showAgenda&&(e.showDocuments=!0,e.showIndex=!0),e}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nr,Fr,Br,Ur=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Mr(e.prototype,t),n&&Mr(e,n)}(e,[{key:"previewIcon",value:function(e,t){var n={image:t.broadcast.preview,duration:Object(g.duration)(t.broadcast),timeframe:Object(g.timeframe)(t.broadcast),onClick:function(){return t.onClick&&t.onClick(t.broadcast)}},r=j.a.createElement(He,n);a.a.render(r,e)}}]),e}();function Hr(e){return new Ir(e,Hr)}void 0===(Nr=window).Promise&&(Nr.Promise=m.a),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Hr.version="3.13.28",Hr.renderer=new Ur,Hr.utils=O,Hr.libs={React:j.a,ReactDOM:a.a,Clappr:y.a,Reflux:c.a},Hr.getBroadcast=function(e){return p.get("/broadcasts/".concat(e))},Hr.getChannelBroadcasts=function(e,t){return p.get("/channels/".concat(e,"/broadcasts"),t)},Hr.getBroadcastHighlights=function(e,t){return p.get("/broadcasts/".concat(e,"/highlights"),t)},Hr.getChannelHighlights=function(e,t){return p.get("/channels/".concat(e,"/highlights"),t)},Hr.noConflict=function(){return window.boxcast=Fr,Hr},Br=window,Fr=Br.boxcast,Br.boxcast=Hr;t.default=Hr}]).default;
